# Logfile created on Mon Oct 09 12:47:00 -0300 2017  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 12:47:02) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:47:03' AND ends_at >= '2017-10-09 15:47:03') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.5ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 389ms (View: 230, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:47:09) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (18.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (2.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (12.6ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (1.6ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.7ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (8.4ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.7ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (24.6ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (1.0ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.8ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (7.0ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:47:09' AND ends_at >= '2017-10-09 15:47:09') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 382ms (View: 139, DB: 78) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:47:14) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"2772"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (46.4ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (42.9ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (59.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (59.8ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mNota Load (51.8ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (7.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (49.7ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (50.6ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.5ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.7ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.5ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.6ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.6ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.6ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (4.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (124.8ms)
Rendered historicos/_observacoes (1.0ms)
Rendered historicos/_form_observacao (2.9ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:47:14' AND ends_at >= '2017-10-09 15:47:14') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 864ms (View: 159, DB: 397) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 12:47:15) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 12:47:43) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (2.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:47:43' AND ends_at >= '2017-10-09 15:47:43') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 154ms (View: 37, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:47:46) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:47:46' AND ends_at >= '2017-10-09 15:47:46') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 290ms (View: 119, DB: 9) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 12:48:49) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (6.2ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:48:49' AND ends_at >= '2017-10-09 15:48:49') [0m
  [4;35;1mInformativo Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 291ms (View: 246, DB: 10) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:48:52) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (18.6ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:48:55' AND ends_at >= '2017-10-09 15:48:55') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 3005ms (View: 230, DB: 13) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:49:02) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (48.7ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (43.5ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (63.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (61.3ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mNota Load (58.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (8.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (54.0ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (51.8ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mClasse Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;36;1mDisciplina Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (177.1ms)
Rendered historicos/_observacoes (1.7ms)
Rendered historicos/_form_observacao (4.8ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:49:10' AND ends_at >= '2017-10-09 15:49:10') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 7348ms (View: 273, DB: 413) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 12:49:10) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#resultado_final (for 127.0.0.1 at 2017-10-09 12:49:17) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/resultado_final
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:49:17' AND ends_at >= '2017-10-09 15:49:17') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 393ms (View: 154, DB: 12) | 200 OK [http://localhost/resultado_final]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:49:21) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (5.4ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:49:23' AND ends_at >= '2017-10-09 15:49:23') [0m
  [4;36;1mInformativo Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 2212ms (View: 100, DB: 10) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:49:29) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (1.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.7ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;35;1mAluno Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (46.6ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;35;1mDisciplina Load (43.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;36;1mNota Load (58.9ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (61.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=16726 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mNota Load (58.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (2.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (51.8ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (54.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 12:53:06) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.8ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:53:06' AND ends_at >= '2017-10-09 15:53:06') [0m
  [4;35;1mInformativo Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 316ms (View: 271, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:53:09) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (22.5ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:53:12' AND ends_at >= '2017-10-09 15:53:12') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 2548ms (View: 257, DB: 14) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:53:19) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:15:36) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (6.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:15:36' AND ends_at >= '2017-10-09 17:15:36') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.5ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 438ms (View: 320, DB: 14) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing JavascriptsController#hide_announcement (for 127.0.0.1 at 2017-10-09 14:15:39) [POST]
  Parameters: {"authenticity_token"=>"+yHXr+hQNYwQtnXWfkgdBeih/q/j4m4ZfLAswNzJm84="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering javascripts/hide_announcement
Completed in 56ms (View: 31, DB: 2) | 200 OK [http://localhost/javascripts/hide_announcement]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:15:43) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (101.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (2.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (412.9ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (11.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.6ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.6ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (129.6ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (1.5ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (196.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.9ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.8ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (48.6ms)
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:15:47' AND ends_at >= '2017-10-09 17:15:47') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:15:47' AND ends_at >= '2017-10-09 17:15:47') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 3993ms (View: 324, DB: 866) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:18:54) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"2855"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2855') [0m
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.6ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2855) [0m
  [4;36;1mUnidade Load (0.5ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (412.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2855 )[0m
  [4;36;1mDisciplina Load (50.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2855 )[0m
  [4;35;1mNota Load (59.8ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2855 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (62.7ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2855 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (56.4ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2855 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (9.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2855 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (53.0ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2855 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (55.0ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2855) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mDisciplina Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:19:43) [GET]
  Parameters: {"aluno_id"=>"2855", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (5.9ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.6ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2855') [0m
  [4;35;1mAluno Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2855) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2855 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2855 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2855 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2855 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2855 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2855 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2855 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2855) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4834) [0m
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4834) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4834) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4834) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (70.8ms)
Rendered historicos/_observacoes (22.5ms)
Rendered historicos/_form_observacao (17.5ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:19:52' AND ends_at >= '2017-10-09 17:19:52') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:19:52' AND ends_at >= '2017-10-09 17:19:52') [0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 9326ms (View: 382, DB: 29) | 200 OK [http://localhost/historico?aluno_id=2855&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:19:53) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.9ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:19:53' AND ends_at >= '2017-10-09 17:19:53') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:19:53' AND ends_at >= '2017-10-09 17:19:53') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 262ms (View: 96, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:19:53) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2855.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:19:57) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (5.0ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:19:59' AND ends_at >= '2017-10-09 17:19:59') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:19:59' AND ends_at >= '2017-10-09 17:19:59') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 2689ms (View: 91, DB: 11) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:20:06) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (2.9ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.7ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (48.9ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (43.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (59.8ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (58.6ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mDisciplina Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mNota Load (57.5ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (2.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (55.7ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (51.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:23:26) [GET]
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (2.2ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:23:26' AND ends_at >= '2017-10-09 17:23:26') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:23:26' AND ends_at >= '2017-10-09 17:23:26') [0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 293ms (View: 210, DB: 9) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:23:30) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (19.3ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:23:33' AND ends_at >= '2017-10-09 17:23:33') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:23:33' AND ends_at >= '2017-10-09 17:23:33') [0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 3193ms (View: 237, DB: 12) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:23:41) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.7ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (46.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (42.7ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (59.5ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (60.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (51.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (8.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (56.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (49.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (6.6ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (162.0ms)
Rendered historicos/_observacoes (1.7ms)
Rendered historicos/_form_observacao (5.2ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:23:53' AND ends_at >= '2017-10-09 17:23:53') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:23:53' AND ends_at >= '2017-10-09 17:23:53') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 12317ms (View: 243, DB: 396) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:23:54) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:24:29) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:24:29' AND ends_at >= '2017-10-09 17:24:29') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:24:29' AND ends_at >= '2017-10-09 17:24:29') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 288ms (View: 206, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:24:33) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.9ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (20.6ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:24:35' AND ends_at >= '2017-10-09 17:24:35') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:24:35' AND ends_at >= '2017-10-09 17:24:35') [0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 2931ms (View: 238, DB: 11) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:25:23) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:26:03) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:26:03' AND ends_at >= '2017-10-09 17:26:03') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:26:03' AND ends_at >= '2017-10-09 17:26:03') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 280ms (View: 205, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:26:07) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.5ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (18.1ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:26:15' AND ends_at >= '2017-10-09 17:26:15') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:26:15' AND ends_at >= '2017-10-09 17:26:15') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 7627ms (View: 232, DB: 12) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:26:22) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m

NoMethodError (undefined method `nil' for nil:NilClass):
  app/controllers/historicos_controller.rb:200:in `historico'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (135.1ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:26:38) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.9ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.5ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.5ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:27:46) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;35;1mAluno Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mMatricula Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:28:13) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:13' AND ends_at >= '2017-10-09 17:28:13') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:13' AND ends_at >= '2017-10-09 17:28:13') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 300ms (View: 219, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:28:16) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.2ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:16' AND ends_at >= '2017-10-09 17:28:16') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:16' AND ends_at >= '2017-10-09 17:28:16') [0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (4.4ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 458ms (View: 208, DB: 19) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:28:21) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (7.8ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (169.4ms)
Rendered historicos/_observacoes (1.7ms)
Rendered historicos/_form_observacao (5.0ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:33' AND ends_at >= '2017-10-09 17:28:33') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:33' AND ends_at >= '2017-10-09 17:28:33') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 11682ms (View: 260, DB: 25) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:28:33) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:28:37) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (45.0ms)
Rendered historicos/_observacoes (0.3ms)
Rendered historicos/_form_observacao (5.5ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:40' AND ends_at >= '2017-10-09 17:28:40') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:40' AND ends_at >= '2017-10-09 17:28:40') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 3226ms (View: 241, DB: 19) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:28:40) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.5ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (6.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (175.3ms)
Rendered historicos/_observacoes (0.2ms)
Rendered historicos/_form_observacao (10.4ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:43' AND ends_at >= '2017-10-09 17:28:43') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:43' AND ends_at >= '2017-10-09 17:28:43') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 3301ms (View: 284, DB: 25) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:28:44) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.8ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:44' AND ends_at >= '2017-10-09 17:28:44') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:44' AND ends_at >= '2017-10-09 17:28:44') [0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 107ms (View: 73, DB: 6) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:28:44) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:28:44) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:28:56) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:57' AND ends_at >= '2017-10-09 17:28:57') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:57' AND ends_at >= '2017-10-09 17:28:57') [0m
  [4;36;1mroles_users Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 295ms (View: 212, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:29:06) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (18.6ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:29:06' AND ends_at >= '2017-10-09 17:29:06') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:29:06' AND ends_at >= '2017-10-09 17:29:06') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 463ms (View: 214, DB: 12) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:29:51) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (8.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:29:51' AND ends_at >= '2017-10-09 17:29:51') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:29:51' AND ends_at >= '2017-10-09 17:29:51') [0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 302ms (View: 216, DB: 15) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:30:18) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (2.0ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.2ms)
  [4;36;1mInformativo Load (0.8ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:30:18' AND ends_at >= '2017-10-09 17:30:18') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:30:18' AND ends_at >= '2017-10-09 17:30:18') [0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.5ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 499ms (View: 232, DB: 15) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:30:42) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:32:17) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:32:17' AND ends_at >= '2017-10-09 17:32:17') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:32:17' AND ends_at >= '2017-10-09 17:32:17') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 290ms (View: 210, DB: 6) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:41:37) [GET]
Redirected to http://localhost:3000/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 69ms (DB: 0) | 302 Found [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2017-10-09 14:41:37) [GET]
Rendering template within layouts/login
Rendering sessions/new
Completed in 133ms (View: 111, DB: 0) | 200 OK [http://localhost/session/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2017-10-09 14:41:43) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY=", "login"=>"ngarcia", "password"=>"musand12", "commit"=>"Entrar"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'ngarcia' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Redirected to http://localhost:3000/
Completed in 27ms (DB: 1) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:41:43) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:41:43' AND ends_at >= '2017-10-09 17:41:43') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.7ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 397ms (View: 366, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:41:48) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (93.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (6.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (419.7ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (47.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (118.7ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (1.5ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (191.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.9ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.8ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (23.3ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:41:49' AND ends_at >= '2017-10-09 17:41:49') [0m
  [4;35;1mInformativo Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 1520ms (View: 242, DB: 887) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:41:54) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (410.7ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (48.4ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (58.8ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (67.6ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (53.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (7.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (56.4ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (50.9ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.5ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (80.0ms)
Rendered historicos/_observacoes (25.9ms)
Rendered historicos/_form_observacao (6.4ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:42:02' AND ends_at >= '2017-10-09 17:42:02') [0m
  [4;36;1mInformativo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 8335ms (View: 211, DB: 774) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:42:03) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:42:14) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:42:14' AND ends_at >= '2017-10-09 17:42:14') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 307ms (View: 264, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:42:19) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.5ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.4ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (18.1ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:42:19' AND ends_at >= '2017-10-09 17:42:19') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 471ms (View: 213, DB: 14) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:42:25) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.8ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (50.6ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (41.9ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (58.5ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (58.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (51.5ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (1.8ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (52.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (52.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:42:47) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.8ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:42:47' AND ends_at >= '2017-10-09 17:42:47') [0m
  [4;35;1mInformativo Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 278ms (View: 239, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:42:51) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.5ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (15.8ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:42:51' AND ends_at >= '2017-10-09 17:42:51') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 456ms (View: 213, DB: 17) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:42:58) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:46:01) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:46:01' AND ends_at >= '2017-10-09 17:46:01') [0m
  [4;35;1mInformativo Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 303ms (View: 262, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:46:05) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.7ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:46:06' AND ends_at >= '2017-10-09 17:46:06') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 460ms (View: 214, DB: 14) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:46:10) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.5ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:47:37) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:47:37' AND ends_at >= '2017-10-09 17:47:37') [0m
  [4;35;1mInformativo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 276ms (View: 172, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:47:37) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m

ActionView::TemplateError (nil can't be coerced into Fixnum) on line #30 of app/views/historicos/_notas_historico.erb:
27:         <% classe= @ano_inicial.classe %>
28: 
29:     <%end%>
30:     <% anoinicial = ano.to_i - classe +1  %>
31:     <tr>
32:         <%for i in 0..8 %>
33:             <td width ="5%" align="center" ><b> <%=  anoinicial+i %></b></td>

    app/views/historicos/_notas_historico.erb:30
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (117.4ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:47:44) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (6.8ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:47:44' AND ends_at >= '2017-10-09 17:47:44') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 336ms (View: 136, DB: 13) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:47:49) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m

ActionView::TemplateError (nil can't be coerced into Fixnum) on line #30 of app/views/historicos/_notas_historico.erb:
27:         <% classe= @ano_inicial.classe %>
28: 
29:     <%end%>
30:     <% anoinicial = ano.to_i - classe +1  %>
31:     <tr>
32:         <%for i in 0..8 %>
33:             <td width ="5%" align="center" ><b> <%=  anoinicial+i %></b></td>

    app/views/historicos/_notas_historico.erb:30
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (125.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:48:29) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:48:29' AND ends_at >= '2017-10-09 17:48:29') [0m
  [4;36;1mInformativo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 67ms (View: 45, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:48:32) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:48:32' AND ends_at >= '2017-10-09 17:48:32') [0m
  [4;36;1mInformativo Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 334ms (View: 134, DB: 14) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:48:33) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m

ActionView::TemplateError (nil can't be coerced into Fixnum) on line #30 of app/views/historicos/_notas_historico.erb:
27:         <% classe= @ano_inicial.classe %>
28: 
29:     <%end%>
30:     <% anoinicial = ano.to_i - classe +1  %>
31:     <tr>
32:         <%for i in 0..8 %>
33:             <td width ="5%" align="center" ><b> <%=  anoinicial+i %></b></td>

    app/views/historicos/_notas_historico.erb:30
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (33.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:48:37) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m

ActionView::TemplateError (nil can't be coerced into Fixnum) on line #30 of app/views/historicos/_notas_historico.erb:
27:         <% classe= @ano_inicial.classe %>
28: 
29:     <%end%>
30:     <% anoinicial = ano.to_i - classe +1  %>
31:     <tr>
32:         <%for i in 0..8 %>
33:             <td width ="5%" align="center" ><b> <%=  anoinicial+i %></b></td>

    app/views/historicos/_notas_historico.erb:30
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (32.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:49:25) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:49:25' AND ends_at >= '2017-10-09 17:49:25') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 288ms (View: 249, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:49:28) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.0ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:49:29' AND ends_at >= '2017-10-09 17:49:29') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 440ms (View: 204, DB: 10) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:49:34) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:50:20) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (4.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;35;1mAluno Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mMatricula Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m

ActionView::TemplateError (nil can't be coerced into Fixnum) on line #30 of app/views/historicos/_notas_historico.erb:
27:         <% classe= @ano_inicial.classe %>
28: 
29:     <%end%>
30:     <% anoinicial = ano.to_i - classe +1  %>
31:     <tr>
32:         <%for i in 0..8 %>
33:             <td width ="5%" align="center" ><b> <%=  anoinicial+i %></b></td>

    app/views/historicos/_notas_historico.erb:30
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered rescues/_trace (82.3ms)
Rendered rescues/_request_and_response (115.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:50:37) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:50:37' AND ends_at >= '2017-10-09 17:50:37') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 348ms (View: 318, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:50:47) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.9ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:50:47' AND ends_at >= '2017-10-09 17:50:47') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 464ms (View: 106, DB: 12) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:50:51) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m

ActionView::TemplateError (nil can't be coerced into Fixnum) on line #30 of app/views/historicos/_notas_historico.erb:
27:         <% classe= @ano_inicial.classe %>
28: 
29:     <%end%>
30:     <% anoinicial = ano.to_i - classe +1  %>
31:     <tr>
32:         <%for i in 0..8 %>
33:             <td width ="5%" align="center" ><b> <%=  anoinicial+i %></b></td>

    app/views/historicos/_notas_historico.erb:30
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered rescues/_trace (77.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:51:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:51:14' AND ends_at >= '2017-10-09 17:51:14') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 310ms (View: 267, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:51:22) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.6ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:51:23' AND ends_at >= '2017-10-09 17:51:23') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.5ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 470ms (View: 228, DB: 13) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:51:29) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (182.1ms)
Rendered historicos/_observacoes (1.7ms)
Rendered historicos/_form_observacao (5.0ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:51:33' AND ends_at >= '2017-10-09 17:51:33') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 4460ms (View: 281, DB: 21) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:51:34) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:55:56) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:55:57' AND ends_at >= '2017-10-09 17:55:57') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 304ms (View: 260, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:55:59) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.7ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:56:00' AND ends_at >= '2017-10-09 17:56:00') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 446ms (View: 210, DB: 9) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:56:04) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:56:18) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.6ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;35;1mAluno Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mMatricula Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (51.9ms)
Rendered historicos/_observacoes (1.6ms)
Rendered historicos/_form_observacao (18.8ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:56:23' AND ends_at >= '2017-10-09 17:56:23') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 5015ms (View: 402, DB: 20) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:56:23) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:56:23' AND ends_at >= '2017-10-09 17:56:23') [0m
  [4;35;1mInformativo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 142ms (View: 103, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:56:24) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:56:28) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.6ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (4.8ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:56:28' AND ends_at >= '2017-10-09 17:56:28') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 467ms (View: 96, DB: 16) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:56:34) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:59:31) [GET]
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.6ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.5ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (22.4ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:59:31' AND ends_at >= '2017-10-09 17:59:31') [0m
  [4;36;1mInformativo Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 639ms (View: 349, DB: 14) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:59:32) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:59:32' AND ends_at >= '2017-10-09 17:59:32') [0m
  [4;35;1mInformativo Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 254ms (View: 220, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:59:36) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (5.1ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:59:37' AND ends_at >= '2017-10-09 17:59:37') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 428ms (View: 96, DB: 10) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:59:44) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:00:18) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:00:18' AND ends_at >= '2017-10-09 18:00:18') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 273ms (View: 166, DB: 8) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:00:18) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:00:34) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:00:34' AND ends_at >= '2017-10-09 18:00:34') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 274ms (View: 172, DB: 8) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:00:38) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (7.9ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:00:38' AND ends_at >= '2017-10-09 18:00:38') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 314ms (View: 70, DB: 12) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:00:44) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (19.7ms)
Rendered historicos/_observacoes (0.9ms)
Rendered historicos/_form_observacao (2.6ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:00:44' AND ends_at >= '2017-10-09 18:00:44') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 355ms (View: 64, DB: 17) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 15:00:44) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:00:48) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (19.5ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.5ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:00:48' AND ends_at >= '2017-10-09 18:00:48') [0m
  [4;36;1mInformativo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 346ms (View: 63, DB: 21) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 15:00:48) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:00:53) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.6ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:00:53' AND ends_at >= '2017-10-09 18:00:53') [0m
  [4;35;1mInformativo Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 294ms (View: 50, DB: 12) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:00:58) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:10:03) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:10:03' AND ends_at >= '2017-10-09 18:10:03') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 305ms (View: 260, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:10:04) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m

NoMethodError (undefined method `unidade_d' for #<User:0x7f95ff52c4d8>):
  app/controllers/historicos_controller.rb:454:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (56.1ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:10:07) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m

NoMethodError (undefined method `unidade_d' for #<User:0x7f95feedd078>):
  app/controllers/historicos_controller.rb:454:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (52.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:10:30) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.7ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.5ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.3ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:10:31' AND ends_at >= '2017-10-09 18:10:31') [0m
  [4;35;1mInformativo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 481ms (View: 220, DB: 13) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:10:36) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.7ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (54.0ms)
Rendered historicos/_observacoes (1.8ms)
Rendered historicos/_form_observacao (5.1ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:10:45' AND ends_at >= '2017-10-09 18:10:45') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 8572ms (View: 158, DB: 18) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 15:10:45) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:10:49) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (4.9ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:10:49' AND ends_at >= '2017-10-09 18:10:49') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 445ms (View: 94, DB: 11) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:10:56) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
Rendered historicos/_aviso (2.7ms)
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:13:13) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (8.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:13:13' AND ends_at >= '2017-10-09 18:13:13') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 310ms (View: 259, DB: 14) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:13:37) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.4ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:14:53) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:14:54' AND ends_at >= '2017-10-09 18:14:54') [0m
  [4;35;1mInformativo Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 314ms (View: 267, DB: 8) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:14:58) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.5ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:14:58' AND ends_at >= '2017-10-09 18:14:58') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 452ms (View: 212, DB: 9) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:15:03) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:18:48) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.8ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:18:48' AND ends_at >= '2017-10-09 18:18:48') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 299ms (View: 257, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:18:53) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.9ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:18:53' AND ends_at >= '2017-10-09 18:18:53') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 459ms (View: 215, DB: 14) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:18:59) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:25:29) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:25:29' AND ends_at >= '2017-10-09 18:25:29') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 278ms (View: 171, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:25:32) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (7.6ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:25:32' AND ends_at >= '2017-10-09 18:25:32') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 410ms (View: 149, DB: 15) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:25:37) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.7ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m

ActionView::TemplateError (Missing template historicos/_aviso.erb in view path app/views) on line #27 of app/views/historicos/_notas_historico.erb:
24:         <% classe= @ano_inicial.matricula.classe.classe_classe[0,1].to_i %>
25:             <% if @ano_inicial.matricula.classe.classe_classe[0,1].to_i  == 0 %>
26:                <%t=0%>
27:                    <%= render  'aviso' %>
28: 
29:             <%  else %>
30:              <% session[:classe_nota] = classe%>

    app/views/historicos/_notas_historico.erb:27
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (117.9ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:27:23) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m

ActionView::TemplateError (Missing template historicos/_aviso.erb in view path app/views) on line #27 of app/views/historicos/_notas_historico.erb:
24:         <% classe= @ano_inicial.matricula.classe.classe_classe[0,1].to_i %>
25:             <% if @ano_inicial.matricula.classe.classe_classe[0,1].to_i  == 0 %>
26:                <%t=0%>
27:                    <%= render  'aviso' %>
28: 
29:             <%  else %>
30:              <% session[:classe_nota] = classe%>

    app/views/historicos/_notas_historico.erb:27
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (43.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:30:56) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:30:56' AND ends_at >= '2017-10-09 18:30:56') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 289ms (View: 248, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:30:59) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.9ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (103.7ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:30:59' AND ends_at >= '2017-10-09 18:30:59') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 441ms (View: 203, DB: 10) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:31:03) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendered historicos/_aviso (4.7ms)
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:34:29) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (18.9ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendered historicos/_aviso (1.5ms)
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:34:56) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:34:56' AND ends_at >= '2017-10-09 18:34:56') [0m
  [4;35;1mInformativo Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 284ms (View: 172, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:34:59) [GET]
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (6.9ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:35:00' AND ends_at >= '2017-10-09 18:35:00') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 324ms (View: 141, DB: 10) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:35:05) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.4ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendered historicos/_aviso (1.9ms)
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:42:20) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:42:20' AND ends_at >= '2017-10-09 18:42:20') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 306ms (View: 261, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:42:23) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m

ActiveRecord::ConfigurationError (Association named 'matricula' was not found; perhaps you misspelled it?):
  app/controllers/historicos_controller.rb:438:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (57.6ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:46:02) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:46:02' AND ends_at >= '2017-10-09 18:46:02') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 285ms (View: 179, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:46:04) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m

ActiveRecord::ConfigurationError (Association named 'matricula' was not found; perhaps you misspelled it?):
  app/controllers/historicos_controller.rb:438:in `load_iniciais'

Rendered rescues/_trace (24.7ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:46:20) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (9.9ms)
  [4;36;1mInformativo Load (1.1ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:46:20' AND ends_at >= '2017-10-09 18:46:20') [0m
  [4;35;1mInformativo Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 368ms (View: 172, DB: 12) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:46:32) [GET]
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:46:33' AND ends_at >= '2017-10-09 18:46:33') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 310ms (View: 264, DB: 8) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:46:39) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m

ActiveRecord::ConfigurationError (Association named 'matricula' was not found; perhaps you misspelled it?):
  app/controllers/historicos_controller.rb:438:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (143.5ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:46:59) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:46:59' AND ends_at >= '2017-10-09 18:46:59') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 289ms (View: 251, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:47:07) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m

ActiveRecord::ConfigurationError (Association named 'matricula' was not found; perhaps you misspelled it?):
  app/controllers/historicos_controller.rb:438:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (144.5ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:47:27) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:47:27' AND ends_at >= '2017-10-09 18:47:27') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 294ms (View: 249, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:47:33) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m

ActiveRecord::ConfigurationError (Association named 'matricula' was not found; perhaps you misspelled it?):
  app/controllers/historicos_controller.rb:439:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (166.9ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#historico (for 127.0.0.1 at 2017-10-09 15:48:03) [GET]

SyntaxError (/home/desenvolvimento/sisgered/app/controllers/historicos_controller.rb:439: syntax error, unexpected ',', expecting tASSOC
...joins =>  :matricula, :aluno , :conditions =>['alunos.unidad...
                              ^
/home/desenvolvimento/sisgered/app/controllers/historicos_controller.rb:439: syntax error, unexpected ',', expecting kEND
... ' , current_user.unidade_id],:order => 'aluno_nome')
                              ^
/home/desenvolvimento/sisgered/app/controllers/historicos_controller.rb:439: syntax error, unexpected ')', expecting kEND):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (152.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:48:20) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.4ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mMysql::Error: Table 'sisgered_development.alunos_classes' doesn't exist: SELECT alunos.id, alunos.aluno_nome FROM `classes` INNER JOIN `matriculas` ON matriculas.classe_id = classes.id INNER JOIN `alunos_classes` ON `alunos_classes`.classe_id = `classes`.id INNER JOIN `alunos` ON `alunos`.id = `alunos_classes`.aluno_id WHERE (alunos.unidade_id=43 AND alunos.aluno_status is null AND matriculas.aluno_id = alunos.id AND classes.classe.classe != "EJA" ) ORDER BY aluno_nome[0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'sisgered_development.alunos_classes' doesn't exist: SELECT alunos.id, alunos.aluno_nome FROM `classes`   INNER JOIN `matriculas` ON matriculas.classe_id = classes.id  INNER JOIN `alunos_classes` ON `alunos_classes`.classe_id = `classes`.id  INNER JOIN `alunos` ON `alunos`.id = `alunos_classes`.aluno_id  WHERE (alunos.unidade_id=43 AND alunos.aluno_status is null AND  matriculas.aluno_id = alunos.id AND classes.classe.classe != "EJA" )  ORDER BY aluno_nome):
  app/controllers/historicos_controller.rb:439:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (60.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:51:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:51:14' AND ends_at >= '2017-10-09 18:51:14') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 302ms (View: 261, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:51:18) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'classes.classe.classe' in 'where clause': SELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe.classe != "EJA") [0m

ActiveRecord::StatementInvalid (Mysql::Error: Unknown column 'classes.classe.classe' in 'where clause': SELECT `alunos`.* FROM `alunos`  INNER JOIN  matriculas  ON  alunos.id=matriculas.aluno_id  INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe.classe != "EJA") ):
  app/controllers/historicos_controller.rb:440:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (169.8ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:52:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (283.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA") [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:52:31) [GET]
  [4;36;1mUser Columns (10.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (278.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA") [0m
  [4;35;1mAluno Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:54:09) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:54:10' AND ends_at >= '2017-10-09 18:54:10') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 305ms (View: 257, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:54:12) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.6ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'classes.ano_letivo' in 'where clause': SELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA" AND classes.ano_letivo =2017) [0m

ActiveRecord::StatementInvalid (Mysql::Error: Unknown column 'classes.ano_letivo' in 'where clause': SELECT `alunos`.* FROM `alunos`  INNER JOIN  matriculas  ON  alunos.id=matriculas.aluno_id  INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA" AND classes.ano_letivo =2017) ):
  app/controllers/historicos_controller.rb:440:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (162.7ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:54:32) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:55:04) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:55:04' AND ends_at >= '2017-10-09 18:55:04') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 306ms (View: 261, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:55:07) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.0ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'classes.classse_ano_letivo' in 'where clause': SELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA" AND classes.classse_ano_letivo =2017) [0m

ActiveRecord::StatementInvalid (Mysql::Error: Unknown column 'classes.classse_ano_letivo' in 'where clause': SELECT `alunos`.* FROM `alunos`  INNER JOIN  matriculas  ON  alunos.id=matriculas.aluno_id  INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA" AND classes.classse_ano_letivo =2017) ):
  app/controllers/historicos_controller.rb:440:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (172.9ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:55:35) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (224.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:56:04) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:56:04' AND ends_at >= '2017-10-09 18:56:04') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 298ms (View: 260, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:56:07) [GET]
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.6ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (231.7ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) [0m
  [4;36;1mAluno Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:57:38) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:57:38' AND ends_at >= '2017-10-09 18:57:38') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 301ms (View: 261, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:57:40) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (180.6ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) [0m
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 16:02:50) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:02:50' AND ends_at >= '2017-10-09 19:02:50') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 271ms (View: 169, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:02:54) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.4ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) [0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mDisciplina Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mObservacaoNota Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `observacao_notas`[0m

ActionView::TemplateError (undefined method `collection_select_tag' for #<ActionView::Base:0x7f0ff02c7de0>) on line #15 of app/views/historicos/historico.html.erb:
12:              <tr>
13:                <td colspan="2"align="right"><font size="2"> <b>Nome:</b></font>
14:                    <%= select_tag :aluno_id, options_for_select(@alunos1.collect { |ff| [ff.aluno_nome, ff.id] }.insert(0, '--Selecionar--')) %>
15:                    <%= collection_select_tag :aluno_id, @alunos1, :id, :nome, :include_blank => ' -- Selecione -- ' %></td>
16:               </td>
17:               <td align="right"> <%= submit_tag "Visualizar", :class => "btn_filtrar" %></td>
18: 

    app/views/historicos/historico.html.erb:15
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (27.3ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:04:43) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.7ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) [0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (6.9ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:04:43' AND ends_at >= '2017-10-09 19:04:43') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 326ms (View: 64, DB: 11) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 16:05:29) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:05:29' AND ends_at >= '2017-10-09 19:05:29') [0m
  [4;35;1mInformativo Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 62ms (View: 43, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:05:52) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (179.5ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:05:52' AND ends_at >= '2017-10-09 19:05:52') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 533ms (View: 130, DB: 188) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 16:06:56) [GET]
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.8ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:06:56' AND ends_at >= '2017-10-09 19:06:56') [0m
  [4;36;1mInformativo Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 62ms (View: 38, DB: 7) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:07:57) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.0ms)[0m   [0;1mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'classe WHERE (alunos.unidade_id =43 AND matriculas.ano_letivo = 2017 AND classes' at line 1: SELECT id, aluno_nome FROM `alunos` matricula classe WHERE (alunos.unidade_id =43 AND matriculas.ano_letivo = 2017 AND classes.classe_classe =! "EJA"") ORDER BY aluno_nome ASC[0m

ActiveRecord::StatementInvalid (Mysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'classe WHERE (alunos.unidade_id =43 AND matriculas.ano_letivo = 2017 AND classes' at line 1: SELECT id, aluno_nome FROM `alunos` matricula classe WHERE (alunos.unidade_id =43 AND matriculas.ano_letivo = 2017 AND classes.classe_classe =! "EJA"")  ORDER BY aluno_nome ASC):
  app/controllers/historicos_controller.rb:398:in `load_professors'

Rendered rescues/_trace (23.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:08:33) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.1ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) [0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.8ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:08:33' AND ends_at >= '2017-10-09 19:08:33') [0m
  [4;36;1mInformativo Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 280ms (View: 146, DB: 13) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#historico (for 127.0.0.1 at 2017-10-09 16:09:31) [GET]

SyntaxError (/home/desenvolvimento/sisgered/app/controllers/historicos_controller.rb:440: syntax error, unexpected ','
....unidade_id, Time.now.year], ,:order => 'aluno_nome ASC')
                              ^
/home/desenvolvimento/sisgered/app/controllers/historicos_controller.rb:440: syntax error, unexpected ')', expecting kEND):
  

Rendered rescues/_trace (19.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:09:39) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (3.4ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:09:39' AND ends_at >= '2017-10-09 19:09:39') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 272ms (View: 60, DB: 11) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 16:11:33) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:11:33' AND ends_at >= '2017-10-09 19:11:33') [0m
  [4;36;1mInformativo Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 74ms (View: 53, DB: 7) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:11:36) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (5.9ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:11:36' AND ends_at >= '2017-10-09 19:11:36') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 300ms (View: 61, DB: 11) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:11:39) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (29.2ms)
Rendered historicos/_observacoes (0.8ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:11:39' AND ends_at >= '2017-10-09 19:11:39') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 336ms (View: 66, DB: 16) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 16:11:40) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-09 16:11:46) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.2ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =1298) [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;36;1mNota Load (57.9ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (57.7ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mNota Load (69.3ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =1298 AND disciplinas.curriculo = 'B' and unidade_id =43 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;35;1mDisciplina Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mMatricula Load (0.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17197) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mAluno Load (0.8ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1298) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17197) [0m
  [4;35;1mClasse Load (0.5ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 894) [0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 524ms (View: 78, DB: 211) | 200 OK [http://localhost/impressao_historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 16:28:23) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.8ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:28:23' AND ends_at >= '2017-10-09 19:28:23') [0m
  [4;36;1mInformativo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 183ms (View: 45, DB: 6) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:28:26) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:28:27' AND ends_at >= '2017-10-09 19:28:27') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 321ms (View: 61, DB: 17) | 200 OK [http://localhost/historico]

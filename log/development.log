# Logfile created on Wed Jun 05 10:55:57 -0300 2019  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2019-06-05 10:56:00) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 13:56:00' AND ends_at >= '2019-06-05 13:56:00') [0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 300ms (View: 179, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2019-06-05 11:02:18) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 14:02:18' AND ends_at >= '2019-06-05 14:02:18') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 57ms (View: 38, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#new (for 127.0.0.1 at 2019-06-05 11:02:22) [GET]
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (1.7ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.2ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;36;1mRelatorio Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `relatorios`[0m
Rendering template within layouts/application
Rendering relatorios/new
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 14:02:22' AND ends_at >= '2019-06-05 14:02:22') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 175ms (View: 35, DB: 9) | 200 OK [http://localhost/relatorios/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#professor (for 127.0.0.1 at 2019-06-05 11:02:28) [POST]
  Parameters: {"authenticity_token"=>"hIRZPU+Jkk0mAr+yLHhmdHgar4JEz/8iy30X6eGPsSE=", "relatorio_professor_id"=>"582"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mRelatorio Load (0.2ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;36;1mRelatorio Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;35;1mAtribuicao Load (0.3ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (professor_id ='582' and ano_letivo=2019) [0m
  [4;36;1mAtribuicao Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `matriculas` INNER JOIN `alunos` ON `alunos`.id = `matriculas`.aluno_id WHERE (matriculas.classe_id=2035) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mMatricula Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered relatorios/_aluno_classe (6.6ms)
Completed in 153ms (View: 8, DB: 9) | 200 OK [http://localhost/relatorios/professor]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2019-06-05 11:10:54) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 14:10:54' AND ends_at >= '2019-06-05 14:10:54') [0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 140ms (View: 121, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#new (for 127.0.0.1 at 2019-06-05 11:10:57) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mRelatorio Load (0.1ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;36;1mRelatorio Load (0.0ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;35;1mRelatorio Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `relatorios`[0m
Rendering template within layouts/application
Rendering relatorios/new
  [4;36;1mProfessor Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mInformativo Load (0.8ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 14:10:57' AND ends_at >= '2019-06-05 14:10:57') [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;35;1mUnidade Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 166ms (View: 104, DB: 9) | 200 OK [http://localhost/relatorios/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#professor (for 127.0.0.1 at 2019-06-05 11:11:02) [POST]
  Parameters: {"authenticity_token"=>"hIRZPU+Jkk0mAr+yLHhmdHgar4JEz/8iy30X6eGPsSE=", "relatorio_professor_id"=>"1095"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.3ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;36;1mAtribuicao Load (8.7ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (professor_id ='1095' and ano_letivo=2019) [0m
  [4;35;1mAtribuicao Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `matriculas` INNER JOIN `alunos` ON `alunos`.id = `matriculas`.aluno_id WHERE (matriculas.classe_id=2035) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered relatorios/_aluno_classe (5.2ms)
Completed in 173ms (View: 5, DB: 17) | 200 OK [http://localhost/relatorios/professor]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#professor (for 127.0.0.1 at 2019-06-05 11:11:08) [POST]
  Parameters: {"authenticity_token"=>"hIRZPU+Jkk0mAr+yLHhmdHgar4JEz/8iy30X6eGPsSE=", "relatorio_professor_id"=>"582"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.2ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (professor_id ='582' and ano_letivo=2019) [0m
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `matriculas` INNER JOIN `alunos` ON `alunos`.id = `matriculas`.aluno_id WHERE (matriculas.classe_id=2035) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `matriculas` INNER JOIN `alunos` ON `alunos`.id = `matriculas`.aluno_id WHERE (matriculas.classe_id=2044) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered relatorios/_aluno_classe (4.6ms)
Completed in 138ms (View: 5, DB: 5) | 200 OK [http://localhost/relatorios/professor]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2019-06-05 11:11:10) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 14:11:10' AND ends_at >= '2019-06-05 14:11:10') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 46ms (View: 29, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#new (for 127.0.0.1 at 2019-06-05 11:11:14) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mRelatorio Load (0.3ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;36;1mRelatorio Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;35;1mRelatorio Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `relatorios`[0m
Rendering template within layouts/application
Rendering relatorios/new
  [4;36;1mProfessor Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 14:11:14' AND ends_at >= '2019-06-05 14:11:14') [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 188ms (View: 35, DB: 11) | 200 OK [http://localhost/relatorios/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#professor (for 127.0.0.1 at 2019-06-05 11:11:18) [POST]
  Parameters: {"authenticity_token"=>"hIRZPU+Jkk0mAr+yLHhmdHgar4JEz/8iy30X6eGPsSE=", "relatorio_professor_id"=>"582"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.2ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;36;1mAtribuicao Load (0.3ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (professor_id ='582' and ano_letivo=2019) [0m
  [4;35;1mAtribuicao Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `matriculas` INNER JOIN `alunos` ON `alunos`.id = `matriculas`.aluno_id WHERE (matriculas.classe_id=2035) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `matriculas` INNER JOIN `alunos` ON `alunos`.id = `matriculas`.aluno_id WHERE (matriculas.classe_id=2044) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mMatricula Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered relatorios/_aluno_classe (7.2ms)
Completed in 151ms (View: 7, DB: 6) | 200 OK [http://localhost/relatorios/professor]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#dados (for 127.0.0.1 at 2019-06-05 11:16:23) [POST]
  Parameters: {"authenticity_token"=>"hIRZPU+Jkk0mAr+yLHhmdHgar4JEz/8iy30X6eGPsSE=", "relatorio_aluno_id"=>"19325"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mRelatorio Load (0.2ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;36;1mRelatorio Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (professor_id ='582' AND ano_letivo=2019) [0m
  [4;36;1mAluno Load (0.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id='19325') [0m
  [4;35;1mAtribuicao Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mClasse Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 2035) [0m
Rendered relatorios/_dados (11.5ms)
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Rendered relatorios/_dados_pais (18.0ms)
Completed in 164ms (View: 32, DB: 11) | 200 OK [http://localhost/relatorios/dados]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2019-06-05 12:04:26) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 15:04:26' AND ends_at >= '2019-06-05 15:04:27') [0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 300ms (View: 174, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#consultas (for 127.0.0.1 at 2019-06-05 12:04:30) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.2ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
Rendering template within layouts/application
Rendering relatorios/consultas
  [4;36;1mRelatorio Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `relatorios`[0m
Rendered relatorios/_consulta (5.9ms)
Rendered relatorios/_consulta_fapea (1.5ms)
Rendered relatorios/_consulta_nome (1.3ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 15:04:30' AND ends_at >= '2019-06-05 15:04:30') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 177ms (View: 46, DB: 7) | 200 OK [http://localhost/relatorios/consultas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#consulta_fapea (for 127.0.0.1 at 2019-06-05 12:04:40) [GET]
  Parameters: {"aluno"=>"--Selecionar--", "authenticity_token"=>"hIRZPU+Jkk0mAr+yLHhmdHgar4JEz/8iy30X6eGPsSE=", "ano_letivo"=>"--Selecionar--", "_"=>"1559747079928", "type_of"=>"3", "aluno_fapea"=>"19325"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.2ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;36;1mRelatorio Load (23.7ms)[0m   [0;1mSELECT * FROM `relatorios` WHERE (aluno_id ='19325' and ano_letivo=2019) [0m

NoMethodError (undefined method `atribuicao_id' for nil:NilClass):
  app/controllers/relatorios_controller.rb:179:in `consulta_fapea'

Rendered rescues/_trace (21.3ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2019-06-05 12:06:43) [GET]
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 15:06:43' AND ends_at >= '2019-06-05 15:06:43') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 58ms (View: 37, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#consultas (for 127.0.0.1 at 2019-06-05 12:06:46) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mRelatorio Load (0.2ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;36;1mRelatorio Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
Rendering template within layouts/application
Rendering relatorios/consultas
  [4;35;1mRelatorio Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `relatorios`[0m
Rendered relatorios/_consulta (5.1ms)
Rendered relatorios/_consulta_fapea (1.1ms)
Rendered relatorios/_consulta_nome (0.9ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 15:06:46' AND ends_at >= '2019-06-05 15:06:46') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 175ms (View: 31, DB: 8) | 200 OK [http://localhost/relatorios/consultas]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2019-06-05 12:11:54) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 15:11:54' AND ends_at >= '2019-06-05 15:11:54') [0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 56ms (View: 35, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#consultas (for 127.0.0.1 at 2019-06-05 12:11:57) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mRelatorio Load (0.2ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;36;1mRelatorio Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
Rendering template within layouts/application
Rendering relatorios/consultas
  [4;35;1mRelatorio Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `relatorios`[0m
Rendered relatorios/_consulta (3.3ms)
Rendered relatorios/_consulta_fapea (0.9ms)
  [4;36;1mRelatorio Load (2.0ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.aluno_status is null AND relatorios.ano_letivo =2019) ORDER BY alunos.aluno_nome ASC[0m
Rendered relatorios/_consulta_nome (3.4ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 15:11:58' AND ends_at >= '2019-06-05 15:11:58') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 161ms (View: 29, DB: 8) | 200 OK [http://localhost/relatorios/consultas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#new (for 127.0.0.1 at 2019-06-05 12:12:09) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (1.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.2ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;36;1mRelatorio Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `relatorios`[0m
Rendering template within layouts/application
Rendering relatorios/new
  [4;35;1mProfessor Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 15:12:09' AND ends_at >= '2019-06-05 15:12:09') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 172ms (View: 41, DB: 9) | 200 OK [http://localhost/relatorios/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#professor (for 127.0.0.1 at 2019-06-05 12:12:16) [POST]
  Parameters: {"authenticity_token"=>"hIRZPU+Jkk0mAr+yLHhmdHgar4JEz/8iy30X6eGPsSE=", "relatorio_professor_id"=>"582"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mRelatorio Load (0.2ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;36;1mRelatorio Load (0.0ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (professor_id ='582' and ano_letivo=2019) [0m
  [4;36;1mAtribuicao Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `matriculas` INNER JOIN `alunos` ON `alunos`.id = `matriculas`.aluno_id WHERE (matriculas.classe_id=2035) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `matriculas` INNER JOIN `alunos` ON `alunos`.id = `matriculas`.aluno_id WHERE (matriculas.classe_id=2044) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered relatorios/_aluno_classe (7.2ms)
Completed in 142ms (View: 10, DB: 5) | 200 OK [http://localhost/relatorios/professor]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#dados (for 127.0.0.1 at 2019-06-05 12:12:27) [POST]
  Parameters: {"relatorio_aluno_id"=>"19325", "authenticity_token"=>"hIRZPU+Jkk0mAr+yLHhmdHgar4JEz/8iy30X6eGPsSE="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.2ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Load (0.0ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (professor_id ='582' AND ano_letivo=2019) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (id='19325') [0m
  [4;36;1mAtribuicao Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 2035) [0m
Rendered relatorios/_dados (9.0ms)
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Rendered relatorios/_dados_pais (12.5ms)
Completed in 157ms (View: 26, DB: 6) | 200 OK [http://localhost/relatorios/dados]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#create (for 127.0.0.1 at 2019-06-05 12:12:34) [POST]
  Parameters: {"commit"=>"Salvar", "authenticity_token"=>"hIRZPU+Jkk0mAr+yLHhmdHgar4JEz/8iy30X6eGPsSE=", "relatorio"=>{"dias_letivos"=>"0", "professor_id"=>"582", "aluno_id"=>"19325", "faltas"=>"0", "observacao"=>"testeettesteettesteettesteettesteettesteettesteettesteet"}}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.1ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;36;1mRelatorio Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `relatorios`[0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (professor_id ='582' and ano_letivo=2019) [0m
  [4;36;1mAtribuicao Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRelatorio Create (0.4ms)[0m   [0;1mINSERT INTO `relatorios` (`dias_letivos`, `professor_id`, `created_at`, `ano_letivo`, `aluno_id`, `frequencia`, `profissional`, `atribuicao_id`, `faltas`, `observacao`, `updated_at`) VALUES(0, 582, '2019-06-05 15:12:34', 2019, 19325, 100.0, NULL, 9393, 0, 'testeettesteettesteettesteettesteettesteettesteettesteet', '2019-06-05 15:12:34')[0m
  [4;35;1mSQL (34.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelatorio Update (0.4ms)[0m   [0mUPDATE `relatorios` SET `frequencia` = 0.0, `updated_at` = '2019-06-05 15:12:34' WHERE `id` = 3892[0m
  [4;36;1mSQL (29.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/relatorios/3892
Completed in 216ms (DB: 70) | 302 Found [http://localhost/relatorios]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#show (for 127.0.0.1 at 2019-06-05 12:12:35) [GET]
  Parameters: {"id"=>"3892"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mRelatorio Load (23.5ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;36;1mRelatorio Load (2.8ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;35;1mRelatorio Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `relatorios`[0m
  [4;36;1mRelatorio Load (0.4ms)[0m   [0;1mSELECT * FROM `relatorios` WHERE (`relatorios`.`id` = 3892) [0m
  [4;35;1mAtribuicao Load (0.3ms)[0m   [0mSELECT classe_id FROM `atribuicaos` WHERE (id=9393 ) [0m
  [4;36;1mAtribuicao Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mProfessor Load (5.3ms)[0m   [0mSELECT nome FROM `professors` INNER JOIN atribuicaos ON professors.id = atribuicaos.professor_id INNER JOIN classes ON classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id=2035) [0m
Rendering template within layouts/application
Rendering relatorios/show
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19325) [0m
  [4;35;1mAtribuicao Load (0.4ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 9393) [0m
  [4;36;1mClasse Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 2035) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 57) [0m
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 15:12:35' AND ends_at >= '2019-06-05 15:12:35') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=57) [0m
Completed in 242ms (View: 52, DB: 47) | 200 OK [http://localhost/relatorios/3892]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#consultas (for 127.0.0.1 at 2019-06-05 12:12:39) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.5ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.3ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
Rendering template within layouts/application
Rendering relatorios/consultas
  [4;36;1mRelatorio Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `relatorios`[0m
Rendered relatorios/_consulta (4.6ms)
Rendered relatorios/_consulta_fapea (1.1ms)
  [4;35;1mRelatorio Load (2.1ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.aluno_status is null AND relatorios.ano_letivo =2019) ORDER BY alunos.aluno_nome ASC[0m
Rendered relatorios/_consulta_nome (3.4ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 15:12:39' AND ends_at >= '2019-06-05 15:12:39') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 171ms (View: 33, DB: 11) | 200 OK [http://localhost/relatorios/consultas]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#fapea_ano (for 127.0.0.1 at 2019-06-05 12:13:06) [POST]
  Parameters: {"ano_letivo"=>"2019", "authenticity_token"=>"hIRZPU+Jkk0mAr+yLHhmdHgar4JEz/8iy30X6eGPsSE="}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mRelatorio Load (0.2ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;36;1mRelatorio Load (0.0ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;35;1mRelatorio Load (6.0ms)[0m   [0mSELECT `relatorios`.* FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (ano_letivo ='2019' and alunos.unidade_id=57) [0m
  [4;36;1mRelatorio Load (3.8ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.aluno_status is null AND relatorios.ano_letivo='2019') ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `relatorios`[0m
Rendered relatorios/_selecao_nome (5.5ms)
Completed in 165ms (View: 12, DB: 16) | 200 OK [http://localhost/relatorios/fapea_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#fapea_ano (for 127.0.0.1 at 2019-06-05 12:13:11) [POST]
  Parameters: {"ano_letivo"=>"2018", "authenticity_token"=>"hIRZPU+Jkk0mAr+yLHhmdHgar4JEz/8iy30X6eGPsSE="}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.3ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;36;1mRelatorio Load (17.8ms)[0m   [0;1mSELECT `relatorios`.* FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (ano_letivo ='2018' and alunos.unidade_id=57) [0m
  [4;35;1mRelatorio Load (18.4ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.aluno_status is null AND relatorios.ano_letivo='2018') ORDER BY alunos.aluno_nome[0m
  [4;36;1mRelatorio Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `relatorios`[0m
Rendered relatorios/_selecao_nome (33.5ms)
Completed in 215ms (View: 34, DB: 44) | 200 OK [http://localhost/relatorios/fapea_ano]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#consulta_fapea (for 127.0.0.1 at 2019-06-05 12:13:42) [GET]
  Parameters: {"aluno"=>"--Selecionar--", "authenticity_token"=>"hIRZPU+Jkk0mAr+yLHhmdHgar4JEz/8iy30X6eGPsSE=", "ano_letivo"=>"2018", "_"=>"1559747622169", "aluno_fapea1"=>"19325", "type_of"=>"1", "aluno_fapea"=>"--Selecionar--"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mRelatorio Load (0.1ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;36;1mRelatorio Load (0.0ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
  [4;35;1mRelatorio Load (6.4ms)[0m   [0mSELECT * FROM `relatorios` WHERE (aluno_id ='19325' and ano_letivo ='2018') [0m
  [4;36;1mRelatorio Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `relatorios`[0m
  [4;35;1mAtribuicao Load (0.4ms)[0m   [0mSELECT classe_id FROM `atribuicaos` WHERE (id=8138) [0m
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mProfessor Load (2.7ms)[0m   [0mSELECT nome FROM `professors` INNER JOIN atribuicaos ON professors.id = atribuicaos.professor_id INNER JOIN classes ON classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id=1634) [0m
  [4;36;1mAtribuicao Load (0.5ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8138) [0m
  [4;35;1mClasse Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 1634) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 57) [0m
  [4;35;1mAluno Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19325) [0m
  [4;35;1mDisciplina Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 31) [0m
  [4;35;1mProfessor Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8138) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 1634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 57) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19325) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 31) [0m
Rendered relatorios/_fapea (52.8ms)
Completed in 218ms (View: 52, DB: 23) | 200 OK [http://localhost/consulta_fapea?authenticity_token=hIRZPU%2BJkk0mAr%2ByLHhmdHgar4JEz%2F8iy30X6eGPsSE%3D&type_of=1&ano_letivo=2018&aluno_fapea1=19325&aluno=--Selecionar--&aluno_fapea=--Selecionar--&authenticity_token=hIRZPU%2BJkk0mAr%2ByLHhmdHgar4JEz%2F8iy30X6eGPsSE%3D&_=1559747622169]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#consultas (for 127.0.0.1 at 2019-06-05 12:14:38) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mRelatorio Load (0.2ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;36;1mRelatorio Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
Rendering template within layouts/application
Rendering relatorios/consultas
  [4;35;1mRelatorio Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `relatorios`[0m
Rendered relatorios/_consulta (3.6ms)
Rendered relatorios/_consulta_fapea (1.0ms)
  [4;36;1mRelatorio Load (0.2ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.aluno_status is null AND relatorios.ano_letivo =2019) ORDER BY alunos.aluno_nome ASC[0m
Rendered relatorios/_consulta_nome (1.0ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 15:14:38' AND ends_at >= '2019-06-05 15:14:38') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 169ms (View: 30, DB: 7) | 200 OK [http://localhost/relatorios/consultas]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#consultas (for 127.0.0.1 at 2019-06-05 12:14:53) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2019 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null AND atribuicaos.professor_id =72) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE (unidade_id = 57 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.3ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.unidade_id=57 AND alunos.aluno_status is null) ORDER BY alunos.aluno_nome[0m
  [4;35;1mRelatorio Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2019 and tipo_un =3) ORDER BY ano_letivo DESC[0m
Rendering template within layouts/application
Rendering relatorios/consultas
  [4;36;1mRelatorio Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `relatorios`[0m
Rendered relatorios/_consulta (3.7ms)
Rendered relatorios/_consulta_fapea (1.1ms)
  [4;35;1mRelatorio Load (0.1ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.aluno_status is null AND relatorios.ano_letivo =2019) ORDER BY alunos.aluno_nome ASC[0m
Rendered relatorios/_consulta_nome (1.2ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2019-06-05 15:14:54' AND ends_at >= '2019-06-05 15:14:54') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=57) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 199ms (View: 39, DB: 7) | 200 OK [http://localhost/relatorios/consultas]

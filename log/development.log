# Logfile created on Thu May 05 11:09:05 -0300 2022  [4;36;1mSQL (155.6ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2022-05-05 11:09:09) [GET]
  [4;36;1mUser Columns (35.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (31.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2022-05-05 14:09:09' AND ends_at >= '2022-05-05 14:09:10') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 619ms (View: 319, DB: 237) | 200 OK [http://localhost/]
  [4;36;1mAtribuicao Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#new (for 127.0.0.1 at 2022-05-05 11:09:43) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
Rendering template within layouts/application
Rendering faltasalunos/new
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2022 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.disciplina), disciplinas.id FROM `disciplinas` INNER JOIN atribuicaos ON disciplinas.id = atribuicaos.disciplina_id INNER JOIN classes ON classes.id = atribuicaos.classe_id INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.unidade_id =43 and atribuicaos.ano_letivo=2022) [0m
  [4;36;1mProfessor Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mClasse Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2022-05-05 14:09:43' AND ends_at >= '2022-05-05 14:09:43') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 326ms (View: 155, DB: 12) | 200 OK [http://localhost/faltasalunos/new]
  [4;36;1mAtribuicao Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#data (for 127.0.0.1 at 2022-05-05 11:09:49) [POST]
  Parameters: {"faltasalunos_data"=>"2022-05-05", "authenticity_token"=>"xvTDErOpXfElXv1vzTuZuxPPmjta7ZR7Z0RjogbkzDI="}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
Rendering template within layouts/application
Rendering faltasalunos/data
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2022-05-05 14:09:49' AND ends_at >= '2022-05-05 14:09:49') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 195ms (View: 24, DB: 4) | 200 OK [http://localhost/faltasalunos/data]
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#classe (for 127.0.0.1 at 2022-05-05 11:09:51) [POST]
  Parameters: {"professor_id"=>"184", "authenticity_token"=>"xvTDErOpXfElXv1vzTuZuxPPmjta7ZR7Z0RjogbkzDI="}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
  [4;36;1mAtribuicao Load (10.8ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (professor_id='184' and ano_letivo=2022) [0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT disciplinas.id as disc_id, classes.unidade_id, atribuicaos.disciplina_id as disciplina, classes.id as classe_id, CONCAT(classes.classe_classe, ' - ',disciplinas.disciplina,' - ',unidades.nome) AS classe FROM `classes` INNER JOIN atribuicaos on classes.id = atribuicaos.classe_id INNER JOIN disciplinas on disciplinas.id = atribuicaos.disciplina_id INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (disciplinas.nao_disciplina = 0 AND atribuicaos.professor_id = '184' AND atribuicaos.ano_letivo =2022) ORDER BY disciplina ASC[0m
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered faltasalunos/_classe (6.5ms)
Completed in 193ms (View: 12, DB: 17) | 200 OK [http://localhost/faltasalunos/classe]
  [4;35;1mAtribuicao Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mProfessor Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#faltas (for 127.0.0.1 at 2022-05-05 11:09:55) [POST]
  Parameters: {"falta"=>"7", "authenticity_token"=>"xvTDErOpXfElXv1vzTuZuxPPmjta7ZR7Z0RjogbkzDI="}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
Rendering template within layouts/application
Rendering faltasalunos/faltas
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2022-05-05 14:09:55' AND ends_at >= '2022-05-05 14:09:55') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 190ms (View: 23, DB: 4) | 200 OK [http://localhost/faltasalunos/faltas]
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#disciplina (for 127.0.0.1 at 2022-05-05 11:09:58) [POST]
  Parameters: {"disciplina_id"=>"1", "authenticity_token"=>"xvTDErOpXfElXv1vzTuZuxPPmjta7ZR7Z0RjogbkzDI="}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
Rendering template within layouts/application
Rendering faltasalunos/disciplina
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2022-05-05 14:09:58' AND ends_at >= '2022-05-05 14:09:58') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 204ms (View: 25, DB: 7) | 200 OK [http://localhost/faltasalunos/disciplina]
  [4;36;1mAtribuicao Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#alunos (for 127.0.0.1 at 2022-05-05 11:10:00) [POST]
  Parameters: {"classe_id"=>"3815", "authenticity_token"=>"xvTDErOpXfElXv1vzTuZuxPPmjta7ZR7Z0RjogbkzDI="}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id = '3815') [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mAluno Load (72.7ms)[0m   [0;1mSELECT alunos.id , CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn , matriculas.classe_num as numero , matriculas.status as status FROM `alunos` INNER JOIN matriculas on alunos.id = matriculas.aluno_id WHERE (matriculas.classe_id = '3815' AND matriculas.ano_letivo =2022 and ( aluno_status!='EGRESSO' OR aluno_status is null OR aluno_status!='ABANDONO' OR aluno_status!='FALECIDO' OR aluno_status!='TRANSFERIDO') ) ORDER BY classe_num ASC[0m
  [4;35;1mAluno Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Rendered faltasalunos/_alunos (29.1ms)
Completed in 397ms (View: 33, DB: 80) | 200 OK [http://localhost/faltasalunos/alunos]
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#alunos (for 127.0.0.1 at 2022-05-05 11:10:01) [POST]
  Parameters: {"classe_id"=>"3815", "authenticity_token"=>"xvTDErOpXfElXv1vzTuZuxPPmjta7ZR7Z0RjogbkzDI="}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (id = '3815') [0m
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id , CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn , matriculas.classe_num as numero , matriculas.status as status FROM `alunos` INNER JOIN matriculas on alunos.id = matriculas.aluno_id WHERE (matriculas.classe_id = '3815' AND matriculas.ano_letivo =2022 and ( aluno_status!='EGRESSO' OR aluno_status is null OR aluno_status!='ABANDONO' OR aluno_status!='FALECIDO' OR aluno_status!='TRANSFERIDO') ) ORDER BY classe_num ASC[0m
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Rendered faltasalunos/_alunos (19.7ms)
Completed in 198ms (View: 20, DB: 5) | 200 OK [http://localhost/faltasalunos/alunos]
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#alunos_faltas_falta (for 127.0.0.1 at 2022-05-05 11:10:07) [GET]
  Parameters: {"commit"=>"Confirmar", "aluno_ids"=>["29565", "16452"]}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
  [4;36;1mFaltasaluno Load (41.6ms)[0m   [0;1mSELECT distinct(data) FROM `faltasalunos` INNER JOIN `classes` ON `classes`.id = `faltasalunos`.classe_id WHERE (data='2022-05-05' AND classe_id=4211 AND professor_id='184') ORDER BY data DESC, classe_id ASC[0m
  [4;35;1mAluno Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` IN (29565,16452)) ORDER BY aluno_nome ASC[0m
  [4;35;1mAtribuicao Load (8.7ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (professor_id='184' and ano_letivo=2022 and classe_id='3815' and disciplina_id ='1') [0m
  [4;36;1mAtribuicao Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mFaltasaluno Load (107.1ms)[0m   [0mSELECT * FROM `faltasalunos` WHERE (data= '2022-05-05' and (aluno_id=29565 OR aluno_id IS NULL) and atribuicao_id=18496) [0m
  [4;36;1mFaltasaluno Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `faltasalunos`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id=29565 and classe_id='3815') [0m
  [4;36;1mMatricula Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFaltasaluno Create (66.2ms)[0m   [0;1mINSERT INTO `faltasalunos` (`classe_id`, `unidade_id`, `disciplina_id`, `updated_at`, `matricula_id`, `ano_letivo`, `created_at`, `professor_id`, `aluno_id`, `faltas`, `user_id`, `obs`, `atribuicao_id`, `data`, `conteudo`, `ativo`) VALUES(3815, 43, 1, '2022-05-05 14:10:07', 92692, 2022, '2022-05-05 14:10:07', 184, 29565, 7, 2, '', 18496, '2022-05-05', NULL, 0)[0m
  [4;35;1mSQL (83.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mFaltasaluno Load (0.5ms)[0m   [0;1mSELECT * FROM `faltasalunos` ORDER BY faltasalunos.id DESC LIMIT 1[0m
  [4;35;1mFaltasaluno Load (110.5ms)[0m   [0mSELECT * FROM `faltasalunos` WHERE (data= '2022-05-05' and (aluno_id=16452 OR aluno_id IS NULL) and atribuicao_id=18496) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id=16452 and classe_id='3815') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFaltasaluno Create (13.4ms)[0m   [0;1mINSERT INTO `faltasalunos` (`classe_id`, `unidade_id`, `disciplina_id`, `updated_at`, `matricula_id`, `ano_letivo`, `created_at`, `professor_id`, `aluno_id`, `faltas`, `user_id`, `obs`, `atribuicao_id`, `data`, `conteudo`, `ativo`) VALUES(3815, 43, 1, '2022-05-05 14:10:08', 92740, 2022, '2022-05-05 14:10:08', 184, 16452, 7, 2, '', 18496, '2022-05-05', NULL, 0)[0m
  [4;35;1mSQL (36.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mFaltasaluno Load (0.5ms)[0m   [0;1mSELECT * FROM `faltasalunos` ORDER BY faltasalunos.id DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering faltasalunos/alunos_faltas_falta
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2022 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.disciplina), disciplinas.id FROM `disciplinas` INNER JOIN atribuicaos ON disciplinas.id = atribuicaos.disciplina_id INNER JOIN classes ON classes.id = atribuicaos.classe_id INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.unidade_id =43 and atribuicaos.ano_letivo=2022) [0m
  [4;35;1mProfessor Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 184) [0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 3815) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2022-05-05 14:10:08' AND ends_at >= '2022-05-05 14:10:08') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 837ms (View: 56, DB: 480) | 200 OK [http://localhost/alunos_faltas_falta?aluno_ids%5B%5D=29565&aluno_ids%5B%5D=16452&commit=Confirmar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2022-05-05 12:47:23) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2022-05-05 15:47:23' AND ends_at >= '2022-05-05 15:47:23') [0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 206ms (View: 39, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ConteudoprogramaticosController#new (for 127.0.0.1 at 2022-05-05 12:47:29) [GET]
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7 or tipo_id = 8)) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
  [4;36;1mConteudoprogramatico Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `conteudoprogramaticos`[0m
Rendering template within layouts/application
Rendering conteudoprogramaticos/new
  [4;35;1mProfessor Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2022-05-05 15:47:29' AND ends_at >= '2022-05-05 15:47:29') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 325ms (View: 145, DB: 10) | 200 OK [http://localhost/conteudoprogramaticos/new]
  [4;35;1mAtribuicao Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#new (for 127.0.0.1 at 2022-05-05 12:47:33) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
Rendering template within layouts/application
Rendering faltasalunos/new
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2022 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.disciplina), disciplinas.id FROM `disciplinas` INNER JOIN atribuicaos ON disciplinas.id = atribuicaos.disciplina_id INNER JOIN classes ON classes.id = atribuicaos.classe_id INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.unidade_id =43 and atribuicaos.ano_letivo=2022) [0m
  [4;36;1mProfessor Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mClasse Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2022-05-05 15:47:33' AND ends_at >= '2022-05-05 15:47:33') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 214ms (View: 43, DB: 12) | 200 OK [http://localhost/faltasalunos/new]
  [4;36;1mAtribuicao Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#data (for 127.0.0.1 at 2022-05-05 12:47:37) [POST]
  Parameters: {"faltasalunos_data"=>"2022-05-29", "authenticity_token"=>"xvTDErOpXfElXv1vzTuZuxPPmjta7ZR7Z0RjogbkzDI="}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
Rendering template within layouts/application
Rendering faltasalunos/data
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2022-05-05 15:47:37' AND ends_at >= '2022-05-05 15:47:37') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 189ms (View: 21, DB: 4) | 200 OK [http://localhost/faltasalunos/data]
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#classe (for 127.0.0.1 at 2022-05-05 12:47:39) [POST]
  Parameters: {"professor_id"=>"184", "authenticity_token"=>"xvTDErOpXfElXv1vzTuZuxPPmjta7ZR7Z0RjogbkzDI="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (professor_id='184' and ano_letivo=2022) [0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT disciplinas.id as disc_id, classes.unidade_id, atribuicaos.disciplina_id as disciplina, classes.id as classe_id, CONCAT(classes.classe_classe, ' - ',disciplinas.disciplina,' - ',unidades.nome) AS classe FROM `classes` INNER JOIN atribuicaos on classes.id = atribuicaos.classe_id INNER JOIN disciplinas on disciplinas.id = atribuicaos.disciplina_id INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (disciplinas.nao_disciplina = 0 AND atribuicaos.professor_id = '184' AND atribuicaos.ano_letivo =2022) ORDER BY disciplina ASC[0m
  [4;36;1mClasse Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered faltasalunos/_classe (5.3ms)
Completed in 194ms (View: 6, DB: 5) | 200 OK [http://localhost/faltasalunos/classe]
  [4;35;1mAtribuicao Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mProfessor Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#disciplina (for 127.0.0.1 at 2022-05-05 12:47:42) [POST]
  Parameters: {"disciplina_id"=>"1", "authenticity_token"=>"xvTDErOpXfElXv1vzTuZuxPPmjta7ZR7Z0RjogbkzDI="}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
Rendering template within layouts/application
Rendering faltasalunos/disciplina
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2022-05-05 15:47:42' AND ends_at >= '2022-05-05 15:47:42') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 190ms (View: 25, DB: 4) | 200 OK [http://localhost/faltasalunos/disciplina]
  [4;35;1mAtribuicao Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#alunos (for 127.0.0.1 at 2022-05-05 12:47:45) [POST]
  Parameters: {"classe_id"=>"3815", "authenticity_token"=>"xvTDErOpXfElXv1vzTuZuxPPmjta7ZR7Z0RjogbkzDI="}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (id = '3815') [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT alunos.id , CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn , matriculas.classe_num as numero , matriculas.status as status FROM `alunos` INNER JOIN matriculas on alunos.id = matriculas.aluno_id WHERE (matriculas.classe_id = '3815' AND matriculas.ano_letivo =2022 and ( aluno_status!='EGRESSO' OR aluno_status is null OR aluno_status!='ABANDONO' OR aluno_status!='FALECIDO' OR aluno_status!='TRANSFERIDO') ) ORDER BY classe_num ASC[0m
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Rendered faltasalunos/_alunos (112.9ms)
Completed in 288ms (View: 113, DB: 5) | 200 OK [http://localhost/faltasalunos/alunos]
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#alunos (for 127.0.0.1 at 2022-05-05 12:47:46) [POST]
  Parameters: {"classe_id"=>"3815", "authenticity_token"=>"xvTDErOpXfElXv1vzTuZuxPPmjta7ZR7Z0RjogbkzDI="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id = '3815') [0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id , CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn , matriculas.classe_num as numero , matriculas.status as status FROM `alunos` INNER JOIN matriculas on alunos.id = matriculas.aluno_id WHERE (matriculas.classe_id = '3815' AND matriculas.ano_letivo =2022 and ( aluno_status!='EGRESSO' OR aluno_status is null OR aluno_status!='ABANDONO' OR aluno_status!='FALECIDO' OR aluno_status!='TRANSFERIDO') ) ORDER BY classe_num ASC[0m
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Rendered faltasalunos/_alunos (21.4ms)
Completed in 198ms (View: 22, DB: 5) | 200 OK [http://localhost/faltasalunos/alunos]
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing FaltasalunosController#alunos_faltas_falta (for 127.0.0.1 at 2022-05-05 12:47:50) [GET]
  Parameters: {"commit"=>"Confirmar", "aluno_ids"=>["29565", "16452"]}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (id = 184 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classes.id), (classe_classe) as classe_unidade FROM `classes` INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (classes.classe_ano_letivo = 2022 AND atribuicaos.professor_id = 184 and classes.unidade_id = 43) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT distinct(unidades.id), nome FROM `unidades` INNER JOIN users ON unidades.id = users.unidade_id WHERE (desativada = 0 and (tipo_id = 1 or tipo_id = 4 or tipo_id = 7) and users.unidade_id=43) ORDER BY nome ASC[0m
  [4;35;1mFaltasaluno Load (38.5ms)[0m   [0mSELECT distinct(data) FROM `faltasalunos` INNER JOIN `classes` ON `classes`.id = `faltasalunos`.classe_id WHERE (data='2022-05-29' AND classe_id=4211 AND professor_id='184') ORDER BY data DESC, classe_id ASC[0m
  [4;36;1mAluno Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` IN (29565,16452)) ORDER BY aluno_nome ASC[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (professor_id='184' and ano_letivo=2022 and classe_id='3815' and disciplina_id ='1') [0m
  [4;35;1mAtribuicao Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mFaltasaluno Load (115.1ms)[0m   [0;1mSELECT * FROM `faltasalunos` WHERE (data= '2022-05-29' and (aluno_id=29565 OR aluno_id IS NULL) and atribuicao_id=18496) [0m
  [4;35;1mFaltasaluno Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `faltasalunos`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id=29565 and classe_id='3815') [0m
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFaltasaluno Create (13.6ms)[0m   [0mINSERT INTO `faltasalunos` (`classe_id`, `unidade_id`, `disciplina_id`, `updated_at`, `matricula_id`, `ano_letivo`, `created_at`, `professor_id`, `aluno_id`, `faltas`, `user_id`, `obs`, `atribuicao_id`, `data`, `conteudo`, `ativo`) VALUES(3815, 43, 1, '2022-05-05 15:47:51', 92692, 2022, '2022-05-05 15:47:51', 184, 29565, 7, 2, '', 18496, '2022-05-29', NULL, 0)[0m
  [4;36;1mSQL (48.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mFaltasaluno Load (0.5ms)[0m   [0mSELECT * FROM `faltasalunos` ORDER BY faltasalunos.id DESC LIMIT 1[0m
  [4;36;1mFaltasaluno Load (111.0ms)[0m   [0;1mSELECT * FROM `faltasalunos` WHERE (data= '2022-05-29' and (aluno_id=16452 OR aluno_id IS NULL) and atribuicao_id=18496) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id=16452 and classe_id='3815') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFaltasaluno Create (15.5ms)[0m   [0mINSERT INTO `faltasalunos` (`classe_id`, `unidade_id`, `disciplina_id`, `updated_at`, `matricula_id`, `ano_letivo`, `created_at`, `professor_id`, `aluno_id`, `faltas`, `user_id`, `obs`, `atribuicao_id`, `data`, `conteudo`, `ativo`) VALUES(3815, 43, 1, '2022-05-05 15:47:51', 92740, 2022, '2022-05-05 15:47:51', 184, 16452, 7, 2, '', 18496, '2022-05-29', NULL, 0)[0m
  [4;36;1mSQL (48.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mFaltasaluno Load (0.5ms)[0m   [0mSELECT * FROM `faltasalunos` ORDER BY faltasalunos.id DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering faltasalunos/alunos_faltas_falta
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2022 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT DISTINCT (disciplinas.disciplina), disciplinas.id FROM `disciplinas` INNER JOIN atribuicaos ON disciplinas.id = atribuicaos.disciplina_id INNER JOIN classes ON classes.id = atribuicaos.classe_id INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.unidade_id =43 and atribuicaos.ano_letivo=2022) [0m
  [4;36;1mProfessor Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 184) [0m
  [4;36;1mDisciplina Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mClasse Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 3815) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mInformativo Load (0.8ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2022-05-05 15:47:51' AND ends_at >= '2022-05-05 15:47:51') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 789ms (View: 162, DB: 406) | 200 OK [http://localhost/alunos_faltas_falta?aluno_ids%5B%5D=29565&aluno_ids%5B%5D=16452&commit=Confirmar]

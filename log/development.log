# Logfile created on Tue Mar 03 14:50:29 -0300 2020  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 14:50:33) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 17:50:33' AND ends_at >= '2020-03-03 17:50:34') [0m
  [4;35;1mroles_users Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 542ms (View: 462, DB: 6) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 14:50:40) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.5ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (33.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (24.3ms)
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (108.5ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 17:50:41' AND ends_at >= '2020-03-03 17:50:41') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 570ms (View: 413, DB: 7) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 14:50:45) [POST]
  Parameters: {"authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "ano_letivo1"=>"2019"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 15:00:55) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:00:55' AND ends_at >= '2020-03-03 18:00:55') [0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 222ms (View: 193, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:00:59) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.7ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (6.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (3.9ms)
  [4;35;1mProfessor Columns (3.5ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (30.3ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:00:59' AND ends_at >= '2020-03-03 18:00:59') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 313ms (View: 177, DB: 11) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:01:05) [POST]
  Parameters: {"ano_letivo1"=>"2016", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.4ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2016') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (304.1ms)
Completed in 524ms (View: 308, DB: 6) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:03:51) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (6.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.4ms)
  [4;35;1mProfessor Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (32.9ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:03:51' AND ends_at >= '2020-03-03 18:03:51') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 261ms (View: 86, DB: 8) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:04:01) [POST]
  Parameters: {"ano_letivo1"=>"2018", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.8ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2018') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (353.6ms)
Completed in 663ms (View: 354, DB: 5) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:05:01) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (4.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.2ms)
  [4;35;1mProfessor Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (21.6ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:05:01' AND ends_at >= '2020-03-03 18:05:01') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 375ms (View: 177, DB: 7) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:05:07) [POST]
  Parameters: {"ano_letivo1"=>"2016", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.3ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2016') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (307.1ms)
Completed in 517ms (View: 310, DB: 4) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 15:15:16) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:15:16' AND ends_at >= '2020-03-03 18:15:16') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 171ms (View: 149, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#consulta_ficha (for 127.0.0.1 at 2020-03-03 15:15:19) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering alunos/consulta_ficha
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Load (255.6ms)[0m   [0mSELECT id, CONCAT(aluno_nome, ' | ',date_format(aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` ORDER BY aluno_nome ASC[0m
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Rendered alunos/_consulta_nome (1307.1ms)
  [4;35;1mAluno Load (138.7ms)[0m   [0mSELECT id, aluno_nome, aluno_ra FROM `alunos` ORDER BY aluno_ra[0m
Rendered alunos/_consulta_ra (915.8ms)
  [4;36;1mAluno Load (137.1ms)[0m   [0;1mSELECT id, aluno_nome, aluno_rm FROM `alunos` ORDER BY aluno_rm[0m
Rendered alunos/_consulta_rm (983.9ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:15:23' AND ends_at >= '2020-03-03 18:15:23') [0m
  [4;36;1mUnidade Load (0.5ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 3754ms (View: 3203, DB: 538) | 200 OK [http://localhost/alunos/consulta_ficha]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:15:30) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (4.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.1ms)
  [4;35;1mProfessor Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (23.3ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:15:31' AND ends_at >= '2020-03-03 18:15:31') [0m
  [4;35;1mroles_users Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 337ms (View: 71, DB: 9) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:15:37) [POST]
  Parameters: {"ano_letivo1"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (148.8ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2019') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (478.5ms)
Completed in 863ms (View: 479, DB: 152) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#classes_ano (for 127.0.0.1 at 2020-03-03 15:15:53) [POST]
  Parameters: {"ano_letivo"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mClasse Load (0.5ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = '2019') ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_selecao_classe (10.2ms)
Completed in 191ms (View: 14, DB: 4) | 200 OK [http://localhost/atribuicaos/classes_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 15:16:36) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:16:36' AND ends_at >= '2020-03-03 18:16:36') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 220ms (View: 200, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 15:30:53) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:30:53' AND ends_at >= '2020-03-03 18:30:53') [0m
  [4;35;1mroles_users Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 204ms (View: 185, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:30:58) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (4.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.3ms)
  [4;35;1mProfessor Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (22.1ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:30:58' AND ends_at >= '2020-03-03 18:30:58') [0m
  [4;35;1mroles_users Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 218ms (View: 67, DB: 9) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:31:03) [POST]
  Parameters: {"ano_letivo1"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.6ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2019') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (381.4ms)
Completed in 619ms (View: 381, DB: 5) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 15:38:34) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:38:34' AND ends_at >= '2020-03-03 18:38:34') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 54ms (View: 31, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 15:38:40) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (2.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #13 of app/views/atribuicaos/_consulta_nome.html.erb:
10:  <table width="100%"  >
11:    <tr>
12:      <td colspan="2"align="right"><font size="2"> <b>Aluno:</b></font>
13:         <%= collection_select :aluno, :aluno_id, @alunos_boletim, :id, :aluno_nome_dtn, :include_blank => ' -- Selecione -- ' %>
14:           <%= observe_field 'aluno_aluno_id',
15:                :update => "relatorio",
16:                :url    => { :action => 'relatorio_aluno_nome' },

    app/views/atribuicaos/_consulta_nome.html.erb:13
    app/views/atribuicaos/relatorios_classe.html.erb:27
    app/views/atribuicaos/relatorios_classe.html.erb:14

Rendered rescues/_trace (36.7ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 15:39:45) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendered atribuicaos/_consulta_nome (0.9ms)
  [4;36;1mClasse Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (15.3ms)
  [4;35;1mProfessor Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (24.5ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:39:46' AND ends_at >= '2020-03-03 18:39:46') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 251ms (View: 86, DB: 8) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:40:26) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (8.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.0ms)
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (20.7ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:40:26' AND ends_at >= '2020-03-03 18:40:26') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 211ms (View: 162, DB: 7) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:40:31) [POST]
  Parameters: {"ano_letivo1"=>"2018", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (146.5ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2018') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (401.5ms)
Completed in 910ms (View: 405, DB: 150) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:40:56) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (3.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.0ms)
  [4;35;1mProfessor Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (21.4ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:40:56' AND ends_at >= '2020-03-03 18:40:56') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 256ms (View: 64, DB: 7) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:41:20) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (7.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (2.3ms)
  [4;35;1mProfessor Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (24.9ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:41:20' AND ends_at >= '2020-03-03 18:41:20') [0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 135ms (View: 74, DB: 9) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:41:25) [POST]
  Parameters: {"ano_letivo1"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.6ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2019') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (390.8ms)
Completed in 740ms (View: 392, DB: 4) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:41:31) [POST]
  Parameters: {"ano_letivo1"=>"2018", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.7ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2018') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (363.7ms)
Completed in 628ms (View: 364, DB: 6) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:41:36) [POST]
  Parameters: {"ano_letivo1"=>"2017", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (146.6ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2017') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (378.5ms)
Completed in 786ms (View: 379, DB: 149) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 15:41:39) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:41:39' AND ends_at >= '2020-03-03 18:41:39') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 54ms (View: 35, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:41:43) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (5.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.0ms)
  [4;35;1mProfessor Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (24.4ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:41:44' AND ends_at >= '2020-03-03 18:41:44') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 110ms (View: 64, DB: 8) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:41:49) [POST]
  Parameters: {"ano_letivo1"=>"2016", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (127.5ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2016') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (338.5ms)
Completed in 701ms (View: 339, DB: 131) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:41:58) [POST]
  Parameters: {"ano_letivo1"=>"2017", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.5ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2017') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (380.4ms)
Completed in 749ms (View: 381, DB: 5) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:42:08) [POST]
  Parameters: {"ano_letivo1"=>"2018", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.6ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2018') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (405.3ms)
Completed in 706ms (View: 405, DB: 5) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:42:22) [POST]
  Parameters: {"ano_letivo1"=>"2016", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.7ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2016') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (358.0ms)
Completed in 609ms (View: 359, DB: 5) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:42:24) [GET]
  Parameters: {"professor"=>{"id"=>""}, "ano_letivo1"=>"2016", "ano_letivo"=>"--Selecionar--", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "_"=>"1583260944317", "aluno"=>{"id"=>""}, "type_of"=>"1"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id = '' ) [0m
  [4;35;1mMatricula Load (46.5ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = '' and ano_letivo='2016') [0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id = 1899) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mMatricula Load (18.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = 1899 AND aluno_id='') ORDER BY classe_num[0m
  [4;35;1mNota Load (704.8ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2016' AND notas.ativo is NULL AND matricula_id=44950) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (476.9ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2016' AND notas.ativo is NULL AND matricula_id=44950) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mObservacaoNota Load (77.8ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id ='' AND ano_letivo ='2016' AND nota_id is NULL) [0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=1899 AND disciplinas.curriculo = 'B') [0m
  [4;35;1mNota Load (0.4ms)[0m   [0mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=1899) [0m
  [4;36;1mUnidade Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.5ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
Rendered atribuicaos/_sem_notas (21.4ms)
Completed in 1597ms (View: 26, DB: 1331) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=1&ano_letivo1=2016&aluno%5Bid%5D=&ano_letivo=--Selecionar--&professor%5Bid%5D=&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583260944317]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:42:35) [POST]
  Parameters: {"ano_letivo1"=>"2018", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.6ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2018') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (280.3ms)
Completed in 670ms (View: 282, DB: 4) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:42:42) [POST]
  Parameters: {"ano_letivo1"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.6ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2019') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (394.2ms)
Completed in 666ms (View: 395, DB: 5) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#classes_ano (for 127.0.0.1 at 2020-03-03 15:42:53) [POST]
  Parameters: {"ano_letivo"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = '2019') ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_selecao_classe (8.4ms)
Completed in 62ms (View: 9, DB: 3) | 200 OK [http://localhost/atribuicaos/classes_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:43:01) [GET]
  Parameters: {"classe"=>{"id"=>"1870"}, "professor"=>{"id"=>""}, "ano_letivo1"=>"2019", "ano_letivo"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "_"=>"1583260981314", "aluno"=>{"id"=>""}, "type_of"=>"2"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (21.9ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = '1870' AND (status = "MATRICULADO" or status = "TRANSFERENCIA" or status = "*REMANEJADO")) ORDER BY classe_num[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (id = '1870') [0m
  [4;36;1mAtribuicao Load (7.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '1870') [0m
  [4;35;1mNota Load (322.3ms)[0m   [0mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id='1870' AND disciplinas.curriculo = 'B') [0m
  [4;36;1mNota Load (311.0ms)[0m   [0;1mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id='1870') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mNota Load (489.7ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53754) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mNota Load (523.4ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53754) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 9629) [0m
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mAtribuicao Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mAtribuicao Load (0.4ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mAtribuicao Load (0.3ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mAtribuicao Load (0.3ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mAtribuicao Load (0.3ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (32.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305500) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (33.8ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=305500 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `observacao_notas`[0m
  [4;35;1mObservacaoNota Load (37.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305501) [0m
  [4;36;1mObservacaoNota Load (32.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305502) [0m
  [4;35;1mObservacaoNota Load (32.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305503) [0m
  [4;36;1mObservacaoNota Load (29.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305504) [0m
  [4;35;1mObservacaoNota Load (33.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305506) [0m
  [4;36;1mObservacaoNota Load (29.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305507) [0m
  [4;35;1mObservacaoNota Load (31.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305505) [0m
  [4;36;1mObservacaoNota Load (31.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =9629 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (493.7ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53755) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (495.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53755) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15334) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (39.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (35.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305508 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (30.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305509) [0m
  [4;36;1mObservacaoNota Load (31.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305510) [0m
  [4;35;1mObservacaoNota Load (32.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305511) [0m
  [4;36;1mObservacaoNota Load (28.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305512) [0m
  [4;35;1mObservacaoNota Load (32.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305514) [0m
  [4;36;1mObservacaoNota Load (30.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305515) [0m
  [4;35;1mObservacaoNota Load (33.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305513) [0m
  [4;36;1mObservacaoNota Load (29.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =15334 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (491.4ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53756) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (514.6ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53756) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 9188) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (35.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305516) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (35.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305516 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (34.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305517) [0m
  [4;36;1mObservacaoNota Load (33.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305518) [0m
  [4;35;1mObservacaoNota Load (39.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305519) [0m
  [4;36;1mObservacaoNota Load (45.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305520) [0m
  [4;35;1mObservacaoNota Load (31.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305522) [0m
  [4;36;1mObservacaoNota Load (33.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305523) [0m
  [4;35;1mObservacaoNota Load (32.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305521) [0m
  [4;36;1mObservacaoNota Load (29.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =9188 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (500.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53757) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (492.9ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53757) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.7ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15649) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (37.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305524) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (35.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305524 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (37.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305525) [0m
  [4;36;1mObservacaoNota Load (29.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305526) [0m
  [4;35;1mObservacaoNota Load (30.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305527) [0m
  [4;36;1mObservacaoNota Load (33.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305528) [0m
  [4;35;1mObservacaoNota Load (29.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305530) [0m
  [4;36;1mObservacaoNota Load (29.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305531) [0m
  [4;35;1mObservacaoNota Load (29.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305529) [0m
  [4;36;1mObservacaoNota Load (29.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =15649 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (496.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53759) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (495.4ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53759) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23413) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (36.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305540) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (30.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305540 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (32.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305541) [0m
  [4;36;1mObservacaoNota Load (30.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305542) [0m
  [4;35;1mObservacaoNota Load (29.8ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305543) [0m
  [4;36;1mObservacaoNota Load (31.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305544) [0m
  [4;35;1mObservacaoNota Load (29.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305546) [0m
  [4;36;1mObservacaoNota Load (29.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305547) [0m
  [4;35;1mObservacaoNota Load (32.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305545) [0m
  [4;36;1mObservacaoNota Load (30.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =23413 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (504.8ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53760) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (492.4ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53760) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15354) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (32.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305548) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (32.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305548 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (29.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305549) [0m
  [4;36;1mObservacaoNota Load (29.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305550) [0m
  [4;35;1mObservacaoNota Load (29.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305551) [0m
  [4;36;1mObservacaoNota Load (29.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305552) [0m
  [4;35;1mObservacaoNota Load (29.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305554) [0m
  [4;36;1mObservacaoNota Load (29.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305555) [0m
  [4;35;1mObservacaoNota Load (28.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305553) [0m
  [4;36;1mObservacaoNota Load (30.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =15354 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (488.0ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53764) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (497.4ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53764) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 16190) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (36.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305578) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (31.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305578 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (34.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305579) [0m
  [4;36;1mObservacaoNota Load (34.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305580) [0m
  [4;35;1mObservacaoNota Load (29.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305581) [0m
  [4;36;1mObservacaoNota Load (29.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305582) [0m
  [4;35;1mObservacaoNota Load (31.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305584) [0m
  [4;36;1mObservacaoNota Load (31.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305585) [0m
  [4;35;1mObservacaoNota Load (32.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305583) [0m
  [4;36;1mObservacaoNota Load (29.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =16190 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (510.8ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53766) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (489.5ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53766) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13519) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (34.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305594) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (29.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305594 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (32.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305595) [0m
  [4;36;1mObservacaoNota Load (28.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305596) [0m
  [4;35;1mObservacaoNota Load (33.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305597) [0m
  [4;36;1mObservacaoNota Load (32.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305598) [0m
  [4;35;1mObservacaoNota Load (32.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305600) [0m
  [4;36;1mObservacaoNota Load (36.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305601) [0m
  [4;35;1mObservacaoNota Load (35.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305599) [0m
  [4;36;1mObservacaoNota Load (34.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =13519 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (503.4ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53767) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (497.7ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53767) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15256) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (29.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305602) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (32.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305602 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (38.8ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305603) [0m
  [4;36;1mObservacaoNota Load (32.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305604) [0m
  [4;35;1mObservacaoNota Load (31.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305605) [0m
  [4;36;1mObservacaoNota Load (32.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305606) [0m
  [4;35;1mObservacaoNota Load (31.8ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305608) [0m
  [4;36;1mObservacaoNota Load (33.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305609) [0m
  [4;35;1mObservacaoNota Load (32.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305607) [0m
  [4;36;1mObservacaoNota Load (29.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =15256 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (521.8ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53768) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (509.6ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53768) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15674) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (38.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305610) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (37.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305610 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (33.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305611) [0m
  [4;36;1mObservacaoNota Load (32.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305612) [0m
  [4;35;1mObservacaoNota Load (31.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305613) [0m
  [4;36;1mObservacaoNota Load (29.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305614) [0m
  [4;35;1mObservacaoNota Load (31.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305616) [0m
  [4;36;1mObservacaoNota Load (33.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305617) [0m
  [4;35;1mObservacaoNota Load (32.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305615) [0m
  [4;36;1mObservacaoNota Load (29.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =15674 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (509.7ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53781) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (533.5ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53781) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (1.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13523) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (33.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305709) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (39.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305709 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (36.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305710) [0m
  [4;36;1mObservacaoNota Load (33.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305711) [0m
  [4;35;1mObservacaoNota Load (32.8ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305712) [0m
  [4;36;1mObservacaoNota Load (28.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305713) [0m
  [4;35;1mObservacaoNota Load (34.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305715) [0m
  [4;36;1mObservacaoNota Load (34.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305716) [0m
  [4;35;1mObservacaoNota Load (40.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305714) [0m
  [4;36;1mObservacaoNota Load (29.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =13523 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (516.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53782) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (490.4ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53782) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 12639) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (36.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305717) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (30.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305717 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (32.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305718) [0m
  [4;36;1mObservacaoNota Load (28.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305719) [0m
  [4;35;1mObservacaoNota Load (30.8ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305720) [0m
  [4;36;1mObservacaoNota Load (28.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305721) [0m
  [4;35;1mObservacaoNota Load (29.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305723) [0m
  [4;36;1mObservacaoNota Load (29.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305724) [0m
  [4;35;1mObservacaoNota Load (29.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305722) [0m
  [4;36;1mObservacaoNota Load (30.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =12639 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (489.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53784) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (507.3ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53784) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 14014) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (36.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305725) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (32.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305725 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (33.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305726) [0m
  [4;36;1mObservacaoNota Load (31.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305727) [0m
  [4;35;1mObservacaoNota Load (29.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305728) [0m
  [4;36;1mObservacaoNota Load (29.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305729) [0m
  [4;35;1mObservacaoNota Load (29.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305731) [0m
  [4;36;1mObservacaoNota Load (29.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305732) [0m
  [4;35;1mObservacaoNota Load (29.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305730) [0m
  [4;36;1mObservacaoNota Load (29.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =14014 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (484.8ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53786) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (485.4ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53786) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15561) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (32.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305741) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (33.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305741 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (32.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305742) [0m
  [4;36;1mObservacaoNota Load (28.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305743) [0m
  [4;35;1mObservacaoNota Load (29.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305744) [0m
  [4;36;1mObservacaoNota Load (30.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305745) [0m
  [4;35;1mObservacaoNota Load (29.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305747) [0m
  [4;36;1mObservacaoNota Load (30.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305748) [0m
  [4;35;1mObservacaoNota Load (29.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305746) [0m
  [4;36;1mObservacaoNota Load (32.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =15561 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (484.6ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53787) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (489.5ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53787) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8662) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (38.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305749) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (31.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305749 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (37.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305750) [0m
  [4;36;1mObservacaoNota Load (31.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305751) [0m
  [4;35;1mObservacaoNota Load (30.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305752) [0m
  [4;36;1mObservacaoNota Load (44.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305753) [0m
  [4;35;1mObservacaoNota Load (32.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305755) [0m
  [4;36;1mObservacaoNota Load (28.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305756) [0m
  [4;35;1mObservacaoNota Load (28.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305754) [0m
  [4;36;1mObservacaoNota Load (35.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =8662 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (506.7ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53788) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (502.5ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53788) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23420) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (35.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305757) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (33.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305757 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (32.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305758) [0m
  [4;36;1mObservacaoNota Load (35.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305759) [0m
  [4;35;1mObservacaoNota Load (33.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305760) [0m
  [4;36;1mObservacaoNota Load (29.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305761) [0m
  [4;35;1mObservacaoNota Load (38.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305763) [0m
  [4;36;1mObservacaoNota Load (34.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305764) [0m
  [4;35;1mObservacaoNota Load (32.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305762) [0m
  [4;36;1mObservacaoNota Load (30.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =23420 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (505.6ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53789) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (503.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53789) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13978) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (36.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305765) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (33.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305765 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (31.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305766) [0m
  [4;36;1mObservacaoNota Load (32.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305767) [0m
  [4;35;1mObservacaoNota Load (30.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305768) [0m
  [4;36;1mObservacaoNota Load (29.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305769) [0m
  [4;35;1mObservacaoNota Load (32.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305771) [0m
  [4;36;1mObservacaoNota Load (32.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305772) [0m
  [4;35;1mObservacaoNota Load (29.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305770) [0m
  [4;36;1mObservacaoNota Load (32.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =13978 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (496.5ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53790) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (519.7ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53790) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 16374) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (31.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (35.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305773 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (32.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305774) [0m
  [4;36;1mObservacaoNota Load (33.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305775) [0m
  [4;35;1mObservacaoNota Load (30.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305776) [0m
  [4;36;1mObservacaoNota Load (32.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305777) [0m
  [4;35;1mObservacaoNota Load (30.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305779) [0m
  [4;36;1mObservacaoNota Load (36.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305780) [0m
  [4;35;1mObservacaoNota Load (29.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305778) [0m
  [4;36;1mObservacaoNota Load (31.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =16374 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (505.0ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53791) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (492.8ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53791) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 12870) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (31.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305781) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (29.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305781 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (32.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305782) [0m
  [4;36;1mObservacaoNota Load (28.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305783) [0m
  [4;35;1mObservacaoNota Load (29.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305784) [0m
  [4;36;1mObservacaoNota Load (29.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305785) [0m
  [4;35;1mObservacaoNota Load (29.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305787) [0m
  [4;36;1mObservacaoNota Load (29.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305788) [0m
  [4;35;1mObservacaoNota Load (30.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305786) [0m
  [4;36;1mObservacaoNota Load (29.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =12870 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (482.3ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53792) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (508.0ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53792) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17196) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (35.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305789) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (30.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305789 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (31.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305790) [0m
  [4;36;1mObservacaoNota Load (30.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305791) [0m
  [4;35;1mObservacaoNota Load (29.8ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305792) [0m
  [4;36;1mObservacaoNota Load (35.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305793) [0m
  [4;35;1mObservacaoNota Load (29.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305795) [0m
  [4;36;1mObservacaoNota Load (29.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305796) [0m
  [4;35;1mObservacaoNota Load (32.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305794) [0m
  [4;36;1mObservacaoNota Load (31.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =17196 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (490.7ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53813) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (483.4ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53813) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.7ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 9314) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (35.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306029) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (31.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=306029 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (29.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306030) [0m
  [4;36;1mObservacaoNota Load (28.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306031) [0m
  [4;35;1mObservacaoNota Load (31.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306032) [0m
  [4;36;1mObservacaoNota Load (29.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306033) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mObservacaoNota Load (29.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=306033 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (33.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306035) [0m
  [4;36;1mObservacaoNota Load (30.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306036) [0m
  [4;35;1mObservacaoNota Load (29.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306034) [0m
  [4;36;1mObservacaoNota Load (29.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =9314 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (493.5ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53819) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (493.7ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53819) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 9591) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (34.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306073) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (30.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=306073 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (33.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306074) [0m
  [4;36;1mObservacaoNota Load (28.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306075) [0m
  [4;35;1mObservacaoNota Load (31.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306076) [0m
  [4;36;1mObservacaoNota Load (30.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306077) [0m
  [4;35;1mObservacaoNota Load (29.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306079) [0m
  [4;36;1mObservacaoNota Load (32.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306080) [0m
  [4;35;1mObservacaoNota Load (28.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306078) [0m
  [4;36;1mObservacaoNota Load (30.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =9591 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (505.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53823) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (516.9ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53823) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17199) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (37.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306108) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (29.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=306108 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (32.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306109) [0m
  [4;36;1mObservacaoNota Load (28.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306110) [0m
  [4;35;1mObservacaoNota Load (29.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306111) [0m
  [4;36;1mObservacaoNota Load (29.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306112) [0m
  [4;35;1mObservacaoNota Load (29.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306114) [0m
  [4;36;1mObservacaoNota Load (29.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306115) [0m
  [4;35;1mObservacaoNota Load (28.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306113) [0m
  [4;36;1mObservacaoNota Load (29.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =17199 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (491.4ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53858) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (486.7ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53858) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13558) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (36.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306454) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (30.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=306454 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (36.8ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306455) [0m
  [4;36;1mObservacaoNota Load (29.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306456) [0m
  [4;35;1mObservacaoNota Load (29.8ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306457) [0m
  [4;36;1mObservacaoNota Load (29.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306458) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mObservacaoNota Load (29.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=306458 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (30.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306460) [0m
  [4;36;1mObservacaoNota Load (32.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306461) [0m
  [4;35;1mObservacaoNota Load (34.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306459) [0m
  [4;36;1mObservacaoNota Load (29.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =13558 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (488.4ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53872) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (485.3ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53872) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 12689) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (32.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306618) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (30.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=306618 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (30.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306619) [0m
  [4;36;1mObservacaoNota Load (29.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306620) [0m
  [4;35;1mObservacaoNota Load (29.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306621) [0m
  [4;36;1mObservacaoNota Load (29.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306622) [0m
  [4;35;1mObservacaoNota Load (29.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306624) [0m
  [4;36;1mObservacaoNota Load (29.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306625) [0m
  [4;35;1mObservacaoNota Load (29.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306623) [0m
  [4;36;1mObservacaoNota Load (29.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =12689 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (480.5ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=55152) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (487.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=55152) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15645) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (37.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318913) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (33.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=318913 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (32.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318914) [0m
  [4;36;1mObservacaoNota Load (29.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318915) [0m
  [4;35;1mObservacaoNota Load (30.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318916) [0m
  [4;36;1mObservacaoNota Load (29.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318917) [0m
  [4;35;1mObservacaoNota Load (29.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318919) [0m
  [4;36;1mObservacaoNota Load (29.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318920) [0m
  [4;35;1mObservacaoNota Load (29.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318918) [0m
  [4;36;1mObservacaoNota Load (30.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =15645 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (499.0ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=55558) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (501.9ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=55558) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23822) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (29.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321323) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (30.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=321323 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (30.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321324) [0m
  [4;36;1mObservacaoNota Load (28.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321325) [0m
  [4;35;1mObservacaoNota Load (30.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321326) [0m
  [4;36;1mObservacaoNota Load (29.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321327) [0m
  [4;35;1mObservacaoNota Load (29.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321329) [0m
  [4;36;1mObservacaoNota Load (30.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321330) [0m
  [4;35;1mObservacaoNota Load (29.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321328) [0m
  [4;36;1mObservacaoNota Load (29.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =23822 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (480.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=56335) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (496.4ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=56335) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.8ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23414) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (30.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325323) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (33.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=325323 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (34.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325324) [0m
  [4;36;1mObservacaoNota Load (31.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325325) [0m
  [4;35;1mObservacaoNota Load (33.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325326) [0m
  [4;36;1mObservacaoNota Load (33.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325327) [0m
  [4;35;1mObservacaoNota Load (34.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325329) [0m
  [4;36;1mObservacaoNota Load (28.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325330) [0m
  [4;35;1mObservacaoNota Load (34.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325328) [0m
  [4;36;1mObservacaoNota Load (34.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =23414 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (504.7ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=56336) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (504.7ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=56336) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 24169) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (34.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325331) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (30.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=325331 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (31.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325332) [0m
  [4;36;1mObservacaoNota Load (29.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325333) [0m
  [4;35;1mObservacaoNota Load (28.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325334) [0m
  [4;36;1mObservacaoNota Load (29.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325335) [0m
  [4;35;1mObservacaoNota Load (28.8ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325337) [0m
  [4;36;1mObservacaoNota Load (29.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325338) [0m
  [4;35;1mObservacaoNota Load (29.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325336) [0m
  [4;36;1mObservacaoNota Load (28.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =24169 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (487.4ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=56422) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (482.8ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=56422) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13980) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (33.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325818) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (32.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=325818 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (30.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325819) [0m
  [4;36;1mObservacaoNota Load (29.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325820) [0m
  [4;35;1mObservacaoNota Load (41.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325821) [0m
  [4;36;1mObservacaoNota Load (29.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325822) [0m
  [4;35;1mObservacaoNota Load (29.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325824) [0m
  [4;36;1mObservacaoNota Load (29.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325825) [0m
  [4;35;1mObservacaoNota Load (29.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325823) [0m
  [4;36;1mObservacaoNota Load (29.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =13980 AND ano_letivo ='2019' AND nota_id is NULL) [0m
Rendered atribuicaos/_relatorio_classe (40522.2ms)
Completed in 41988ms (View: 1588, DB: 40156) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=2&ano_letivo1=2019&aluno%5Bid%5D=&ano_letivo=2019&classe%5Bid%5D=1870&professor%5Bid%5D=&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583260981314]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#impressao_relatorio_classe (for 127.0.0.1 at 2020-03-03 15:43:50) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;35;1mMatricula Load (15.5ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id = '1870') ORDER BY classe_num[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id = '1870') [0m
  [4;35;1mAtribuicao Load (0.3ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '1870') [0m
  [4;36;1mAluno Load (16.9ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` inner join matriculas on alunos.id = matriculas.aluno_id WHERE (matriculas.classe_id =1870) ORDER BY aluno_nome[0m
Rendering template within layouts/impressao
Rendering atribuicaos/impressao_relatorio_classe
  [4;35;1mMatricula Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mNota Load (494.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53754) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (475.5ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53754) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 9629) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mClasse Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mNota Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mAtribuicao Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mAtribuicao Load (0.3ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mDisciplina Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305500) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=305500 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `observacao_notas`[0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305501) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305502) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305503) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305504) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305506) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305507) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305505) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =9629 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (473.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53755) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (473.9ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53755) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15334) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305508) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=305508 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305509) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305510) [0m
  [4;36;1mObservacaoNota Load (0.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305511) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305512) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305514) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305515) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305513) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =15334 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (476.6ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53756) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (484.9ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53756) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 9188) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305516) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305516 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305517) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305518) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305519) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305520) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305522) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305523) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305521) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =9188 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (479.5ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53757) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (475.9ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53757) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15649) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305524) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=305524 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305525) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305526) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305527) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305528) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305530) [0m
  [4;35;1mObservacaoNota Load (0.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305531) [0m
  [4;36;1mObservacaoNota Load (0.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305529) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =15649 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (480.4ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53759) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (483.8ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53759) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23413) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305540) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305540 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305541) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305542) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305543) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305544) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305546) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305547) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305545) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =23413 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (484.3ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53760) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (477.9ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53760) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15354) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305548) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=305548 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305549) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305550) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305551) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305552) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305554) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305555) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305553) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =15354 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (478.0ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53764) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (474.0ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53764) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 16190) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 45) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305578) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305578 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305579) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305580) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305581) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305582) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305584) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305585) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305583) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =16190 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (476.0ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53766) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (480.8ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53766) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13519) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305594) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=305594 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305595) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305596) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305597) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305598) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305600) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305601) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305599) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =13519 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (483.0ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53767) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (479.5ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53767) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15256) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305602) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305602 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305603) [0m
  [4;36;1mObservacaoNota Load (0.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305604) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305605) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305606) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305608) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305609) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305607) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =15256 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (479.9ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53768) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (471.5ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53768) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15674) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305610) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=305610 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305611) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305612) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305613) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305614) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305616) [0m
  [4;35;1mObservacaoNota Load (0.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305617) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305615) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =15674 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (479.3ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53781) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (479.9ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53781) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13523) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305709) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305709 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305710) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305711) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305712) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305713) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305715) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305716) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305714) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =13523 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (479.6ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53782) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (478.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53782) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 12639) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305717) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=305717 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305718) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305719) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305720) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305721) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305723) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305724) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305722) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =12639 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (491.7ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53784) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (489.8ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53784) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 14014) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305725) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305725 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305726) [0m
  [4;36;1mObservacaoNota Load (0.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305727) [0m
  [4;35;1mObservacaoNota Load (0.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305728) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305729) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305731) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305732) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305730) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =14014 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (495.9ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53786) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (493.6ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53786) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15561) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305741) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=305741 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305742) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305743) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305744) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305745) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305747) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305748) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305746) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =15561 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (479.7ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53787) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (537.0ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53787) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8662) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305749) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305749 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305750) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305751) [0m
  [4;35;1mObservacaoNota Load (0.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305752) [0m
  [4;36;1mObservacaoNota Load (5.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305753) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305755) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305756) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305754) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =8662 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (482.0ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53788) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (481.9ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53788) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23420) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305757) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=305757 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305758) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305759) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305760) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305761) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305763) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305764) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305762) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =23420 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (482.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53789) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (478.4ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53789) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13978) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305765) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305765 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305766) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305767) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305768) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305769) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305771) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305772) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305770) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =13978 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (487.7ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53790) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (529.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53790) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 16374) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305773) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=305773 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305774) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305775) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305776) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305777) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305779) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305780) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305778) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =16374 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (486.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53791) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (501.3ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53791) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 12870) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305781) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=305781 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305782) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305783) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305784) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305785) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305787) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305788) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305786) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =12870 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (488.6ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53792) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (490.4ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53792) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17196) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305789) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=305789 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305790) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305791) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305792) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305793) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305795) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305796) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 305794) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =17196 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (485.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53813) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (486.7ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53813) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 9314) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306029) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=306029 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306030) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306031) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306032) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306033) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=306033 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306035) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306036) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306034) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =9314 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (489.5ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53819) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (485.3ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53819) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 9591) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306073) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=306073 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306074) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306075) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306076) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306077) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306079) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306080) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306078) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =9591 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (475.8ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53823) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (477.4ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53823) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17199) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306108) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=306108 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306109) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306110) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306111) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306112) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306114) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306115) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306113) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =17199 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (481.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53858) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (483.3ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53858) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13558) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306454) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=306454 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306455) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306456) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306457) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306458) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=306458 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306460) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306461) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306459) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =13558 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (488.5ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=53872) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (483.3ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=53872) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 12689) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306618) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=306618 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306619) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306620) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306621) [0m
  [4;36;1mObservacaoNota Load (0.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306622) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306624) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306625) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 306623) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =12689 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (484.7ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=55152) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (483.6ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=55152) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15645) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318913) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=318913 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318914) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318915) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318916) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318917) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318919) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318920) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 318918) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =15645 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (495.6ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=55558) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (480.9ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=55558) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23822) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321323) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=321323 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321324) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321325) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321326) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321327) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321329) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321330) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 321328) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =23822 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (489.7ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=56335) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (489.5ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=56335) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23414) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325323) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=325323 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325324) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325325) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325326) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325327) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325329) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325330) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325328) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =23414 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (482.7ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=56336) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mNota Load (485.9ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=56336) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 24169) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325331) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=325331 and ano_letivo='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325332) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325333) [0m
  [4;35;1mObservacaoNota Load (0.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325334) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325335) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325337) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325338) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325336) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id =24169 AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (490.9ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND matricula_id=56422) ORDER BY disciplinas.ordem ASC[0m
  [4;36;1mNota Load (489.8ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (atribuicaos.classe_id ='1870' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND matricula_id=56422) ORDER BY disciplinas.ordem ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13980) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8632) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8633) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8634) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8635) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8636) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8763) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8769) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8721) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325818) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=325818 and ano_letivo='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325819) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325820) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325821) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325822) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325824) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325825) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 325823) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id =13980 AND ano_letivo ='2019' AND nota_id is NULL) [0m
Completed in 30101ms (View: 836, DB: 29199) | 200 OK [http://localhost/impressao_relatorio_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:45:21) [POST]
  Parameters: {"ano_letivo1"=>"2018", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.6ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' |53-52| ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2018') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (380.3ms)
Completed in 647ms (View: 381, DB: 4) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:46:24) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (4.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.5ms)
  [4;35;1mProfessor Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (19.6ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:46:25' AND ends_at >= '2020-03-03 18:46:25') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 249ms (View: 66, DB: 8) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:46:31) [POST]
  Parameters: {"ano_letivo1"=>"2017", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (147.2ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2017') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (253.2ms)
Completed in 626ms (View: 254, DB: 150) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 15:46:43) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendered atribuicaos/_consulta_nome (0.1ms)
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (7.5ms)
  [4;36;1mProfessor Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (22.1ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:46:43' AND ends_at >= '2020-03-03 18:46:43') [0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 129ms (View: 72, DB: 12) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:48:00) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (3.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (0.9ms)
  [4;36;1mProfessor Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (20.8ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:48:00' AND ends_at >= '2020-03-03 18:48:00') [0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 106ms (View: 60, DB: 7) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 15:48:34) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:48:34' AND ends_at >= '2020-03-03 18:48:34') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 55ms (View: 32, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 15:48:43) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendered atribuicaos/_consulta_nome (0.1ms)
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (8.7ms)
  [4;35;1mProfessor Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (23.4ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:48:43' AND ends_at >= '2020-03-03 18:48:43') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 120ms (View: 70, DB: 9) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 15:49:54) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mMatricula Load (24.0ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=52 AND matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' ) ORDER BY alunos.aluno_nome ASC[0m
Rendered atribuicaos/_consulta_nome (31.5ms)
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (11.2ms)
  [4;35;1mProfessor Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (18.6ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:49:54' AND ends_at >= '2020-03-03 18:49:54') [0m
  [4;35;1mroles_users Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 153ms (View: 79, DB: 33) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 15:50:43) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
ERROR: compiling _run_erb_app47views47atribuicaos47_consulta_nome46html46erb_locals_consulta_nome_object RAISED compile error
/home/desenvolvimento/sisgered/app/views/atribuicaos/_consulta_nome.html.erb:24: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47atribuicaos47_consulta_nome46html46erb_locals_consulta_nome_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];consulta_nome = local_assigns[:consulta_nome];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "    ";  if current_user.unidade_id == 53 or current_user.unidade_id == 52 ; @output_buffer.concat "\n       "
; @alunos_boletim1=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id",:conditions=>["matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO'", Time.now.year],:order => 'alunos.aluno_nome ASC'); @output_buffer.concat "\n    "
;   else ; @output_buffer.concat "\n       "
; @alunos_boletim1=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id",:conditions=>["matriculas.unidade_id=? AND matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' ",current_user.unidade_id,Time.now.year],:order => 'alunos.aluno_nome ASC'); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n\n\n\n\n <table width=\"100%\"  >\n   <tr>\n     <td colspan=\"2\"align=\"right\"><font size=\"2\"> <b>Aluno:</b></font>\n        "







; @output_buffer.concat(( collection_select :aluno, :aluno_id, @alunos_boletim1, :id, :aluno_nome_dtn, :include_blank => ' -- Selecione -- ' ).to_s); @output_buffer.concat "\n          "
; @output_buffer.concat(( observe_field 'aluno_aluno_id',
               :update => "relatorio",
               :url    => { :action => 'relatorio_aluno_nome' },
               :with   => 'aluno_aluno_id' ).to_s); @output_buffer.concat "\n         \n     </td>\n   </tr>\n  </table>\n "




; end; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/desenvolvimento/sisgered/app/views/atribuicaos/_consulta_nome.html.erb:24:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:276:in `render'
/home/desenvolvimento/sisgered/app/views/atribuicaos/relatorios_classe.html.erb:27:in `_run_erb_app47views47atribuicaos47relatorios_classe46html46erb'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/capture_helper.rb:36:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/capture_helper.rb:36:in `capture'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/capture_helper.rb:36:in `capture'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/form_tag_helper.rb:466:in `form_tag_in_block'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/form_tag_helper.rb:39:in `form_tag'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/helpers/prototype_helper.rb:339:in `form_remote_tag'
/home/desenvolvimento/sisgered/app/views/atribuicaos/relatorios_classe.html.erb:14:in `_run_erb_app47views47atribuicaos47relatorios_classe46html46erb'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1338:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/desenvolvimento/sisgered/app/views/atribuicaos/_consulta_nome.html.erb:24: syntax error, unexpected kENSURE, expecting $end) on line #24 of app/views/atribuicaos/_consulta_nome.html.erb:
21:   </table>
22:  <%end%>

    app/views/atribuicaos/_consulta_nome.html.erb:24:in `compile!'
    app/views/atribuicaos/relatorios_classe.html.erb:27
    app/views/atribuicaos/relatorios_classe.html.erb:14

Rendered rescues/_trace (158.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 15:50:50) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mMatricula Load (79.9ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_consulta_nome (386.4ms)
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (8.5ms)
  [4;35;1mProfessor Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (22.8ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:50:51' AND ends_at >= '2020-03-03 18:50:51') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 656ms (View: 526, DB: 87) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:50:56) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (4.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.2ms)
  [4;35;1mProfessor Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (22.2ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:50:56' AND ends_at >= '2020-03-03 18:50:56') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 240ms (View: 64, DB: 7) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:51:01) [POST]
  Parameters: {"ano_letivo1"=>"2018", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (146.3ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2018') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (364.5ms)
Completed in 791ms (View: 365, DB: 150) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:51:07) [POST]
  Parameters: {"ano_letivo1"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (156.2ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2019') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (270.5ms)
Completed in 827ms (View: 272, DB: 159) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 15:51:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mMatricula Load (0.9ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO') ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mMatricula Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_consulta_nome (284.5ms)
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (8.3ms)
  [4;36;1mProfessor Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (22.3ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:51:15' AND ends_at >= '2020-03-03 18:51:15') [0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 414ms (View: 359, DB: 11) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 15:52:32) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mMatricula Load (12.9ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo=NULL) ORDER BY alunos.aluno_nome ASC[0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #15 of app/views/atribuicaos/_consulta_nome.html.erb:
12:  <table width="100%"  >
13:    <tr>
14:      <td colspan="2"align="right"><font size="2"> <b>Aluno:</b></font>
15:         <%= collection_select :aluno, :aluno_id, @alunos_boletim1, :id, :aluno_nome_dtn, :include_blank => ' -- Selecione -- ' %>
16:           <%= observe_field 'aluno_aluno_id',
17:                :update => "relatorio",
18:                :url    => { :action => 'relatorio_aluno_nome' },

    app/views/atribuicaos/_consulta_nome.html.erb:15
    app/views/atribuicaos/relatorios_classe.html.erb:27
    app/views/atribuicaos/relatorios_classe.html.erb:14

Rendered rescues/_trace (151.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 15:52:47) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo=NULL) ORDER BY alunos.aluno_nome ASC[0m
Rendered atribuicaos/_consulta_nome (185.9ms)
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (10.7ms)
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (23.3ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:52:48' AND ends_at >= '2020-03-03 18:52:48') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 313ms (View: 269, DB: 7) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 15:53:32) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mMatricula Load (1.0ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_consulta_nome (281.0ms)
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (9.2ms)
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (21.9ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:53:32' AND ends_at >= '2020-03-03 18:53:32') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 427ms (View: 363, DB: 10) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-03 15:53:49) [POST]
  Parameters: {"ano_letivo1"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mMatricula Load (1.9ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2019') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (390.1ms)
Completed in 632ms (View: 392, DB: 5) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:53:51) [GET]
  Parameters: {"professor"=>{"id"=>""}, "ano_letivo1"=>"2019", "ano_letivo"=>"--Selecionar--", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "_"=>"1583261631263", "aluno"=>{"id"=>""}, "type_of"=>"1"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id = '' ) [0m
  [4;35;1mMatricula Load (45.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = '' and ano_letivo='2019') [0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id = 1870) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mMatricula Load (17.7ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = 1870 AND aluno_id='') ORDER BY classe_num[0m
  [4;35;1mNota Load (483.0ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND notas.ativo is NULL AND matricula_id=56422) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (476.6ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND notas.ativo is NULL AND matricula_id=56422) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mObservacaoNota Load (33.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id ='' AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (314.9ms)[0m   [0;1mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=1870 AND disciplinas.curriculo = 'B') [0m
  [4;35;1mNota Load (305.0ms)[0m   [0mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=1870) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
Rendered atribuicaos/_sem_notas (12.4ms)
Completed in 1905ms (View: 13, DB: 1680) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=1&ano_letivo1=2019&aluno%5Bid%5D=&ano_letivo=--Selecionar--&professor%5Bid%5D=&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583261631263]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:53:53) [GET]
  Parameters: {"professor"=>{"id"=>""}, "ano_letivo1"=>"2019", "ano_letivo"=>"--Selecionar--", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "_"=>"1583261632447", "aluno"=>{"id"=>""}, "type_of"=>"1"}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id = '' ) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = '' and ano_letivo='2019') [0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id = 1870) [0m
  [4;35;1mClasse Columns (6.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = 1870 AND aluno_id='') ORDER BY classe_num[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND notas.ativo is NULL AND matricula_id=56422) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND notas.ativo is NULL AND matricula_id=56422) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id ='' AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=1870 AND disciplinas.curriculo = 'B') [0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=1870) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
Rendered atribuicaos/_sem_notas (12.5ms)
Completed in 233ms (View: 14, DB: 11) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=1&ano_letivo1=2019&aluno%5Bid%5D=&ano_letivo=--Selecionar--&professor%5Bid%5D=&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583261632447]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 15:56:02) [GET]
  Parameters: {"professor"=>{"id"=>""}, "ano_letivo1"=>"2019", "ano_letivo"=>"--Selecionar--", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "_"=>"1583261762157", "aluno"=>{"id"=>"6549"}, "type_of"=>"1"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id = '6549' ) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = '6549' and ano_letivo='2019') [0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (id = 1899) [0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id = 1899 AND aluno_id='6549') ORDER BY classe_num[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='6549' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND notas.ativo is NULL AND matricula_id=44950) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='6549' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND notas.ativo is NULL AND matricula_id=44950) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id ='6549' AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=1899 AND disciplinas.curriculo = 'B') [0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=1899) [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8831) [0m
  [4;35;1mDisciplina Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8779) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8804) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8826) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8795) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11033) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8715) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8753) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 33) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8849) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 8) [0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 1899) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262200) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=262200 and ano_letivo ='2019') [0m
  [4;35;1mObservacaoNota Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `observacao_notas`[0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262196) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=262196 and ano_letivo ='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262198) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=262198 and ano_letivo ='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262199) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mObservacaoNota Load (0.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=262199 and ano_letivo ='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262197) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=262197 and ano_letivo ='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 319601) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262194) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262195) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262201) [0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered atribuicaos/_relatorio_aluno (86.0ms)
Completed in 344ms (View: 92, DB: 15) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=1&ano_letivo1=2019&aluno%5Bid%5D=6549&ano_letivo=--Selecionar--&professor%5Bid%5D=&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583261762157]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2020-03-03 15:56:02) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/6549.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorio_aluno_nome (for 127.0.0.1 at 2020-03-03 15:56:14) [POST]
  Parameters: {"aluno_aluno_id"=>"20253", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (id = '20253') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mMatricula Load (44.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = '20253' and ano_letivo=2020) [0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 45) [0m
  [4;35;1mClasse Load (0.5ms)[0m   [0mSELECT * FROM `classes` WHERE (id = 2523) [0m
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mMatricula Load (23.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id = 2523 AND aluno_id='20253') ORDER BY classe_num[0m
  [4;36;1mNota Load (487.9ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='20253' AND disciplinas.curriculo = 'B' AND notas.ano_letivo =2020 AND matricula_id=57111) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mNota Load (471.9ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='20253' AND disciplinas.curriculo = 'D' AND notas.ano_letivo =2020 AND matricula_id=57111) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mObservacaoNota Load (33.6ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id ='20253' AND ano_letivo =2020 AND nota_id is NULL) [0m
  [4;35;1mNota Load (308.5ms)[0m   [0mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=2523 AND disciplinas.curriculo = 'B') [0m
  [4;36;1mNota Load (303.7ms)[0m   [0;1mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=2523) [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 45) [0m
  [4;36;1mAtribuicao Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mAtribuicao Load (0.3ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11132) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mAtribuicao Load (0.3ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11133) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11134) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11135) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11136) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11195) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11196) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoNota Load (36.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328898) [0m
  [4;35;1mObservacaoNota Load (31.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328899) [0m
  [4;36;1mObservacaoNota Load (29.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328900) [0m
  [4;35;1mObservacaoNota Load (29.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328901) [0m
  [4;36;1mObservacaoNota Load (29.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328902) [0m
  [4;35;1mObservacaoNota Load (29.9ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328903) [0m
  [4;36;1mObservacaoNota Load (31.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328904) [0m
Rendered atribuicaos/_relatorio_aluno (250.9ms)
Completed in 2154ms (View: 30, DB: 1904) | 200 OK [http://localhost/atribuicaos/relatorio_aluno_nome]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorio_aluno_nome (for 127.0.0.1 at 2020-03-03 15:56:27) [POST]
  Parameters: {"aluno_aluno_id"=>"22927", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;35;1mAluno Load (0.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (id = '22927') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mMatricula Load (40.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = '22927' and ano_letivo=2020) [0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 4) [0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (id = 2802) [0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mMatricula Load (16.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id = 2802 AND aluno_id='22927') ORDER BY classe_num[0m
  [4;36;1mNota Load (493.9ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='22927' AND disciplinas.curriculo = 'B' AND notas.ano_letivo =2020 AND matricula_id=61803) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mNota Load (478.3ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='22927' AND disciplinas.curriculo = 'D' AND notas.ano_letivo =2020 AND matricula_id=61803) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mObservacaoNota Load (33.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (aluno_id ='22927' AND ano_letivo =2020 AND nota_id is NULL) [0m
  [4;35;1mNota Load (300.6ms)[0m   [0mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=2802 AND disciplinas.curriculo = 'B') [0m
  [4;36;1mNota Load (307.0ms)[0m   [0;1mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=2802) [0m

FloatDomainError (NaN):
  app/controllers/atribuicaos_controller.rb:351:in `relatorio_aluno_nome'

Rendered rescues/_trace (25.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 15:56:38) [POST]
  Parameters: {"authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mMatricula Load (0.9ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO') ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_consulta_nome (262.9ms)
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (7.8ms)
  [4;35;1mProfessor Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (19.1ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 18:56:38' AND ends_at >= '2020-03-03 18:56:38') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 503ms (View: 328, DB: 8) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorio_aluno_nome (for 127.0.0.1 at 2020-03-03 15:56:43) [POST]
  Parameters: {"aluno_aluno_id"=>"22927", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id = '22927') [0m
  [4;35;1mroles_users Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = '22927' and ano_letivo=2020) [0m
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 4) [0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id = 2802) [0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = 2802 AND aluno_id='22927') ORDER BY classe_num[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='22927' AND disciplinas.curriculo = 'B' AND notas.ano_letivo =2020 AND matricula_id=61803) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='22927' AND disciplinas.curriculo = 'D' AND notas.ano_letivo =2020 AND matricula_id=61803) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id ='22927' AND ano_letivo =2020 AND nota_id is NULL) [0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=2802 AND disciplinas.curriculo = 'B') [0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=2802) [0m

FloatDomainError (NaN):
  app/controllers/atribuicaos_controller.rb:351:in `relatorio_aluno_nome'

Rendered rescues/_trace (25.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorio_aluno_nome (for 127.0.0.1 at 2020-03-03 15:57:12) [POST]
  Parameters: {"aluno_aluno_id"=>"20253", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id = '20253') [0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = '20253' and ano_letivo=2020) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 45) [0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id = 2523) [0m
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = 2523 AND aluno_id='20253') ORDER BY classe_num[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='20253' AND disciplinas.curriculo = 'B' AND notas.ano_letivo =2020 AND matricula_id=57111) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='20253' AND disciplinas.curriculo = 'D' AND notas.ano_letivo =2020 AND matricula_id=57111) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id ='20253' AND ano_letivo =2020 AND nota_id is NULL) [0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=2523 AND disciplinas.curriculo = 'B') [0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=2523) [0m
  [4;36;1mNota Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mAluno Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 45) [0m
  [4;35;1mAtribuicao Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11132) [0m
  [4;35;1mDisciplina Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11133) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11134) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11135) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11136) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11195) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11196) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328898) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328899) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328900) [0m
  [4;36;1mObservacaoNota Load (0.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328901) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328902) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328903) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 328904) [0m
Rendered atribuicaos/_relatorio_aluno (34.0ms)
Completed in 143ms (View: 28, DB: 18) | 200 OK [http://localhost/atribuicaos/relatorio_aluno_nome]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorio_aluno_nome (for 127.0.0.1 at 2020-03-03 15:57:26) [POST]
  Parameters: {"aluno_aluno_id"=>"22927", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id = '22927') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = '22927' and ano_letivo=2020) [0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 4) [0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id = 2802) [0m
  [4;35;1mClasse Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = 2802 AND aluno_id='22927') ORDER BY classe_num[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='22927' AND disciplinas.curriculo = 'B' AND notas.ano_letivo =2020 AND matricula_id=61803) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='22927' AND disciplinas.curriculo = 'D' AND notas.ano_letivo =2020 AND matricula_id=61803) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mObservacaoNota Load (0.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id ='22927' AND ano_letivo =2020 AND nota_id is NULL) [0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=2802 AND disciplinas.curriculo = 'B') [0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=2802) [0m

FloatDomainError (NaN):
  app/controllers/atribuicaos_controller.rb:351:in `relatorio_aluno_nome'

Rendered rescues/_trace (123.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 16:01:16) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 19:01:16' AND ends_at >= '2020-03-03 19:01:16') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 53ms (View: 34, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 16:01:21) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (3.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.0ms)
  [4;35;1mProfessor Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (20.3ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 19:01:21' AND ends_at >= '2020-03-03 19:01:21') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 107ms (View: 60, DB: 6) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 16:01:34) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'alunos.id' in 'field list': SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` INNER JOIN `unidades` ON `unidades`.id = `matriculas`.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo=6.) ORDER BY alunos.aluno_nome ASC[0m

ActionView::TemplateError (Mysql::Error: Unknown column 'alunos.id' in 'field list': SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas`   INNER JOIN `unidades` ON `unidades`.id = `matriculas`.unidade_id  WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo=6.)  ORDER BY alunos.aluno_nome ASC) on line #2 of app/views/atribuicaos/_consulta_nome.html.erb:
1:     <% if current_user.unidade_id == 53 or current_user.unidade_id == 52 %>
2:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id",:joins=> :unidade, :conditions=>["matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' AND unidades.tipo=6.", Time.now.year],:order => 'alunos.aluno_nome ASC')%>
3:     <%  else %>
4:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id",:conditions=>["matriculas.unidade_id=? AND matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' ",current_user.unidade_id,Time.now.year],:order => 'alunos.aluno_nome ASC')%>
5:     <% end %>

    app/views/atribuicaos/_consulta_nome.html.erb:2
    app/views/atribuicaos/relatorios_classe.html.erb:27
    app/views/atribuicaos/relatorios_classe.html.erb:14

Rendered rescues/_trace (142.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 16:03:18) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 19:03:18' AND ends_at >= '2020-03-03 19:03:18') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 60ms (View: 41, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 16:03:21) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'unidades.tipo' in 'where clause': SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo=6.) ORDER BY alunos.aluno_nome ASC[0m

ActionView::TemplateError (Mysql::Error: Unknown column 'unidades.tipo' in 'where clause': SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas`  left join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo=6.)  ORDER BY alunos.aluno_nome ASC) on line #2 of app/views/atribuicaos/_consulta_nome.html.erb:
1:     <% if current_user.unidade_id == 53 or current_user.unidade_id == 52 %>
2:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id", :conditions=>["matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' AND unidades.tipo=6.", Time.now.year],:order => 'alunos.aluno_nome ASC')%>
3:     <%  else %>
4:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id",:conditions=>["matriculas.unidade_id=? AND matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' ",current_user.unidade_id,Time.now.year],:order => 'alunos.aluno_nome ASC')%>
5:     <% end %>

    app/views/atribuicaos/_consulta_nome.html.erb:2
    app/views/atribuicaos/relatorios_classe.html.erb:27
    app/views/atribuicaos/relatorios_classe.html.erb:14

Rendered rescues/_trace (41.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 16:03:56) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'unidades.tipo FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_' at line 1: SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo=6.) ORDER BY alunos.aluno_nome ASC[0m

ActionView::TemplateError (Mysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'unidades.tipo FROM `matriculas`  left join alunos ON alunos.id=matriculas.aluno_' at line 1: SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo FROM `matriculas`  left join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo=6.)  ORDER BY alunos.aluno_nome ASC) on line #2 of app/views/atribuicaos/_consulta_nome.html.erb:
1:     <% if current_user.unidade_id == 53 or current_user.unidade_id == 52 %>
2:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id", :conditions=>["matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' AND unidades.tipo=6.", Time.now.year],:order => 'alunos.aluno_nome ASC')%>
3:     <%  else %>
4:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id",:conditions=>["matriculas.unidade_id=? AND matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' ",current_user.unidade_id,Time.now.year],:order => 'alunos.aluno_nome ASC')%>
5:     <% end %>

    app/views/atribuicaos/_consulta_nome.html.erb:2
    app/views/atribuicaos/relatorios_classe.html.erb:27
    app/views/atribuicaos/relatorios_classe.html.erb:14

Rendered rescues/_trace (152.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 16:06:42) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'unidades.tipo_id FROM `matriculas` left join alunos ON alunos.id=matriculas.alu' at line 1: SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo_id=6.) ORDER BY alunos.aluno_nome ASC[0m

ActionView::TemplateError (Mysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'unidades.tipo_id FROM `matriculas`  left join alunos ON alunos.id=matriculas.alu' at line 1: SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id FROM `matriculas`  left join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo_id=6.)  ORDER BY alunos.aluno_nome ASC) on line #2 of app/views/atribuicaos/_consulta_nome.html.erb:
1:     <% if current_user.unidade_id == 53 or current_user.unidade_id == 52 %>
2:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id", :conditions=>["matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' AND unidades.tipo_id=6.", Time.now.year],:order => 'alunos.aluno_nome ASC')%>
3:     <%  else %>
4:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id",:conditions=>["matriculas.unidade_id=? AND matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' ",current_user.unidade_id,Time.now.year],:order => 'alunos.aluno_nome ASC')%>
5:     <% end %>

    app/views/atribuicaos/_consulta_nome.html.erb:2
    app/views/atribuicaos/relatorios_classe.html.erb:27
    app/views/atribuicaos/relatorios_classe.html.erb:14

Rendered rescues/_trace (52.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 16:07:16) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.8ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'unidades.tipo_id FROM `matriculas` inner join alunos ON alunos.id=matriculas.al' at line 1: SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id FROM `matriculas` inner join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo_id=6.) ORDER BY alunos.aluno_nome ASC[0m

ActionView::TemplateError (Mysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'unidades.tipo_id FROM `matriculas`  inner join alunos ON alunos.id=matriculas.al' at line 1: SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id FROM `matriculas`  inner join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo_id=6.)  ORDER BY alunos.aluno_nome ASC) on line #2 of app/views/atribuicaos/_consulta_nome.html.erb:
1:     <% if current_user.unidade_id == 53 or current_user.unidade_id == 52 %>
2:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id",:joins=> "inner join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id", :conditions=>["matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' AND unidades.tipo_id=6.", Time.now.year],:order => 'alunos.aluno_nome ASC')%>
3:     <%  else %>
4:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id",:conditions=>["matriculas.unidade_id=? AND matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' ",current_user.unidade_id,Time.now.year],:order => 'alunos.aluno_nome ASC')%>
5:     <% end %>

    app/views/atribuicaos/_consulta_nome.html.erb:2
    app/views/atribuicaos/relatorios_classe.html.erb:27
    app/views/atribuicaos/relatorios_classe.html.erb:14

Rendered rescues/_trace (37.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 16:07:27) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 19:07:27' AND ends_at >= '2020-03-03 19:07:27') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 228ms (View: 40, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 16:07:34) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (4.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.0ms)
  [4;35;1mProfessor Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (20.4ms)
  [4;36;1mInformativo Load (0.8ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 19:07:34' AND ends_at >= '2020-03-03 19:07:34') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 223ms (View: 179, DB: 8) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 16:07:37) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'unidades.tipo_id FROM `matriculas` inner join alunos ON alunos.id=matriculas.al' at line 1: SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id FROM `matriculas` inner join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo_id=6.) ORDER BY alunos.aluno_nome ASC[0m

ActionView::TemplateError (Mysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'unidades.tipo_id FROM `matriculas`  inner join alunos ON alunos.id=matriculas.al' at line 1: SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id FROM `matriculas`  inner join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo_id=6.)  ORDER BY alunos.aluno_nome ASC) on line #2 of app/views/atribuicaos/_consulta_nome.html.erb:
1:     <% if current_user.unidade_id == 53 or current_user.unidade_id == 52 %>
2:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id",:joins=> "inner join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id", :conditions=>["matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' AND unidades.tipo_id=6.", Time.now.year],:order => 'alunos.aluno_nome ASC')%>
3:     <%  else %>
4:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id",:conditions=>["matriculas.unidade_id=? AND matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' ",current_user.unidade_id,Time.now.year],:order => 'alunos.aluno_nome ASC')%>
5:     <% end %>

    app/views/atribuicaos/_consulta_nome.html.erb:2
    app/views/atribuicaos/relatorios_classe.html.erb:27
    app/views/atribuicaos/relatorios_classe.html.erb:14

Rendered rescues/_trace (38.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 16:09:32) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'unidades.tipo_id FROM `matriculas` inner join alunos ON alunos.id=matriculas.al' at line 1: SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id FROM `matriculas` inner join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO'.) ORDER BY alunos.aluno_nome ASC[0m

ActionView::TemplateError (Mysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'unidades.tipo_id FROM `matriculas`  inner join alunos ON alunos.id=matriculas.al' at line 1: SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id FROM `matriculas`  inner join alunos ON alunos.id=matriculas.aluno_id  WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO'.)  ORDER BY alunos.aluno_nome ASC) on line #2 of app/views/atribuicaos/_consulta_nome.html.erb:
1:     <% if current_user.unidade_id == 53 or current_user.unidade_id == 52 %>
2:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id",:joins=> "inner join alunos ON alunos.id=matriculas.aluno_id ", :conditions=>["matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO'.", Time.now.year],:order => 'alunos.aluno_nome ASC')%>
3:     <%  else %>
4:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id",:conditions=>["matriculas.unidade_id=? AND matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' ",current_user.unidade_id,Time.now.year],:order => 'alunos.aluno_nome ASC')%>
5:     <% end %>

    app/views/atribuicaos/_consulta_nome.html.erb:2
    app/views/atribuicaos/relatorios_classe.html.erb:27
    app/views/atribuicaos/relatorios_classe.html.erb:14

Rendered rescues/_trace (37.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 16:09:52) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'unidades.tipo_id FROM `matriculas` left join alunos ON alunos.id=matriculas.alu' at line 1: SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO'.) ORDER BY alunos.aluno_nome ASC[0m

ActionView::TemplateError (Mysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'unidades.tipo_id FROM `matriculas`  left join alunos ON alunos.id=matriculas.alu' at line 1: SELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id FROM `matriculas`  left join alunos ON alunos.id=matriculas.aluno_id  WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO'.)  ORDER BY alunos.aluno_nome ASC) on line #2 of app/views/atribuicaos/_consulta_nome.html.erb:
1:     <% if current_user.unidade_id == 53 or current_user.unidade_id == 52 %>
2:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn unidades.tipo_id",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id ", :conditions=>["matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO'.", Time.now.year],:order => 'alunos.aluno_nome ASC')%>
3:     <%  else %>
4:        <%@alunos_boletim_atual=Matricula.find(:all,:select=>"alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn",:joins=> "left join alunos ON alunos.id=matriculas.aluno_id",:conditions=>["matriculas.unidade_id=? AND matriculas.ano_letivo=? AND matriculas.status <> 'REMANEJADO' ",current_user.unidade_id,Time.now.year],:order => 'alunos.aluno_nome ASC')%>
5:     <% end %>

    app/views/atribuicaos/_consulta_nome.html.erb:2
    app/views/atribuicaos/relatorios_classe.html.erb:27
    app/views/atribuicaos/relatorios_classe.html.erb:14

Rendered rescues/_trace (36.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 16:10:24) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mMatricula Load (0.8ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO') ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_consulta_nome (271.0ms)
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (7.6ms)
  [4;36;1mProfessor Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (20.6ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 19:10:24' AND ends_at >= '2020-03-03 19:10:24') [0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 399ms (View: 349, DB: 10) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 16:11:42) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mMatricula Load (21.9ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo_id = 6) ORDER BY alunos.aluno_nome ASC[0m
Rendered atribuicaos/_consulta_nome (34.6ms)
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (8.2ms)
  [4;36;1mProfessor Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (22.2ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 19:11:42' AND ends_at >= '2020-03-03 19:11:42') [0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 290ms (View: 211, DB: 32) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 16:12:51) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mMatricula Load (37.2ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND unidades.tipo_id = 7) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_consulta_nome (106.3ms)
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (8.0ms)
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (26.0ms)
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 19:12:51' AND ends_at >= '2020-03-03 19:12:51') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 398ms (View: 151, DB: 45) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 16:13:51) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.9ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 19:13:51' AND ends_at >= '2020-03-03 19:13:51') [0m
  [4;35;1mroles_users Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 55ms (View: 37, DB: 6) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-03 16:14:08) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 19:14:09' AND ends_at >= '2020-03-03 19:14:09') [0m
  [4;35;1mroles_users Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 62ms (View: 41, DB: 7) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-03 16:14:12) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (4.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.2ms)
  [4;35;1mProfessor Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (19.6ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 19:14:13' AND ends_at >= '2020-03-03 19:14:13') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 240ms (View: 75, DB: 9) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_classe (for 127.0.0.1 at 2020-03-03 16:14:21) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (3.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_classe
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mMatricula Load (48.6ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id inner join unidades ON unidades.id = matriculas.unidade_id WHERE (matriculas.ano_letivo=2020 AND matriculas.status <> 'REMANEJADO' AND (unidades.tipo_id = 7 or unidades.tipo_id = 1 or unidades.tipo_id = 4)) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mMatricula Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_consulta_nome (137.3ms)
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_classe (7.4ms)
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (22.9ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-03 19:14:22' AND ends_at >= '2020-03-03 19:14:22') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 390ms (View: 166, DB: 59) | 200 OK [http://localhost/atribuicaos/relatorios_classe]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-04 07:52:41) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 10:52:41' AND ends_at >= '2020-03-04 10:52:41') [0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 67ms (View: 48, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-04 07:53:09) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
Rendering template within layouts/application
Rendering atribuicaos/relatorios_anterior_classe
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered atribuicaos/_consulta_nome_anterior (3.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` WHERE (classe_ano_letivo !=2020) ORDER BY classe_ano_letivo DESC[0m
Rendered atribuicaos/_consulta_classe_anterior (1.1ms)
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
Rendered atribuicaos/_consulta_professor (20.3ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 10:53:10' AND ends_at >= '2020-03-04 10:53:10') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 105ms (View: 59, DB: 6) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#boletim_anterior (for 127.0.0.1 at 2020-03-04 07:53:15) [POST]
  Parameters: {"ano_letivo1"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;35;1mMatricula Load (158.5ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ', date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.ano_letivo='2019') ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered atribuicaos/_alunos_boletim_anterior (262.2ms)
Completed in 659ms (View: 264, DB: 161) | 200 OK [http://localhost/atribuicaos/boletim_anterior]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#relatorios_anterior_classe (for 127.0.0.1 at 2020-03-04 07:53:20) [GET]
  Parameters: {"professor"=>{"id"=>""}, "ano_letivo1"=>"2019", "ano_letivo"=>"--Selecionar--", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "_"=>"1583319200443", "aluno"=>{"id"=>"6549"}, "type_of"=>"1"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 52 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE ((id != 27 and id !=26) AND nao_disciplina = 0) [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (id = '6549' ) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = '6549' and ano_letivo='2019') [0m
  [4;35;1mMatricula Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id = 1899) [0m
  [4;35;1mClasse Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = 1899 AND aluno_id='6549') ORDER BY classe_num[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='6549' AND disciplinas.curriculo = 'B' AND notas.ano_letivo ='2019' AND notas.ativo is NULL AND matricula_id=44950) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.aluno_id ='6549' AND disciplinas.curriculo = 'D' AND notas.ano_letivo ='2019' AND notas.ativo is NULL AND matricula_id=44950) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (aluno_id ='6549' AND ano_letivo ='2019' AND nota_id is NULL) [0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=1899 AND disciplinas.curriculo = 'B') [0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT atribuicaos.classe_id, notas.id, notas.nota1 , notas.faltas1, notas.nota2 , notas.faltas2, notas.nota3 , notas.faltas3, notas.nota4 , notas.faltas4, notas.nota5 , notas.faltas5 FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id WHERE (notas.ativo is NULL AND atribuicaos.classe_id=1899) [0m
  [4;36;1mNota Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mAluno Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 62) [0m
  [4;36;1mAtribuicao Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8831) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8779) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8804) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8826) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8795) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mAtribuicao Load (0.3ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 11033) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mAtribuicao Load (0.3ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8715) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mAtribuicao Load (0.3ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8753) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 33) [0m
  [4;36;1mAtribuicao Load (0.3ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 8849) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 8) [0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 1899) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262200) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=262200 and ano_letivo ='2019') [0m
  [4;36;1mObservacaoNota Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `observacao_notas`[0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262196) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=262196 and ano_letivo ='2019') [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262198) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=262198 and ano_letivo ='2019') [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262199) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (nota_id=262199 and ano_letivo ='2019') [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262197) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (nota_id=262197 and ano_letivo ='2019') [0m
  [4;35;1mObservacaoNota Load (0.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 319601) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262194) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262195) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 262201) [0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered atribuicaos/_relatorio_aluno (216.1ms)
Completed in 328ms (View: 218, DB: 22) | 200 OK [http://localhost/atribuicaos/relatorios_anterior_classe?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=1&ano_letivo1=2019&aluno%5Bid%5D=6549&ano_letivo=--Selecionar--&professor%5Bid%5D=&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583319200443]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2020-03-04 07:53:20) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/6549.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-04 07:55:00) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (1.4ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (5.7ms)
Rendered estatisticas/_classe_fundamental (3.2ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 10:55:00' AND ends_at >= '2020-03-04 10:55:00') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 90ms (View: 60, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-04 07:55:21) [POST]
  Parameters: {"ano_letivo"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.6ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.9ms)
Completed in 44ms (View: 9, DB: 4) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-04 07:55:25) [GET]
  Parameters: {"ano_letivoF"=>"", "ano_letivo"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "_"=>"1583319325440", "unidade"=>"16", "type_of"=>"1"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.9ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2019' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (46.3ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2019' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (2.2ms)
Completed in 96ms (View: 6, DB: 51) | 200 OK [http://localhost/classeestatistica?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=1&ano_letivo=2019&unidade=16&ano_letivoF=&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583319325440]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-04 07:55:49) [GET]
  Parameters: {"ano_letivoF"=>"", "ano_letivo"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "_"=>"1583319349675", "unidade"=>"2", "type_of"=>"1"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (3.3ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2019' and classes.unidade_id='2' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (41.9ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2019' and classes.unidade_id='2' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
Rendered estatisticas/_estatisticaclasse (0.7ms)
Completed in 94ms (View: 3, DB: 51) | 200 OK [http://localhost/classeestatistica?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=1&ano_letivo=2019&unidade=2&ano_letivoF=&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583319349675]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-04 07:56:34) [POST]
  Parameters: {"ano_letivo"=>"2016", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.3ms)
Completed in 145ms (View: 6, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-04 07:56:59) [POST]
  Parameters: {"ano_letivoF"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.5ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (5.1ms)
Completed in 35ms (View: 7, DB: 3) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-04 07:57:01) [GET]
  Parameters: {"ano_letivoF"=>"2019", "ano_letivo"=>"2016", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "unidadeF"=>"48", "_"=>"1583319421358", "unidade"=>"16", "type_of"=>"2"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.7ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2019' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (37.4ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2019' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 90ms (View: 2, DB: 43) | 200 OK [http://localhost/classeestatistica?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=2&ano_letivo=2016&unidade=16&ano_letivoF=2019&unidadeF=48&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583319421358]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-04 07:57:21) [POST]
  Parameters: {"ano_letivoF"=>"2016", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (4.6ms)
Completed in 32ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-04 07:57:22) [GET]
  Parameters: {"ano_letivoF"=>"2016", "ano_letivo"=>"2016", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "unidadeF"=>"48", "_"=>"1583319442566", "unidade"=>"16", "type_of"=>"2"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (1.7ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (42.6ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
Rendered estatisticas/_estatisticaclasse (0.8ms)
Completed in 89ms (View: 4, DB: 47) | 200 OK [http://localhost/classeestatistica?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=2&ano_letivo=2016&unidade=16&ano_letivoF=2016&unidadeF=48&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583319442566]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-04 07:57:27) [POST]
  Parameters: {"ano_letivoF"=>"2019", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (5.4ms)
Completed in 146ms (View: 5, DB: 4) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-04 07:57:28) [GET]
  Parameters: {"ano_letivoF"=>"2019", "ano_letivo"=>"2016", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "unidadeF"=>"48", "_"=>"1583319448125", "unidade"=>"16", "type_of"=>"2"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2019' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2019' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 41ms (View: 3, DB: 4) | 200 OK [http://localhost/classeestatistica?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=2&ano_letivo=2016&unidade=16&ano_letivoF=2019&unidadeF=48&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583319448125]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-04 07:58:02) [POST]
  Parameters: {"ano_letivoF"=>"2016", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0="}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (4.6ms)
Completed in 45ms (View: 5, DB: 3) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-04 07:58:03) [GET]
  Parameters: {"ano_letivoF"=>"2016", "ano_letivo"=>"2016", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "unidadeF"=>"48", "_"=>"1583319483349", "unidade"=>"16", "type_of"=>"2"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
Rendered estatisticas/_estatisticaclasse (0.6ms)
Completed in 160ms (View: 4, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=2&ano_letivo=2016&unidade=16&ano_letivoF=2016&unidadeF=48&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583319483349]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-04 07:58:29) [GET]
  Parameters: {"ano_letivoF"=>"2016", "ano_letivo"=>"2016", "authenticity_token"=>"yd6xowfPcM4LD8D+EGa8LMhjN1BaV5A1O8Iop9RV+Q0=", "unidadeF"=>"48", "_"=>"1583319509300", "unidade"=>"16", "type_of"=>"3"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (2.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (2.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (2.6ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (3.6ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (3.5ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (2.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.9ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.8ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (2.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (2.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (6.6ms)
Completed in 102ms (View: 14, DB: 26) | 200 OK [http://localhost/classeestatistica?authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&type_of=3&ano_letivo=2016&unidade=16&ano_letivoF=2016&unidadeF=48&authenticity_token=yd6xowfPcM4LD8D%2BEGa8LMhjN1BaV5A1O8Iop9RV%2BQ0%3D&_=1583319509300]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2020-03-04 08:01:33) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 18ms (DB: 1) | 302 Found [http://localhost/logout]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-04 08:01:33) [GET]
Redirected to http://localhost:3000/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 7ms (DB: 0) | 302 Found [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2020-03-04 08:01:33) [GET]
Rendering template within layouts/login
Rendering sessions/new
Completed in 152ms (View: 15, DB: 0) | 200 OK [http://localhost/session/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2020-03-04 08:01:40) [POST]
  Parameters: {"login"=>"ngarcia", "password"=>"musand12", "authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0=", "commit"=>"Entrar"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'ngarcia' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Redirected to http://localhost:3000/
Completed in 15ms (DB: 1) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-04 08:01:40) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 11:01:40' AND ends_at >= '2020-03-04 11:01:40') [0m
  [4;35;1mroles_users Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 190ms (View: 170, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#consultas (for 127.0.0.1 at 2020-03-04 08:04:29) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (1.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (1.7ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.7ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2020 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (30.6ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=52 AND alunos.aluno_status is null AND atribuicaos.professor_id =655) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (24.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (286.7ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.aluno_status is null) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mRelatorio Load (16.0ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (308.9ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2020 and tipo_un =3) ORDER BY ano_letivo DESC[0m
Rendering template within layouts/application
Rendering relatorios/consultas
  [4;36;1mRelatorio Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `relatorios`[0m
Rendered relatorios/_consulta (7.0ms)
  [4;35;1mClasse Load (3.4ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered relatorios/_consulta_classe (21.7ms)
  [4;35;1mRelatorio Load (15.9ms)[0m   [0mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.aluno_status is null AND ano_letivo=2020) ORDER BY alunos.aluno_nome ASC[0m
Rendered relatorios/_consulta_fapea (21.8ms)
  [4;36;1mRelatorio Load (8.2ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.aluno_status is null AND relatorios.ano_letivo =2020) ORDER BY alunos.aluno_nome ASC[0m
Rendered relatorios/_consulta_nome (13.9ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 11:04:30' AND ends_at >= '2020-03-04 11:04:30') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 1047ms (View: 85, DB: 706) | 200 OK [http://localhost/relatorios/consultas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RelatoriosController#consulta_fapea (for 127.0.0.1 at 2020-03-04 08:04:40) [GET]
  Parameters: {"aluno_fapea"=>"21266", "ano_letivo"=>"--Selecionar--", "authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0=", "_"=>"1583319879930", "aluno"=>"--Selecionar--", "semestre"=>"1", "classe_id"=>"--Selecionar--"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id < 40 OR id >51) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo ='I' and ano_letivo =2020 ) ORDER BY disciplina[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, alunos.aluno_nome FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id INNER JOIN classes ON classes.id = matriculas.classe_id INNER JOIN atribuicaos ON classes.id = atribuicaos.classe_id WHERE (alunos.unidade_id=52 AND alunos.aluno_status is null AND atribuicaos.professor_id =655) ORDER BY alunos.aluno_nome[0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mRelatorio Load (0.8ms)[0m   [0;1mSELECT distinct(alunos.aluno_nome), alunos.id FROM `relatorios` INNER JOIN `alunos` ON `alunos`.id = `relatorios`.aluno_id WHERE (alunos.aluno_status is null) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mRelatorio Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `relatorios` ORDER BY ano_letivo DESC[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT distinct(disciplina) as disciplina FROM `disciplinas` WHERE (ano_letivo =2020 and tipo_un =3) ORDER BY ano_letivo DESC[0m

ActionView::MissingTemplate (Missing template relatorios/consulta_fapea.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#editar_ficha (for 127.0.0.1 at 2020-03-04 08:05:12) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering alunos/editar_ficha
  [4;36;1mAluno Load (25.6ms)[0m   [0;1mSELECT id, CONCAT(aluno_nome, ' | ',date_format(aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` WHERE (unidade_id = 52 AND ( aluno_status is null or aluno_status = "SEM_MATRICULA")) ORDER BY aluno_nome[0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 11:05:12' AND ends_at >= '2020-03-04 11:05:12') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 309ms (View: 267, DB: 31) | 200 OK [http://localhost/alunos/editar_ficha]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#editar_ficha_cadastral (for 127.0.0.1 at 2020-03-04 08:05:18) [GET]
  Parameters: {"authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0=", "_"=>"1583319918092", "aluno"=>{"id"=>"12149"}}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id = '12149') [0m
  [4;35;1mSaude Load (27.0ms)[0m   [0mSELECT * FROM `saudes` WHERE (aluno_id = '12149') [0m
  [4;36;1mSocioeconomico Load (20.7ms)[0m   [0;1mSELECT * FROM `socioeconomicos` WHERE (aluno_id = '12149') [0m
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 52) [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered alunos/_dados_ficha_cadastral_editar (44.9ms)
Completed in 130ms (View: 49, DB: 53) | 200 OK [http://localhost/editar_ficha_cadastral?authenticity_token=UaCmMLbAdxvl27M%2BD7OkrVau%2FCUaTBsYabcxbUV%2Fwf0%3D&aluno%5Bid%5D=12149&authenticity_token=UaCmMLbAdxvl27M%2BD7OkrVau%2FCUaTBsYabcxbUV%2Fwf0%3D&_=1583319918092]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-04 09:27:58) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 12:27:58' AND ends_at >= '2020-03-04 12:27:58') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 63ms (View: 46, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe (for 127.0.0.1 at 2020-03-04 09:32:50) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (3.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering classes/consulta_classe
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 12:32:51' AND ends_at >= '2020-03-04 12:32:51') [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 225ms (View: 62, DB: 10) | 200 OK [http://localhost/consulta_classe]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-04 10:01:49) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:01:49' AND ends_at >= '2020-03-04 13:01:49') [0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 67ms (View: 46, DB: 7) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#remanejamento (for 127.0.0.1 at 2020-03-04 10:01:58) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (1.6ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 52 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (52.8ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=52 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (3.5ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/remanejamento
  [4;36;1mClasse Load (1.6ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id =52 and classe_ano_letivo=2020) ORDER BY classe_classe[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:01:58' AND ends_at >= '2020-03-04 13:01:58') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 289ms (View: 172, DB: 66) | 200 OK [http://localhost/matriculas/remanejamento]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#remanejamento (for 127.0.0.1 at 2020-03-04 10:02:17) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.2ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.3ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (1.6ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (38.8ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (2.7ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendering template within layouts/application
Rendering matriculas/remanejamento
  [4;35;1mClasse Load (1.7ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id =2 and classe_ano_letivo=2020) ORDER BY classe_classe[0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mClasse Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:02:17' AND ends_at >= '2020-03-04 13:02:17') [0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=2) [0m
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 157ms (View: 56, DB: 54) | 200 OK [http://localhost/matriculas/remanejamento]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricula_aluno_classe (for 127.0.0.1 at 2020-03-04 10:02:24) [POST]
  Parameters: {"aluno_id"=>"24651", "authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mMatricula Load (47.9ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id ='24651' AND ano_letivo = 2020) [0m
  [4;36;1mMatricula Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.5ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 2923) [0m
Rendered matriculas/_classe_aluno (8.8ms)
Completed in 105ms (View: 14, DB: 52) | 200 OK [http://localhost/matriculas/matricula_aluno_classe]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#create (for 127.0.0.1 at 2020-03-04 10:02:29) [POST]
  Parameters: {"authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0=", "commit"=>"Salvar", "matricula"=>{"data_transferencia(1i)"=>"2020", "data_transferencia(2i)"=>"3", "data_transferencia(3i)"=>"4", "aluno_id"=>"24651", "classe_id"=>"2915", "status"=>"*REMANEJADO"}}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mMatricula Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (44.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id ='2915' AND ano_letivo=2020 AND aluno_id=24651 AND status != "ABANDONO") [0m
  [4;36;1mAtribuicao Load (6.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id ='2915' AND ano_letivo=2020) [0m
  [4;35;1mMatricula Load (0.7ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id ='2915') ORDER BY matriculas.id DESC LIMIT 1[0m

NoMethodError (undefined method `empty?' for #<Matricula:0x7f5717bcdca0>):
  app/controllers/matriculas_controller.rb:270:in `create'

Rendered rescues/_trace (27.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-04 10:02:58) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:02:58' AND ends_at >= '2020-03-04 13:02:58') [0m
  [4;35;1mroles_users Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=2) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 533ms (View: 448, DB: 6) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#create (for 127.0.0.1 at 2020-03-04 10:03:05) [POST]
  Parameters: {"commit"=>"Salvar", "authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0=", "matricula"=>{"data_transferencia(1i)"=>"2020", "data_transferencia(2i)"=>"3", "data_transferencia(3i)"=>"4", "aluno_id"=>"24651", "status"=>"*REMANEJADO", "classe_id"=>"2915"}}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mMatricula Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id ='2915' AND ano_letivo=2020 AND aluno_id=24651 AND status != "ABANDONO") [0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id ='2915' AND ano_letivo=2020) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id ='2915') ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-04 10:03:26) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:03:26' AND ends_at >= '2020-03-04 13:03:26') [0m
  [4;35;1mroles_users Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=2) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 531ms (View: 445, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#create (for 127.0.0.1 at 2020-03-04 10:03:32) [POST]
  Parameters: {"authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0=", "matricula"=>{"aluno_id"=>"24651", "classe_id"=>"2915", "status"=>"*REMANEJADO", "data_transferencia(1i)"=>"2020", "data_transferencia(2i)"=>"3", "data_transferencia(3i)"=>"4"}, "commit"=>"Salvar"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id ='2915' AND ano_letivo=2020 AND aluno_id=24651 AND status != "ABANDONO") [0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id ='2915' AND ano_letivo=2020) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id ='2915') ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mMatricula Load (2.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id =24651) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mMatricula Load (0.9ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2915) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMatricula Create (0.6ms)[0m   [0;1mINSERT INTO `matriculas` (`aluno_id`, `transf_unidade_id`, `para`, `created_at`, `classe_num`, `rem_classe_id`, `updated_at`, `unidade_id`, `data_transferencia`, `reprovado`, `classe_id`, `status`, `ano_letivo`, `procedencia`) VALUES(24651, NULL, NULL, '2020-03-04 13:03:37', 8, NULL, '2020-03-04 13:03:37', 2, '2020-03-04', '0', 2915, '*REMANEJADO', 2020, NULL)[0m
  [4;35;1mSQL (41.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id =24651) [0m
  [4;35;1mAluno Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMatricula Update (0.7ms)[0m   [0mUPDATE `matriculas` SET `updated_at` = '2020-03-04 13:03:37', `rem_classe_id` = 2915, `status` = 'REMANEJADO', `data_transferencia` = '2020-03-04' WHERE `id` = 62755[0m
  [4;36;1mSQL (47.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAtribuicao Load (7.8ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = 2923) [0m
  [4;36;1mAtribuicao Load (3.6ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = 2915) [0m
  [4;35;1mNota Load (721.7ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id = 24651 AND unidade_id =2 AND ano_letivo=2020) [0m
Redirected to http://localhost:3000/matriculas/63261
Completed in 5553ms (DB: 833) | 302 Found [http://localhost/matriculas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#show (for 127.0.0.1 at 2020-03-04 10:03:38) [GET]
  Parameters: {"id"=>"63261"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (37.4ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mMatricula Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 63261) [0m
Rendering template within layouts/application
Rendering matriculas/show
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 24651) [0m
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.6ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 2915) [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:03:39' AND ends_at >= '2020-03-04 13:03:39') [0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=2) [0m
Completed in 536ms (View: 331, DB: 47) | 200 OK [http://localhost/matriculas/63261]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-04 10:06:59) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:06:59' AND ends_at >= '2020-03-04 13:06:59') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=2) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 242ms (View: 205, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#aviso (for 127.0.0.1 at 2020-03-04 10:07:41) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
Rendering template within layouts/application
Rendering matriculas/aviso
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:07:41' AND ends_at >= '2020-03-04 13:07:41') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=2) [0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 168ms (View: 123, DB: 6) | 200 OK [http://localhost/matriculas/aviso]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular (for 127.0.0.1 at 2020-03-04 10:07:43) [POST]
  Parameters: {"authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.2ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.3ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.5ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mAluno Load (6774.6ms)[0m   [0;1mSELECT a.id, CONCAT(a.aluno_nome, ' | ',date_format(a.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM alunos a WHERE ( aluno_status != 'EGRESSO' or aluno_status is null OR aluno_status = 'ABANDONO') AND a.unidade_id = 2 AND ( id NOT IN (SELECT m.aluno_id FROM matriculas m WHERE m.ano_letivo = 2020 AND m.status != 'ABANDONO')) ORDER BY a.aluno_nome[0m
  [4;35;1mClasse Load (2.1ms)[0m   [0mSELECT id, classe_classe FROM `classes` WHERE (unidade_id =2 and classe_ano_letivo=2020) ORDER BY classe_classe[0m
Rendering template within layouts/application
Rendering matriculas/matricular
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mInformativo Load (0.8ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:07:50' AND ends_at >= '2020-03-04 13:07:50') [0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=2) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 6878ms (View: 41, DB: 6785) | 200 OK [http://localhost/matriculas/matricular]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular (for 127.0.0.1 at 2020-03-04 10:08:24) [POST]
  Parameters: {"authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.2ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (2.3ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT a.id, CONCAT(a.aluno_nome, ' | ',date_format(a.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM alunos a WHERE ( aluno_status != 'EGRESSO' or aluno_status is null OR aluno_status = 'ABANDONO') AND a.unidade_id = 2 AND ( id NOT IN (SELECT m.aluno_id FROM matriculas m WHERE m.ano_letivo = 2020 AND m.status != 'ABANDONO')) ORDER BY a.aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT id, classe_classe FROM `classes` WHERE (unidade_id =2 and classe_ano_letivo=2020) ORDER BY classe_classe[0m
Rendering template within layouts/application
Rendering matriculas/matricular
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:08:24' AND ends_at >= '2020-03-04 13:08:24') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=2) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 174ms (View: 25, DB: 8) | 200 OK [http://localhost/matriculas/matricular]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#classe_id (for 127.0.0.1 at 2020-03-04 10:08:45) [POST]
  Parameters: {"matricula_classe_id"=>"2922", "authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0="}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.2ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT a.id, CONCAT(a.aluno_nome, ' | ',date_format(a.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM alunos a WHERE ( aluno_status != 'EGRESSO' or aluno_status is null OR aluno_status = 'ABANDONO') AND a.unidade_id = 2 AND ( id NOT IN (SELECT m.aluno_id FROM matriculas m WHERE m.ano_letivo = 2020 AND m.status != 'ABANDONO')) ORDER BY a.aluno_nome[0m
  [4;35;1mAluno Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Rendered matriculas/_alunos (136.2ms)
Completed in 183ms (View: 139, DB: 4) | 200 OK [http://localhost/matriculas/classe_id]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#alunos_matricula (for 127.0.0.1 at 2020-03-04 10:08:54) [GET]
  Parameters: {"commit"=>"Confirmar", "aluno_ids"=>["16124", "8277"]}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.6ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` IN (16124,8277)) ORDER BY aluno_nome ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id FROM `alunos` WHERE (`alunos`.`id` IN (16124,8277)) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id ='2922') [0m
  [4;35;1mAtribuicao Load (4.3ms)[0m   [0mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = '2922' AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
Rendering template within layouts/application
Rendering matriculas/alunos_matricula
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;35;1mAtribuicao Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 471) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (1.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.7ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 167) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:08:54' AND ends_at >= '2020-03-04 13:08:54') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=2) [0m
Completed in 224ms (View: 153, DB: 19) | 200 OK [http://localhost/matriculas/alunos_matricula?aluno_ids%5B%5D=16124&aluno_ids%5B%5D=8277&commit=Confirmar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular_alunos (for 127.0.0.1 at 2020-03-04 10:09:01) [POST]
  Parameters: {"authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0="}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.2ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mMatricula Load (43.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id =2922 AND ano_letivo=2020 AND aluno_id=16124 AND status != "ABANDONO") [0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id=16124) [0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (41.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id ='2922' AND ano_letivo=2020 ) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMatricula Create (0.4ms)[0m   [0;1mINSERT INTO `matriculas` (`classe_num`, `status`, `procedencia`, `data_transferencia`, `aluno_id`, `para`, `ano_letivo`, `transf_unidade_id`, `reprovado`, `created_at`, `updated_at`, `classe_id`, `unidade_id`, `rem_classe_id`) VALUES(22, 'MATRICULADO', NULL, NULL, 16124, NULL, 2020, NULL, '0', '2020-03-04 13:09:01', '2020-03-04 13:09:01', 2922, 2, NULL)[0m
  [4;35;1mSQL (47.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mAtribuicao Load (4.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id ='2922' AND ano_letivo=2020) [0m
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mFalta Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `faltas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Create (0.5ms)[0m   [0;1mINSERT INTO `faltas` (`professor_id`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `obs`, `aluno_id`, `matricula_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `ano_letivo`, `created_at`, `updated_at`, `classe_id`, `unidade_id`, `classe`) VALUES(NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 16124, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-04 13:09:01', '2020-03-04 13:09:01', NULL, NULL, NULL)[0m
  [4;35;1mSQL (30.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mFalta Load (0.3ms)[0m   [0;1mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Update (0.4ms)[0m   [0;1mUPDATE `faltas` SET `aulas3` = 0, `ano_letivo` = 2020, `faltas4` = 0, `aulas5` = 0, `faltas1` = 0, `aulas2` = 0, `professor_id` = 471, `matricula_id` = 63262, `faltas3` = 0, `unidade_id` = 2, `aulas4` = 0, `aulas1` = 0, `faltas5` = 0, `updated_at` = '2020-03-04 13:09:01', `faltas2` = 0 WHERE `id` = 11259[0m
  [4;35;1mSQL (32.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Create (0.6ms)[0m   [0mINSERT INTO `faltas` (`professor_id`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `obs`, `aluno_id`, `matricula_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `ano_letivo`, `created_at`, `updated_at`, `classe_id`, `unidade_id`, `classe`) VALUES(NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 16124, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-04 13:09:01', '2020-03-04 13:09:01', NULL, NULL, NULL)[0m
  [4;36;1mSQL (28.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mFalta Load (0.6ms)[0m   [0mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Update (0.7ms)[0m   [0mUPDATE `faltas` SET `aulas3` = 0, `ano_letivo` = 2020, `faltas4` = 0, `aulas5` = 0, `faltas1` = 0, `aulas2` = 0, `professor_id` = 167, `matricula_id` = 63262, `faltas3` = 0, `unidade_id` = 2, `aulas4` = 0, `aulas1` = 0, `faltas5` = 0, `updated_at` = '2020-03-04 13:09:01', `faltas2` = 0 WHERE `id` = 11260[0m
  [4;36;1mSQL (29.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAluno Load (0.7ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 16124) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mMatricula Load (46.8ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2922 AND ano_letivo=2020 AND aluno_id=8277 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=8277) [0m
  [4;36;1mMatricula Load (43.9ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id ='2922' AND ano_letivo=2020 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mMatricula Create (0.3ms)[0m   [0;1mINSERT INTO `matriculas` (`classe_num`, `status`, `procedencia`, `data_transferencia`, `aluno_id`, `para`, `ano_letivo`, `transf_unidade_id`, `reprovado`, `created_at`, `updated_at`, `classe_id`, `unidade_id`, `rem_classe_id`) VALUES(23, 'MATRICULADO', NULL, NULL, 8277, NULL, 2020, NULL, '0', '2020-03-04 13:09:01', '2020-03-04 13:09:01', 2922, 2, NULL)[0m
  [4;35;1mSQL (29.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id ='2922' AND ano_letivo=2020) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Create (0.4ms)[0m   [0;1mINSERT INTO `faltas` (`professor_id`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `obs`, `aluno_id`, `matricula_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `ano_letivo`, `created_at`, `updated_at`, `classe_id`, `unidade_id`, `classe`) VALUES(NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 8277, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-04 13:09:01', '2020-03-04 13:09:01', NULL, NULL, NULL)[0m
  [4;35;1mSQL (30.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mFalta Load (0.5ms)[0m   [0;1mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Update (0.6ms)[0m   [0mUPDATE `faltas` SET `aulas3` = 0, `ano_letivo` = 2020, `faltas4` = 0, `aulas5` = 0, `faltas1` = 0, `aulas2` = 0, `professor_id` = 471, `matricula_id` = 63263, `faltas3` = 0, `unidade_id` = 2, `aulas4` = 0, `aulas1` = 0, `faltas5` = 0, `updated_at` = '2020-03-04 13:09:01', `faltas2` = 0 WHERE `id` = 11261[0m
  [4;36;1mSQL (34.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Create (0.7ms)[0m   [0;1mINSERT INTO `faltas` (`professor_id`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `obs`, `aluno_id`, `matricula_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `ano_letivo`, `created_at`, `updated_at`, `classe_id`, `unidade_id`, `classe`) VALUES(NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 8277, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-04 13:09:02', '2020-03-04 13:09:02', NULL, NULL, NULL)[0m
  [4;35;1mSQL (28.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mFalta Load (0.6ms)[0m   [0;1mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Update (0.5ms)[0m   [0;1mUPDATE `faltas` SET `aulas3` = 0, `ano_letivo` = 2020, `faltas4` = 0, `aulas5` = 0, `faltas1` = 0, `aulas2` = 0, `professor_id` = 167, `matricula_id` = 63263, `faltas3` = 0, `unidade_id` = 2, `aulas4` = 0, `aulas1` = 0, `faltas5` = 0, `updated_at` = '2020-03-04 13:09:02', `faltas2` = 0 WHERE `id` = 11262[0m
  [4;35;1mSQL (29.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8277) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMatricula Load (15.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id = 2922) ORDER BY classe_num ASC[0m
  [4;36;1mClasse Load (0.6ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id =2922) [0m
  [4;35;1mAtribuicao Load (7.1ms)[0m   [0mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = 2922 AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
Rendering template within layouts/application
Rendering matriculas/matricular_alunos
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;36;1mProfessor Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 471) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 167) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23509) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 24067) [0m
  [4;36;1mAluno Load (0.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23567) [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22255) [0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22257) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 20440) [0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18318) [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18319) [0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22381) [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18322) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22947) [0m
  [4;35;1mAluno Load (0.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18338) [0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18337) [0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22262) [0m
  [4;36;1mAluno Load (0.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18328) [0m
  [4;35;1mAluno Load (0.7ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19329) [0m
  [4;36;1mAluno Load (0.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18415) [0m
  [4;35;1mAluno Load (0.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13691) [0m
  [4;36;1mAluno Load (0.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23508) [0m
  [4;35;1mAluno Load (0.7ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18321) [0m
  [4;36;1mAluno Load (0.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25648) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 16124) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8277) [0m
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:09:02' AND ends_at >= '2020-03-04 13:09:02') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=2) [0m
Completed in 974ms (View: 164, DB: 562) | 200 OK [http://localhost/matriculas/matricular_alunos]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#aviso (for 127.0.0.1 at 2020-03-04 10:10:11) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.6ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (35.8ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
Rendering template within layouts/application
Rendering matriculas/aviso
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:10:12' AND ends_at >= '2020-03-04 13:10:12') [0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=2) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 251ms (View: 30, DB: 43) | 200 OK [http://localhost/matriculas/aviso]
  [4;35;1mAluno Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular_alunos (for 127.0.0.1 at 2020-03-04 10:11:10) [POST]
  Parameters: {"authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mMatricula Load (44.9ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2922 AND ano_letivo=2020 AND aluno_id=16124 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=16124) [0m
  [4;36;1mMatricula Load (45.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2922 AND ano_letivo=2020 AND aluno_id=8277 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=8277) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = 2922) ORDER BY classe_num ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (id =2922) [0m
  [4;36;1mAtribuicao Load (0.3ms)[0m   [0;1mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = 2922 AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
Rendering template within layouts/application
Rendering matriculas/matricular_alunos
  [4;35;1mClasse Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;36;1mAtribuicao Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mProfessor Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 471) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 167) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23509) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 24067) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23567) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22255) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22257) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 20440) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18318) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18319) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22381) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18322) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22947) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18338) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18337) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22262) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18328) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19329) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18415) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13691) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23508) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18321) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25648) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 16124) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8277) [0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:11:11' AND ends_at >= '2020-03-04 13:11:11') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=2) [0m
Completed in 428ms (View: 162, DB: 108) | 200 OK [http://localhost/matriculas/matricular_alunos]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular_alunos (for 127.0.0.1 at 2020-03-04 10:11:33) [POST]
  Parameters: {"authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2922 AND ano_letivo=2020 AND aluno_id=16124 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=16124) [0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2922 AND ano_letivo=2020 AND aluno_id=8277 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=8277) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = 2922) ORDER BY classe_num ASC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (id =2922) [0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = 2922 AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
Rendering template within layouts/application
Rendering matriculas/matricular_alunos
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;36;1mAtribuicao Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mProfessor Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 471) [0m
  [4;35;1mDisciplina Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 167) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23509) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 24067) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23567) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22255) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22257) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 20440) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18318) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18319) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22381) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18322) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22947) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18338) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18337) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22262) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18328) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19329) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18415) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13691) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23508) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18321) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25648) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 16124) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8277) [0m
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:11:33' AND ends_at >= '2020-03-04 13:11:33') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=2) [0m
Completed in 249ms (View: 75, DB: 17) | 200 OK [http://localhost/matriculas/matricular_alunos]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular_alunos (for 127.0.0.1 at 2020-03-04 10:12:07) [POST]
  Parameters: {"authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0="}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2922 AND ano_letivo=2020 AND aluno_id=16124 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=16124) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2922 AND ano_letivo=2020 AND aluno_id=8277 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=8277) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = 2922) ORDER BY classe_num ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (id =2922) [0m
  [4;36;1mAtribuicao Load (0.3ms)[0m   [0;1mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = 2922 AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
Rendering template within layouts/application
Rendering matriculas/matricular_alunos
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;36;1mAtribuicao Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mProfessor Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 471) [0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 167) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23509) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 24067) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23567) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22255) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22257) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 20440) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18318) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18319) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22381) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18322) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22947) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18338) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18337) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22262) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18328) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19329) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18415) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13691) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23508) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18321) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25648) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 16124) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8277) [0m
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:12:08' AND ends_at >= '2020-03-04 13:12:08') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=2) [0m
Completed in 253ms (View: 70, DB: 21) | 200 OK [http://localhost/matriculas/matricular_alunos]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular_alunos (for 127.0.0.1 at 2020-03-04 10:12:27) [POST]
  Parameters: {"authenticity_token"=>"UaCmMLbAdxvl27M+D7OkrVau/CUaTBsYabcxbUV/wf0="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 2 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=2 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 2 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2922 AND ano_letivo=2020 AND aluno_id=16124 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=16124) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2922 AND ano_letivo=2020 AND aluno_id=8277 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=8277) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = 2922) ORDER BY classe_num ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (id =2922) [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = 2922 AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
Rendering template within layouts/application
Rendering matriculas/matricular_alunos
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mProfessor Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 471) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 167) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 29) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23509) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 24067) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23567) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22255) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22257) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 20440) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18318) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18319) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22381) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18322) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22947) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18338) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18337) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 22262) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18328) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19329) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18415) [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13691) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23508) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 18321) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25648) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 16124) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8277) [0m
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-04 13:12:27' AND ends_at >= '2020-03-04 13:12:27') [0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=2) [0m
Completed in 337ms (View: 160, DB: 18) | 200 OK [http://localhost/matriculas/matricular_alunos]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 09:48:00) [GET]
Redirected to http://localhost:3000/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 36ms (DB: 0) | 302 Found [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2020-03-05 09:48:01) [GET]
Rendering template within layouts/login
Rendering sessions/new
Completed in 173ms (View: 50, DB: 2) | 200 OK [http://localhost/session/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2020-03-05 09:48:07) [POST]
  Parameters: {"login"=>"ngarcia", "commit"=>"Entrar", "password"=>"musand12", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'ngarcia' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Redirected to http://localhost:3000/
Completed in 19ms (DB: 1) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 09:48:08) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 12:48:08' AND ends_at >= '2020-03-05 12:48:08') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=41) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 365ms (View: 335, DB: 6) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 09:49:11) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 12:49:11' AND ends_at >= '2020-03-05 12:49:11') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 56ms (View: 35, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:49:17) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (1.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (2.6ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (5.7ms)
Rendered estatisticas/_classe_fundamental (3.2ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 12:49:17' AND ends_at >= '2020-03-05 12:49:17') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 155ms (View: 56, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:49:26) [POST]
  Parameters: {"ano_letivo"=>"2016", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (1.0ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (7.5ms)
Completed in 102ms (View: 10, DB: 4) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:49:30) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2016", "_"=>"1583412569956", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"31"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.7ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='31' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (47.9ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='31' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
Rendered estatisticas/_nao_cadastrado (0.8ms)
Completed in 86ms (View: 9, DB: 51) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2016&unidade=31&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583412569956]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:49:34) [POST]
  Parameters: {"ano_letivo"=>"2019", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (4.8ms)
Completed in 35ms (View: 5, DB: 3) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:49:38) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2019", "_"=>"1583412578504", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"31"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.6ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2019' and classes.unidade_id='31' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (37.8ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2019' and classes.unidade_id='31' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 31) [0m
Rendered estatisticas/_estatisticaclasse (1.7ms)
Completed in 80ms (View: 5, DB: 42) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2019&unidade=31&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583412578504]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:49:52) [POST]
  Parameters: {"ano_letivo"=>"2018", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (6.4ms)
Completed in 100ms (View: 6, DB: 3) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:49:55) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2018", "_"=>"1583412595298", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"2"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (1.7ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2018' and classes.unidade_id='2' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (35.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2018' and classes.unidade_id='2' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
Rendered estatisticas/_estatisticaclasse (0.5ms)
Completed in 158ms (View: 3, DB: 39) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2018&unidade=2&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583412595298]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:50:03) [POST]
  Parameters: {"ano_letivo"=>"2019", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (4.9ms)
Completed in 35ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:50:04) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2019", "_"=>"1583412604524", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"16"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.7ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2019' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (37.2ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2019' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 76ms (View: 3, DB: 41) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2019&unidade=16&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583412604524]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:50:10) [POST]
  Parameters: {"ano_letivo"=>"2016", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.7ms)
Completed in 103ms (View: 6, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:50:11) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2016", "_"=>"1583412611894", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"16"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (4.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (35.2ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 168ms (View: 3, DB: 42) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2016&unidade=16&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583412611894]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:50:24) [POST]
  Parameters: {"ano_letivo"=>"2019", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.5ms)
Completed in 36ms (View: 5, DB: 3) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:50:28) [POST]
  Parameters: {"ano_letivo"=>"2018", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.8ms)
Completed in 34ms (View: 5, DB: 4) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:50:29) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2018", "_"=>"1583412629614", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"16"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (3.9ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2018' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (39.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2018' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.5ms)
Completed in 164ms (View: 3, DB: 46) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2018&unidade=16&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583412629614]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:50:46) [POST]
  Parameters: {"ano_letivo"=>"2017", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (11.9ms)
Completed in 45ms (View: 12, DB: 4) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:50:47) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2017", "_"=>"1583412647022", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"16"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (1.6ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2017' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (41.8ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2017' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 83ms (View: 3, DB: 46) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2017&unidade=16&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583412647022]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:50:54) [POST]
  Parameters: {"ano_letivo"=>"2016", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (71.0ms)
Completed in 99ms (View: 71, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:50:55) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2016", "_"=>"1583412655068", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"16"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.5ms)
Completed in 117ms (View: 3, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2016&unidade=16&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583412655068]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:51:00) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2016", "_"=>"1583412659950", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"31"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='31' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='31' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
Rendered estatisticas/_nao_cadastrado (0.1ms)
Completed in 27ms (View: 2, DB: 1) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2016&unidade=31&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583412659950]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:51:05) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2016", "_"=>"1583412665112", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"13"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (3.9ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='13' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (40.6ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='13' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 13) [0m
Rendered estatisticas/_estatisticaclasse (0.3ms)
Completed in 92ms (View: 2, DB: 48) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2016&unidade=13&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583412665112]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:51:13) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2016", "_"=>"1583412673729", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"7"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.7ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='7' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (35.5ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='7' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 7) [0m
Rendered estatisticas/_estatisticaclasse (0.5ms)
Completed in 78ms (View: 3, DB: 40) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2016&unidade=7&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583412673729]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:51:31) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2016", "_"=>"1583412690922", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"57"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (1.6ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='57' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (46.9ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='57' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 57) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 159ms (View: 3, DB: 51) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2016&unidade=57&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583412690922]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:53:09) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2016", "_"=>"1583412789629", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"34"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.6ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (37.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m

NoMethodError (undefined method `qt_mat' for nil:NilClass):
  app/controllers/estatisticas_controller.rb:62:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:61:in `each'
  app/controllers/estatisticas_controller.rb:61:in `classeestatistica'

Rendered rescues/_trace (20.2ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 09:55:12) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 12:55:12' AND ends_at >= '2020-03-05 12:55:12') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 51ms (View: 32, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:55:17) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.2ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 12:55:17' AND ends_at >= '2020-03-05 12:55:17') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 65ms (View: 35, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:55:23) [POST]
  Parameters: {"ano_letivo"=>"2016", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.7ms)
Completed in 100ms (View: 6, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:56:18) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2016", "_"=>"1583412977971", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"34"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mMysql::Error: Unknown column 'unidades.desativa' in 'where clause': SELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativa= 0 AND classes.classe_ano_letivo ='2016' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

ActiveRecord::StatementInvalid (Mysql::Error: Unknown column 'unidades.desativa' in 'where clause': SELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe  FROM `classes`  INNER JOIN  unidades  ON  unidades.id = classes.unidade_id INNER JOIN matriculas  ON  matriculas.classe_id = classes.id WHERE (unidades.desativa= 0 AND classes.classe_ano_letivo ='2016' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO"))  GROUP BY nr_classe):
  app/controllers/estatisticas_controller.rb:47:in `classeestatistica'

Rendered rescues/_trace (22.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 09:56:54) [GET]
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 12:56:54' AND ends_at >= '2020-03-05 12:56:54') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 49ms (View: 33, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:57:01) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (2.9ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (7.1ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 12:57:01' AND ends_at >= '2020-03-05 12:57:01') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 131ms (View: 107, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:57:06) [POST]
  Parameters: {"ano_letivo"=>"2016", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.8ms)
Completed in 36ms (View: 5, DB: 3) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:57:11) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2016", "_"=>"1583413031538", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"34"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo ='2016' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2016' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
Rendered estatisticas/_nao_cadastrado (0.1ms)
Completed in 25ms (View: 2, DB: 2) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2016&unidade=34&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413031538]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 09:58:21) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 12:58:21' AND ends_at >= '2020-03-05 12:58:21') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 124ms (View: 107, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:58:25) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.4ms)
Rendered estatisticas/_classe_fundamental (0.8ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 12:58:25' AND ends_at >= '2020-03-05 12:58:25') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 62ms (View: 36, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:58:34) [POST]
  Parameters: {"ano_letivo"=>"2016", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (7.4ms)
Completed in 102ms (View: 7, DB: 3) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:58:35) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2016", "_"=>"1583413115793", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"16"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (3.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2016' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (40.8ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2016' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 95ms (View: 3, DB: 48) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2016&unidade=16&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413115793]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:58:40) [POST]
  Parameters: {"ano_letivo"=>"2019", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (4.8ms)
Completed in 34ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:58:41) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2019", "_"=>"1583413121706", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"16"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (4.7ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (42.7ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.5ms)
Completed in 154ms (View: 3, DB: 51) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2019&unidade=16&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413121706]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:58:46) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2019", "_"=>"1583413126664", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"55"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='55' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='55' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
Rendered estatisticas/_nao_cadastrado (0.2ms)
Completed in 100ms (View: 2, DB: 2) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2019&unidade=55&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413126664]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:58:50) [POST]
  Parameters: {"ano_letivo"=>"2017", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (4.9ms)
Completed in 101ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:58:55) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2017", "_"=>"1583413135151", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"34"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2017' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2017' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
Rendered estatisticas/_nao_cadastrado (0.2ms)
Completed in 26ms (View: 2, DB: 2) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2017&unidade=34&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413135151]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 09:58:59) [POST]
  Parameters: {"ano_letivo"=>"2018", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (4.9ms)
Completed in 35ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:59:00) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2018", "_"=>"1583413140622", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"16"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.7ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2018' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (37.4ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2018' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 77ms (View: 3, DB: 42) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2018&unidade=16&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413140622]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 09:59:04) [GET]
  Parameters: {"ano_letivoF"=>"", "type_of"=>"1", "ano_letivo"=>"2018", "_"=>"1583413144610", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"34"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2018' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2018' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
Rendered estatisticas/_nao_cadastrado (0.2ms)
Completed in 94ms (View: 2, DB: 2) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2018&unidade=34&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413144610]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:03:16) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (4.3ms)
Rendered estatisticas/_classe_fundamental (0.8ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:03:16' AND ends_at >= '2020-03-05 13:03:16') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 142ms (View: 40, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:03:20) [POST]
  Parameters: {"ano_letivoF"=>"2019", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (5.6ms)
Completed in 103ms (View: 9, DB: 2) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:03:25) [GET]
  Parameters: {"ano_letivoF"=>"2019", "type_of"=>"2", "ano_letivo"=>"2018", "_"=>"1583413405846", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidadeF"=>"48"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.9ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (35.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
Rendered estatisticas/_estatisticaclasse (0.5ms)
Completed in 85ms (View: 3, DB: 41) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=2018&ano_letivoF=2019&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413405846]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:04:42) [POST]
  Parameters: {"ano_letivoF"=>"2016", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (4.5ms)
Completed in 33ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:04:46) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"2", "ano_letivo"=>"2018", "_"=>"1583413486015", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidadeF"=>"48"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (1.7ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2016' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (34.3ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2016' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
Rendered estatisticas/_estatisticaclasse (0.6ms)
Completed in 151ms (View: 4, DB: 39) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=2018&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413486015]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:06:13) [POST]
  Parameters: {"ano_letivo"=>"--Todos--", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.4ms)
Completed in 107ms (View: 6, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:06:19) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583413579296", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"16", "unidadeF"=>"48"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.7ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.6ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.8ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (3.8ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (3.3ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse_seduc (4.7ms)
Completed in 80ms (View: 10, DB: 15) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=16&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413579296]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:06:38) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583413598469", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"31", "unidadeF"=>"48"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.7ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='31') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.4ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='31') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='31') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.3ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='31') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.5ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='31') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 31) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.5ms)
Completed in 112ms (View: 64, DB: 10) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=31&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413598469]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:06:52) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583413612673", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"10", "unidadeF"=>"48"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.7ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='10') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.5ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='10') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='10') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.4ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='10') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.8ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='10') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 10) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 149ms (View: 3, DB: 10) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=10&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413612673]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:07:02) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583413621878", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"11", "unidadeF"=>"48"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.6ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='11') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.4ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='11') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='11') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.4ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='11') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='11') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 11) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.5ms)
Completed in 63ms (View: 4, DB: 9) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=11&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413621878]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:07:14) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583413634725", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"36", "unidadeF"=>"48"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.6ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='36') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.4ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='36') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.3ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='36') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.4ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='36') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.6ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='36') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 36) [0m
Rendered estatisticas/_estatisticaclasse_seduc (1.0ms)
Completed in 63ms (View: 7, DB: 11) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=36&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413634725]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:07:22) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583413642629", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"32", "unidadeF"=>"48"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.6ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='32') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.5ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='32') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='32') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (2.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='32') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (2.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='32') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 32) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 129ms (View: 4, DB: 11) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=32&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413642629]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:07:27) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583413647694", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"34", "unidadeF"=>"48"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (2.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (2.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.6ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.3ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.3ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 34) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 70ms (View: 3, DB: 12) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=34&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413647694]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:08:39) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583413719013", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"3", "unidadeF"=>"48"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.8ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.6ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='3') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.4ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='3') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (3.9ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='3') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (3.4ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='3') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (3.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='3') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 3) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 79ms (View: 3, DB: 18) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=3&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413719013]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:08:42) [POST]
  Parameters: {"ano_letivo"=>"2019", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.2ms)
Completed in 96ms (View: 6, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:08:43) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"2019", "_"=>"1583413723875", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"16", "unidadeF"=>"48"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 116ms (View: 3, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2019&unidade=16&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413723875]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:08:49) [POST]
  Parameters: {"ano_letivo"=>"--Todos--", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (4.6ms)
Completed in 31ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:08:51) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583413731199", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"16", "unidadeF"=>"48"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 46ms (View: 3, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=16&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413731199]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:08:56) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583413736002", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"34", "unidadeF"=>"48"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 34) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 105ms (View: 3, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=34&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413736002]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:09:02) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583413742182", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"32", "unidadeF"=>"48"}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='32') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='32') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='32') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='32') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='32') GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 32) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 45ms (View: 3, DB: 5) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=32&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413742182]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:09:11) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583413751805", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"34", "unidadeF"=>"48"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 34) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 40ms (View: 3, DB: 4) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=34&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413751805]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:09:47) [POST]
  Parameters: {"ano_letivo"=>"2019", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.1ms)
Completed in 92ms (View: 5, DB: 3) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:09:49) [GET]
  Parameters: {"ano_letivoF"=>"2016", "type_of"=>"1", "ano_letivo"=>"2019", "_"=>"1583413789009", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"16", "unidadeF"=>"48"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 111ms (View: 2, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2019&unidade=16&ano_letivoF=2016&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583413789009]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 10:14:43) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:14:43' AND ends_at >= '2020-03-05 13:14:43') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 306ms (View: 196, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:14:49) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.5ms)
Rendered estatisticas/_classe_fundamental (4.9ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:14:49' AND ends_at >= '2020-03-05 13:14:49') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 181ms (View: 149, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:14:54) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"2020"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (7.0ms)
Completed in 48ms (View: 10, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:14:55) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"2020", "_"=>"1583414095511", "unidade"=>"16", "ano_letivoF"=>""}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.6ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2020' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (34.2ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2020' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (9.8ms)
Completed in 166ms (View: 84, DB: 38) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2020&unidade=16&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583414095511]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:15:10) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"--Todos--"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (6.8ms)
Completed in 123ms (View: 7, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:15:12) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"--Todos--", "_"=>"1583414112186", "unidade"=>"16", "ano_letivoF"=>""}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 10:16:03) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:16:03' AND ends_at >= '2020-03-05 13:16:03') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 322ms (View: 200, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:16:09) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.9ms)
Rendered estatisticas/_classe_fundamental (5.0ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:16:09' AND ends_at >= '2020-03-05 13:16:09') [0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 200ms (View: 77, DB: 6) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:16:13) [GET]
  Parameters: {"ano_letivoF"=>"", "_"=>"1583414173737", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"", "type_of"=>"3"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (4.9ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (2.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (2.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (2.3ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (2.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (2.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.8ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (2.7ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (2.6ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (2.6ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 10:16:56) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:16:57' AND ends_at >= '2020-03-05 13:16:57') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 325ms (View: 203, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:17:13) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.7ms)
Rendered estatisticas/_classe_fundamental (5.0ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:17:13' AND ends_at >= '2020-03-05 13:17:13') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 191ms (View: 73, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:17:18) [POST]
  Parameters: {"ano_letivo"=>"--Todos--", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (7.7ms)
Completed in 123ms (View: 12, DB: 3) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:17:20) [GET]
  Parameters: {"unidade"=>"16", "_"=>"1583414239876", "ano_letivo"=>"--Todos--", "ano_letivoF"=>"", "type_of"=>"1", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 10:18:10) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:18:10' AND ends_at >= '2020-03-05 13:18:10') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 325ms (View: 207, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:18:15) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.7ms)
Rendered estatisticas/_classe_fundamental (5.0ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:18:15' AND ends_at >= '2020-03-05 13:18:15') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 189ms (View: 70, DB: 5) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:18:20) [POST]
  Parameters: {"ano_letivoF"=>"--Todos--", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (3.4ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (6.7ms)
Completed in 116ms (View: 10, DB: 5) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:18:24) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"2", "_"=>"1583414304228", "unidadeF"=>"48", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"--Todos--"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.6ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48' ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.5ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.6ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (2.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
Rendered estatisticas/_estatisticaclasse_seduc (6.6ms)
Completed in 81ms (View: 12, DB: 11) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=&ano_letivoF=--Todos--&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583414304228]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:18:36) [POST]
  Parameters: {"ano_letivo"=>"--Todos--", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (17.2ms)
Completed in 130ms (View: 92, DB: 4) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:18:39) [GET]
  Parameters: {"ano_letivo"=>"--Todos--", "type_of"=>"1", "_"=>"1583414319098", "unidadeF"=>"48", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidade"=>"10", "ano_letivoF"=>"--Todos--"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='10') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='10') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='10') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='10') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='10') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 10:19:14) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:19:14' AND ends_at >= '2020-03-05 13:19:14') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 316ms (View: 203, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:19:19) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (8.4ms)
Rendered estatisticas/_classe_fundamental (4.9ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:19:19' AND ends_at >= '2020-03-05 13:19:19') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 190ms (View: 73, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:19:24) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"--Todos--"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (7.6ms)
Completed in 119ms (View: 11, DB: 3) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:19:27) [GET]
  Parameters: {"_"=>"1583414367669", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"", "ano_letivoF"=>"--Todos--", "unidadeF"=>"51", "type_of"=>"2"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (1.7ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='51' ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.4ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='51') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='51') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.4ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='51') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.8ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='51') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 51) [0m
Rendered estatisticas/_estatisticaclasse_seduc (6.6ms)
Completed in 80ms (View: 12, DB: 11) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=&ano_letivoF=--Todos--&unidadeF=51&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583414367669]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:20:47) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"--Todos--"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (13.6ms)
Completed in 127ms (View: 90, DB: 3) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:20:50) [GET]
  Parameters: {"unidade"=>"3", "_"=>"1583414450166", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"--Todos--", "ano_letivoF"=>"--Todos--", "unidadeF"=>"51", "type_of"=>"1"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='3') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='3') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='3') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='3') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='3') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 10:32:02) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (4.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:32:02' AND ends_at >= '2020-03-05 13:32:02') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 210ms (View: 170, DB: 9) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:32:07) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (5.5ms)
Rendered estatisticas/_classe_fundamental (3.2ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:32:07' AND ends_at >= '2020-03-05 13:32:07') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 154ms (View: 128, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:32:10) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"3", "ano_letivo"=>"", "ano_letivoF"=>"", "_"=>"1583415130800"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (5.1ms)
Completed in 74ms (View: 12, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415130800]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:32:25) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"2019"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (12.5ms)
Completed in 106ms (View: 73, DB: 3) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:32:41) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"2", "ano_letivo"=>"", "ano_letivoF"=>"2019", "_"=>"1583415161424", "unidadeF"=>"45"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (1.7ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='45' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (35.9ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='45' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 45) [0m
Rendered estatisticas/_estatisticaclasse (2.2ms)
Completed in 157ms (View: 7, DB: 40) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=&ano_letivoF=2019&unidadeF=45&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415161424]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:33:28) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"3", "ano_letivo"=>"", "ano_letivoF"=>"2019", "_"=>"1583415208016", "unidadeF"=>"45"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (0.7ms)
Completed in 63ms (View: 5, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=2019&unidadeF=45&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415208016]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:42:12) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (6.1ms)
Rendered estatisticas/_classe_fundamental (1.1ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:42:12' AND ends_at >= '2020-03-05 13:42:12') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 159ms (View: 126, DB: 5) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:42:17) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"2020"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.1ms)
Completed in 34ms (View: 7, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:42:19) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"2019"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (6.1ms)
Completed in 96ms (View: 12, DB: 3) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:42:20) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"2019", "ano_letivoF"=>"2019", "_"=>"1583415740575", "unidade"=>"16"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.5ms)
Completed in 119ms (View: 3, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2019&unidade=16&ano_letivoF=2019&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415740575]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:42:23) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"--Todos--"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (4.7ms)
Completed in 33ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:42:24) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"--Todos--", "ano_letivoF"=>"2019", "_"=>"1583415744194", "unidade"=>"16"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 54ms (View: 3, DB: 4) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=16&ano_letivoF=2019&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415744194]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:42:30) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"--Todos--", "ano_letivoF"=>"2019", "_"=>"1583415750821", "unidade"=>"34"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 34) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.5ms)
Completed in 106ms (View: 3, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=34&ano_letivoF=2019&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415750821]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:42:34) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"2019"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (4.9ms)
Completed in 104ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:42:40) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"2019", "ano_letivoF"=>"2019", "_"=>"1583415760387", "unidade"=>"34"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.8ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.5ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
Rendered estatisticas/_nao_cadastrado (0.8ms)
Completed in 29ms (View: 4, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2019&unidade=34&ano_letivoF=2019&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415760387]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:42:46) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"2016"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (4.6ms)
Completed in 32ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:42:47) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"2016", "ano_letivoF"=>"2019", "_"=>"1583415767114", "unidade"=>"16"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2016' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2016' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 106ms (View: 3, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2016&unidade=16&ano_letivoF=2019&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415767114]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:42:55) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"2016", "ano_letivoF"=>"2019", "_"=>"1583415775310", "unidade"=>"34"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2016' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2016' and classes.unidade_id='34' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
Rendered estatisticas/_nao_cadastrado (0.1ms)
Completed in 106ms (View: 2, DB: 2) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2016&unidade=34&ano_letivoF=2019&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415775310]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:42:58) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"--Todos--"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.0ms)
Completed in 98ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:42:59) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"--Todos--", "ano_letivoF"=>"2019", "_"=>"1583415779462", "unidade"=>"16"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 50ms (View: 3, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=16&ano_letivoF=2019&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415779462]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:43:29) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"--Todos--", "ano_letivoF"=>"2019", "_"=>"1583415809324", "unidade"=>"34"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='34') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 34) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 104ms (View: 70, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=34&ano_letivoF=2019&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415809324]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:43:52) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.1ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:43:52' AND ends_at >= '2020-03-05 13:43:52') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 144ms (View: 35, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:43:56) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"2019"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (4.4ms)
Completed in 36ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:43:58) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"2", "ano_letivo"=>"", "ano_letivoF"=>"2019", "_"=>"1583415838837", "unidadeF"=>"48"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='48' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 103ms (View: 3, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=&ano_letivoF=2019&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415838837]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:44:07) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"2", "ano_letivo"=>"", "ano_letivoF"=>"2019", "_"=>"1583415847003", "unidadeF"=>"45"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='45' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='45' AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 45) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 114ms (View: 3, DB: 4) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=&ano_letivoF=2019&unidadeF=45&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415847003]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:44:16) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"--Todos--"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (4.5ms)
Completed in 33ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:44:17) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"2", "ano_letivo"=>"", "ano_letivoF"=>"--Todos--", "_"=>"1583415857548", "unidadeF"=>"48"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48' ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 41ms (View: 3, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=&ano_letivoF=--Todos--&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415857548]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:44:29) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"2", "ano_letivo"=>"", "ano_letivoF"=>"--Todos--", "_"=>"1583415869313", "unidadeF"=>"45"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (1.7ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='45' ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='45') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.4ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='45') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='45') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (1.5ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='45') GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 45) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.5ms)
Completed in 118ms (View: 4, DB: 10) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=&ano_letivoF=--Todos--&unidadeF=45&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415869313]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:44:47) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"2", "ano_letivo"=>"", "ano_letivoF"=>"--Todos--", "_"=>"1583415887531", "unidadeF"=>"43"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (3.9ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='43' ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (3.8ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='43') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (2.6ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='43') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.8ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='43') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (2.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='43') GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.5ms)
Completed in 64ms (View: 3, DB: 18) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=&ano_letivoF=--Todos--&unidadeF=43&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583415887531]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:47:28) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"--Todos--"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.6ms)
Completed in 36ms (View: 5, DB: 3) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:47:30) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"--Todos--", "ano_letivoF"=>"--Todos--", "_"=>"1583416049885", "unidade"=>"16", "unidadeF"=>"43"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='16') GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 117ms (View: 3, DB: 4) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=16&ano_letivoF=--Todos--&unidadeF=43&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583416049885]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:47:41) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"2017"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.1ms)
Completed in 102ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:47:43) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"2017", "ano_letivoF"=>"--Todos--", "_"=>"1583416063218", "unidade"=>"16", "unidadeF"=>"43"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (1.7ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2017' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (37.3ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2017' and classes.unidade_id='16' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
Rendered estatisticas/_estatisticaclasse (0.4ms)
Completed in 75ms (View: 2, DB: 41) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2017&unidade=16&ano_letivoF=--Todos--&unidadeF=43&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583416063218]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:47:46) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"--Todos--"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (4.6ms)
Completed in 37ms (View: 5, DB: 2) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:47:51) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"1", "ano_letivo"=>"--Todos--", "ano_letivoF"=>"--Todos--", "_"=>"1583416071318", "unidade"=>"2", "unidadeF"=>"43"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (4.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='2') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (2.8ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='2') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (2.4ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='2') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (11.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='2') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (1.7ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) and classes.unidade_id='2') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 2) [0m
Rendered estatisticas/_estatisticaclasse_seduc (0.4ms)
Completed in 143ms (View: 3, DB: 26) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=--Todos--&unidade=2&ano_letivoF=--Todos--&unidadeF=43&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583416071318]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 10:50:15) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:50:15' AND ends_at >= '2020-03-05 13:50:15') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 311ms (View: 194, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:50:20) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.0ms)
Rendered estatisticas/_classe_fundamental (4.6ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:50:20' AND ends_at >= '2020-03-05 13:50:20') [0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 189ms (View: 156, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:50:25) [POST]
  Parameters: {"ano_letivoF"=>"--Todos--", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (6.3ms)
Completed in 47ms (View: 9, DB: 2) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:50:28) [GET]
  Parameters: {"ano_letivoF"=>"--Todos--", "unidadeF"=>"48", "type_of"=>"2", "_"=>"1583416228088", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>""}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48' ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 10:51:16) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:51:16' AND ends_at >= '2020-03-05 13:51:16') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 329ms (View: 197, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:51:20) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.7ms)
Rendered estatisticas/_classe_fundamental (4.6ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:51:20' AND ends_at >= '2020-03-05 13:51:20') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 183ms (View: 71, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:51:28) [POST]
  Parameters: {"ano_letivoF"=>"--Todos--", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (7.5ms)
Completed in 120ms (View: 11, DB: 3) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:51:31) [GET]
  Parameters: {"type_of"=>"2", "unidadeF"=>"48", "ano_letivo"=>"", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"--Todos--", "_"=>"1583416290916"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48' ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
Rendered estatisticas/_estatisticaclasse_seduc (6.3ms)
Completed in 11125ms (View: 12, DB: 4) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=&ano_letivoF=--Todos--&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583416290916]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 10:52:12) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:52:12' AND ends_at >= '2020-03-05 13:52:12') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 314ms (View: 201, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:52:19) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.3ms)
Rendered estatisticas/_classe_fundamental (4.8ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:52:19' AND ends_at >= '2020-03-05 13:52:19') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 181ms (View: 70, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:52:25) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"--Todos--"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (7.6ms)
Completed in 121ms (View: 11, DB: 3) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:52:28) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidadeF"=>"48", "ano_letivo"=>"", "type_of"=>"2", "ano_letivoF"=>"--Todos--", "_"=>"1583416348061"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48' ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
Rendered estatisticas/_estatisticaclasse_seduc (6.5ms)
Completed in 67ms (View: 12, DB: 4) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=&ano_letivoF=--Todos--&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583416348061]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 10:53:03) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:53:03' AND ends_at >= '2020-03-05 13:53:03') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 303ms (View: 189, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:53:07) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.6ms)
Rendered estatisticas/_classe_fundamental (4.6ms)
Rendered estatisticas/_classe_seduc (0.9ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:53:07' AND ends_at >= '2020-03-05 13:53:07') [0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 193ms (View: 72, DB: 6) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:53:11) [POST]
  Parameters: {"ano_letivoF"=>"--Todos--", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (6.6ms)
Completed in 116ms (View: 10, DB: 2) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:53:12) [GET]
  Parameters: {"ano_letivoF"=>"--Todos--", "type_of"=>"2", "unidadeF"=>"48", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"", "_"=>"1583416392508"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48' ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 10:53:49) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:53:49' AND ends_at >= '2020-03-05 13:53:49') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 202ms (View: 176, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:53:53) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (5.3ms)
Rendered estatisticas/_classe_fundamental (3.0ms)
Rendered estatisticas/_classe_seduc (0.6ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:53:53' AND ends_at >= '2020-03-05 13:53:53') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 146ms (View: 112, DB: 10) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesF_estatistica_ano (for 127.0.0.1 at 2020-03-05 10:53:57) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"--Todos--"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome, id FROM `unidades` WHERE (tipo_id = 1 OR tipo_id = 4 OR tipo_id = 7) ORDER BY nome ASC[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesF (5.1ms)
Completed in 109ms (View: 8, DB: 2) | 200 OK [http://localhost/estatisticas/classesF_estatistica_ano]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:53:59) [GET]
  Parameters: {"ano_letivo"=>"", "_"=>"1583416439381", "type_of"=>"2", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidadeF"=>"48", "ano_letivoF"=>"--Todos--"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48' ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) and classes.unidade_id='48') GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
Rendered estatisticas/_estatisticaclasse_seduc (4.5ms)
Completed in 54ms (View: 9, DB: 5) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=2&ano_letivo=&ano_letivoF=--Todos--&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583416439381]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:55:04) [GET]
  Parameters: {"ano_letivo"=>"", "_"=>"1583416504074", "type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidadeF"=>"48", "ano_letivoF"=>"--Todos--"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (0.7ms)
Completed in 57ms (View: 4, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=--Todos--&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583416504074]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:55:59) [GET]
  Parameters: {"ano_letivo"=>"", "_"=>"1583416558959", "type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "unidadeF"=>"48", "ano_letivoF"=>"--Todos--"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (0.7ms)
Completed in 134ms (View: 5, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=--Todos--&unidadeF=48&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583416558959]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:56:31) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (4.8ms)
Rendered estatisticas/_classe_fundamental (1.1ms)
Rendered estatisticas/_classe_seduc (0.3ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 13:56:31' AND ends_at >= '2020-03-05 13:56:31') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 91ms (View: 49, DB: 5) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 10:56:36) [GET]
  Parameters: {"ano_letivo"=>"", "_"=>"1583416596296", "type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"--Todos--"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (1.0ms)
Completed in 129ms (View: 8, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=--Todos--&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583416596296]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 11:00:52) [GET]
  [4;35;1mUser Columns (6.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 14:00:52' AND ends_at >= '2020-03-05 14:00:52') [0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 78ms (View: 42, DB: 10) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 11:01:03) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 14:01:03' AND ends_at >= '2020-03-05 14:01:03') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 121ms (View: 105, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 11:01:07) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.8ms)
Rendered estatisticas/_classe_fundamental (0.8ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 14:01:07' AND ends_at >= '2020-03-05 14:01:07') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 142ms (View: 38, DB: 6) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 11:01:12) [GET]
  Parameters: {"ano_letivo"=>"", "_"=>"1583416872347", "type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>""}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (0.7ms)
Completed in 53ms (View: 5, DB: 2) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583416872347]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 11:31:53) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 14:31:53' AND ends_at >= '2020-03-05 14:31:53') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 141ms (View: 122, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 11:31:57) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (2.9ms)
Rendered estatisticas/_classe_fundamental (0.6ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 14:31:57' AND ends_at >= '2020-03-05 14:31:57') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 124ms (View: 100, DB: 5) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classesI_estatistica_ano (for 127.0.0.1 at 2020-03-05 11:32:02) [POST]
  Parameters: {"ano_letivo"=>"2019", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome, id FROM `unidades` WHERE (tipo_id = 2 OR tipo_id = 5 OR tipo_id = 8) ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Rendered estatisticas/_unidadesI (5.9ms)
Completed in 104ms (View: 7, DB: 3) | 200 OK [http://localhost/estatisticas/classesI_estatistica_ano]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 11:32:06) [GET]
  Parameters: {"ano_letivo"=>"2019", "unidade"=>"7", "_"=>"1583418725901", "type_of"=>"1", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>""}
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (1.7ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='7' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (39.7ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada= 0 AND classes.classe_ano_letivo ='2019' and classes.unidade_id='7' AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 7) [0m
Rendered estatisticas/_estatisticaclasse (1.9ms)
Completed in 93ms (View: 6, DB: 45) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=1&ano_letivo=2019&unidade=7&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583418725901]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 11:58:10) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 14:58:10' AND ends_at >= '2020-03-05 14:58:10') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 158ms (View: 142, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 11:58:20) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.4ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 14:58:20' AND ends_at >= '2020-03-05 14:58:20') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 61ms (View: 34, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (10.6ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 11:58:24) [GET]
  Parameters: {"ano_letivo"=>"", "_"=>"1583420304741", "type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>""}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (43.7ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (42.6ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (41.7ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (45.5ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (36.9ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
  app/controllers/estatisticas_controller.rb:630:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:615:in `each'
  app/controllers/estatisticas_controller.rb:615:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:613:in `each'
  app/controllers/estatisticas_controller.rb:613:in `classeestatistica'

Rendered rescues/_trace (18.6ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 11:58:55) [GET]
  Parameters: {"ano_letivo"=>"", "_"=>"1583420335480", "type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>""}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/estatisticas_controller.rb:630:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:615:in `each'
  app/controllers/estatisticas_controller.rb:615:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:613:in `each'
  app/controllers/estatisticas_controller.rb:613:in `classeestatistica'

Rendered rescues/_trace (16.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:04:48) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:04:48' AND ends_at >= '2020-03-05 15:04:48') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 131ms (View: 113, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:04:51) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.5ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:04:51' AND ends_at >= '2020-03-05 15:04:51') [0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 132ms (View: 34, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:04:55) [GET]
  Parameters: {"ano_letivo"=>"", "_"=>"1583420695459", "type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>""}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/estatisticas_controller.rb:636:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:619:in `each'
  app/controllers/estatisticas_controller.rb:619:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:617:in `each'
  app/controllers/estatisticas_controller.rb:617:in `classeestatistica'

Rendered rescues/_trace (86.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:05:39) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:05:39' AND ends_at >= '2020-03-05 15:05:39') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 140ms (View: 41, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:05:43) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (2.8ms)
Rendered estatisticas/_classe_fundamental (0.6ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:05:43' AND ends_at >= '2020-03-05 15:05:43') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (7.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 119ms (View: 89, DB: 11) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:05:47) [GET]
  Parameters: {"ano_letivo"=>"", "_"=>"1583420747850", "type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>""}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/estatisticas_controller.rb:626:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:624:in `each'
  app/controllers/estatisticas_controller.rb:624:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:622:in `each'
  app/controllers/estatisticas_controller.rb:622:in `classeestatistica'

Rendered rescues/_trace (17.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:06:44) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:06:45' AND ends_at >= '2020-03-05 15:06:45') [0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 325ms (View: 205, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:06:49) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (10.7ms)
Rendered estatisticas/_classe_fundamental (4.2ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:06:49' AND ends_at >= '2020-03-05 15:06:49') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 188ms (View: 73, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:06:52) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"3", "ano_letivo"=>"", "_"=>"1583420812687", "ano_letivoF"=>""}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/estatisticas_controller.rb:626:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:624:in `each'
  app/controllers/estatisticas_controller.rb:624:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:622:in `each'
  app/controllers/estatisticas_controller.rb:622:in `classeestatistica'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (30.1ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:07:38) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:07:38' AND ends_at >= '2020-03-05 15:07:38') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 63ms (View: 42, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:07:46) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:07:46' AND ends_at >= '2020-03-05 15:07:46') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 197ms (View: 167, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:07:50) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (5.8ms)
Rendered estatisticas/_classe_fundamental (3.2ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:07:50' AND ends_at >= '2020-03-05 15:07:50') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (8.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 158ms (View: 115, DB: 12) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:07:57) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583420877810", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/estatisticas_controller.rb:626:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:624:in `each'
  app/controllers/estatisticas_controller.rb:624:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:622:in `each'
  app/controllers/estatisticas_controller.rb:622:in `classeestatistica'

Rendered rescues/_trace (23.5ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:09:11) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:09:11' AND ends_at >= '2020-03-05 15:09:11') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 47ms (View: 30, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:09:14) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (2.8ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:09:14' AND ends_at >= '2020-03-05 15:09:14') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 128ms (View: 104, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:09:17) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583420957498", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/estatisticas_controller.rb:628:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:624:in `each'
  app/controllers/estatisticas_controller.rb:624:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:622:in `each'
  app/controllers/estatisticas_controller.rb:622:in `classeestatistica'

Rendered rescues/_trace (19.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:11:58) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:11:58' AND ends_at >= '2020-03-05 15:11:58') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 130ms (View: 113, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:12:02) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.3ms)
Rendered estatisticas/_classe_fundamental (0.8ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:12:02' AND ends_at >= '2020-03-05 15:12:02') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 140ms (View: 36, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:12:06) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421126465", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/estatisticas_controller.rb:627:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:624:in `each'
  app/controllers/estatisticas_controller.rb:624:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:622:in `each'
  app/controllers/estatisticas_controller.rb:622:in `classeestatistica'

Rendered rescues/_trace (90.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:13:02) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:13:02' AND ends_at >= '2020-03-05 15:13:02') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 137ms (View: 35, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:13:05) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.2ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:13:05' AND ends_at >= '2020-03-05 15:13:05') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 137ms (View: 104, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:13:08) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421188566", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/estatisticas_controller.rb:629:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:624:in `each'
  app/controllers/estatisticas_controller.rb:624:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:622:in `each'
  app/controllers/estatisticas_controller.rb:622:in `classeestatistica'

Rendered rescues/_trace (20.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:14:05) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:14:05' AND ends_at >= '2020-03-05 15:14:05') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 144ms (View: 126, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:14:08) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.5ms)
Rendered estatisticas/_classe_fundamental (0.8ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:14:08' AND ends_at >= '2020-03-05 15:14:08') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 148ms (View: 45, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:14:12) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421252463", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/estatisticas_controller.rb:628:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:624:in `each'
  app/controllers/estatisticas_controller.rb:624:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:622:in `each'
  app/controllers/estatisticas_controller.rb:622:in `classeestatistica'

Rendered rescues/_trace (91.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:15:21) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:15:21' AND ends_at >= '2020-03-05 15:15:21') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 135ms (View: 38, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:15:25) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.4ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:15:25' AND ends_at >= '2020-03-05 15:15:25') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 66ms (View: 37, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:15:28) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421328262", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/estatisticas_controller.rb:629:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:625:in `each'
  app/controllers/estatisticas_controller.rb:625:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:623:in `each'
  app/controllers/estatisticas_controller.rb:623:in `classeestatistica'

Rendered rescues/_trace (20.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:18:50) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:18:50' AND ends_at >= '2020-03-05 15:18:50') [0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 59ms (View: 35, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:18:53) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.7ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:18:53' AND ends_at >= '2020-03-05 15:18:53') [0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 143ms (View: 113, DB: 6) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:18:57) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421536898", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (5.2ms)
Completed in 77ms (View: 12, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583421536898]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:20:54) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:20:54' AND ends_at >= '2020-03-05 15:20:54') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 48ms (View: 31, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:21:01) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.5ms)
Rendered estatisticas/_classe_fundamental (0.9ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:21:01' AND ends_at >= '2020-03-05 15:21:01') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 131ms (View: 39, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:21:04) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421664838", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.count):
  app/controllers/estatisticas_controller.rb:615:in `classeestatistica'

Rendered rescues/_trace (21.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:21:20) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421680779", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
  app/controllers/estatisticas_controller.rb:616:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:615:in `each'
  app/controllers/estatisticas_controller.rb:615:in `classeestatistica'

Rendered rescues/_trace (20.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:21:56) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:21:56' AND ends_at >= '2020-03-05 15:21:56') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 56ms (View: 34, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:22:02) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.9ms)
Rendered estatisticas/_classe_fundamental (0.9ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:22:02' AND ends_at >= '2020-03-05 15:22:02') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 137ms (View: 109, DB: 6) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:22:06) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421726068", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
  app/controllers/estatisticas_controller.rb:617:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:615:in `each'
  app/controllers/estatisticas_controller.rb:615:in `classeestatistica'

Rendered rescues/_trace (19.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:22:24) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:22:24' AND ends_at >= '2020-03-05 15:22:24') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 52ms (View: 32, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:22:28) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.5ms)
Rendered estatisticas/_classe_fundamental (0.9ms)
Rendered estatisticas/_classe_seduc (0.3ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:22:28' AND ends_at >= '2020-03-05 15:22:28') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 133ms (View: 41, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:22:31) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421751462", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+):
  app/controllers/estatisticas_controller.rb:618:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:615:in `each'
  app/controllers/estatisticas_controller.rb:615:in `classeestatistica'

Rendered rescues/_trace (18.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:22:58) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:22:58' AND ends_at >= '2020-03-05 15:22:58') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 132ms (View: 116, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:23:01) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.4ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:23:01' AND ends_at >= '2020-03-05 15:23:01') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 64ms (View: 35, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:23:05) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421785094", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/estatisticas_controller.rb:619:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:615:in `each'
  app/controllers/estatisticas_controller.rb:615:in `classeestatistica'

Rendered rescues/_trace (90.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:23:26) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:23:26' AND ends_at >= '2020-03-05 15:23:26') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 159ms (View: 34, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:23:30) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.6ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:23:30' AND ends_at >= '2020-03-05 15:23:30') [0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 134ms (View: 105, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:23:33) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421813539", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (undefined method `qt_mat' for nil:NilClass):
  app/controllers/estatisticas_controller.rb:616:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:615:in `each'
  app/controllers/estatisticas_controller.rb:615:in `classeestatistica'

Rendered rescues/_trace (19.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:24:46) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:24:46' AND ends_at >= '2020-03-05 15:24:46') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 64ms (View: 38, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:24:49) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.0ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:24:50' AND ends_at >= '2020-03-05 15:24:50') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 131ms (View: 107, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:24:53) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421893520", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (undefined method `qt_mat' for nil:NilClass):
  app/controllers/estatisticas_controller.rb:621:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:615:in `each'
  app/controllers/estatisticas_controller.rb:615:in `classeestatistica'

Rendered rescues/_trace (18.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:25:54) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:25:54' AND ends_at >= '2020-03-05 15:25:54') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 118ms (View: 103, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:25:57) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.3ms)
Rendered estatisticas/_classe_fundamental (0.8ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:25:57' AND ends_at >= '2020-03-05 15:25:57') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 140ms (View: 37, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:26:01) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583421961184", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (undefined method `nr_classe' for nil:NilClass):
  app/controllers/estatisticas_controller.rb:628:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:615:in `each'
  app/controllers/estatisticas_controller.rb:615:in `classeestatistica'

Rendered rescues/_trace (92.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:27:50) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:27:50' AND ends_at >= '2020-03-05 15:27:50') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 142ms (View: 41, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:27:54) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.2ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:27:54' AND ends_at >= '2020-03-05 15:27:54') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 61ms (View: 35, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:27:58) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583422078292", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (0.7ms)
Completed in 129ms (View: 5, DB: 2) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583422078292]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 12:50:17) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:50:17' AND ends_at >= '2020-03-05 15:50:17') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 80ms (View: 54, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:58:13) [GET]
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.1ms)
Rendered estatisticas/_classe_fundamental (0.8ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 15:58:13' AND ends_at >= '2020-03-05 15:58:13') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 125ms (View: 37, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 12:58:16) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583423896553", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NameError (undefined local variable or method `cl_maior_mat' for #<EstatisticasController:0x7f4a08d824e0>):
  app/controllers/estatisticas_controller.rb:698:in `classeestatistica'

Rendered rescues/_trace (20.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:00:15) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (2.9ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:00:15' AND ends_at >= '2020-03-05 16:00:15') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 143ms (View: 119, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:00:19) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583424018919", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
  app/controllers/estatisticas_controller.rb:681:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:680:in `each'
  app/controllers/estatisticas_controller.rb:680:in `classeestatistica'

Rendered rescues/_trace (19.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:00:40) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (2.9ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:00:40' AND ends_at >= '2020-03-05 16:00:40') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 143ms (View: 116, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:00:43) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583424043098", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
  app/controllers/estatisticas_controller.rb:681:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:680:in `each'
  app/controllers/estatisticas_controller.rb:680:in `classeestatistica'

Rendered rescues/_trace (19.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:01:07) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.2ms)
Rendered estatisticas/_classe_fundamental (0.6ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:01:07' AND ends_at >= '2020-03-05 16:01:07') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 128ms (View: 103, DB: 5) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:01:10) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "_"=>"1583424069895", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (5.0ms)
Completed in 82ms (View: 12, DB: 4) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583424069895]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:01:41) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:01:41' AND ends_at >= '2020-03-05 16:01:41') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 345ms (View: 206, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:01:55) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (11.6ms)
Rendered estatisticas/_classe_fundamental (4.3ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:01:55' AND ends_at >= '2020-03-05 16:01:55') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 181ms (View: 68, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:01:59) [GET]
  Parameters: {"ano_letivoF"=>"", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"", "type_of"=>"3", "_"=>"1583424119032"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (7.0ms)
Completed in 15633ms (View: 16, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583424119032]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:02:34) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:02:34' AND ends_at >= '2020-03-05 16:02:34') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 327ms (View: 213, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:02:37) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.2ms)
Rendered estatisticas/_classe_fundamental (4.5ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:02:37' AND ends_at >= '2020-03-05 16:02:37') [0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 186ms (View: 67, DB: 6) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:02:40) [GET]
  Parameters: {"ano_letivo"=>"", "_"=>"1583424160591", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"", "type_of"=>"3"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:08:10) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:08:11' AND ends_at >= '2020-03-05 16:08:11') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 298ms (View: 183, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:08:14) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.6ms)
Rendered estatisticas/_classe_fundamental (4.3ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:08:15' AND ends_at >= '2020-03-05 16:08:15') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 183ms (View: 66, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:08:18) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"3", "ano_letivoF"=>"", "ano_letivo"=>"", "_"=>"1583424498427"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m

NoMethodError (undefined method `qt_mat' for #<Array:0x7fbc2d8efff8>):
  app/controllers/estatisticas_controller.rb:619:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:617:in `each'
  app/controllers/estatisticas_controller.rb:617:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:615:in `each'
  app/controllers/estatisticas_controller.rb:615:in `classeestatistica'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (30.3ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:09:04) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:09:04' AND ends_at >= '2020-03-05 16:09:04') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 327ms (View: 197, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:09:12) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (10.4ms)
Rendered estatisticas/_classe_fundamental (4.4ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:09:12' AND ends_at >= '2020-03-05 16:09:12') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 190ms (View: 73, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:09:16) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"3", "ano_letivoF"=>"", "ano_letivo"=>"", "_"=>"1583424555924"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:11:21) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:11:21' AND ends_at >= '2020-03-05 16:11:21') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 248ms (View: 209, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:11:26) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.3ms)
Rendered estatisticas/_classe_fundamental (4.3ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:11:26' AND ends_at >= '2020-03-05 16:11:26') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 179ms (View: 147, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:11:30) [GET]
  Parameters: {"ano_letivoF"=>"", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "_"=>"1583424690065", "ano_letivo"=>"", "type_of"=>"3"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:12:52) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:12:52' AND ends_at >= '2020-03-05 16:12:52') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 299ms (View: 192, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:12:55) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (4.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.5ms)
Rendered estatisticas/_classe_fundamental (4.4ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:12:55' AND ends_at >= '2020-03-05 16:12:55') [0m
  [4;36;1mroles_users Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 182ms (View: 68, DB: 12) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:12:58) [GET]
  Parameters: {"type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"", "ano_letivo"=>"", "_"=>"1583424778312"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m

NoMethodError (undefined method `qt_mat' for #<Array:0x7fe584be76e0>):
  app/controllers/estatisticas_controller.rb:627:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:624:in `each'
  app/controllers/estatisticas_controller.rb:624:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:622:in `each'
  app/controllers/estatisticas_controller.rb:622:in `classeestatistica'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (35.2ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:17:22) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:17:22' AND ends_at >= '2020-03-05 16:17:22') [0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 302ms (View: 195, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:17:25) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.3ms)
Rendered estatisticas/_classe_fundamental (4.6ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:17:25' AND ends_at >= '2020-03-05 16:17:25') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 181ms (View: 68, DB: 5) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:17:29) [GET]
  Parameters: {"ano_letivo"=>"", "_"=>"1583425049201", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"3", "ano_letivoF"=>""}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m

NoMethodError (undefined method `qt_mat' for #<Array:0x7f0c716a3ce8>):
  app/controllers/estatisticas_controller.rb:628:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:624:in `each'
  app/controllers/estatisticas_controller.rb:624:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:622:in `each'
  app/controllers/estatisticas_controller.rb:622:in `classeestatistica'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (33.8ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:39:34) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:39:34' AND ends_at >= '2020-03-05 16:39:34') [0m
  [4;35;1mroles_users Columns (4.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 253ms (View: 215, DB: 8) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:39:38) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.1ms)
Rendered estatisticas/_classe_fundamental (4.5ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:39:38' AND ends_at >= '2020-03-05 16:39:38') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 177ms (View: 148, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:39:42) [GET]
  Parameters: {"type_of"=>"3", "_"=>"1583426382032", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"", "ano_letivo"=>""}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m

NoMethodError (undefined method `qt_mat' for nil:NilClass):
  app/controllers/estatisticas_controller.rb:628:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:624:in `each'
  app/controllers/estatisticas_controller.rb:624:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:622:in `each'
  app/controllers/estatisticas_controller.rb:622:in `classeestatistica'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (137.2ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:40:17) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:40:18' AND ends_at >= '2020-03-05 16:40:18') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 328ms (View: 199, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:40:36) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:40:36' AND ends_at >= '2020-03-05 16:40:36') [0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 335ms (View: 208, DB: 6) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:46:17) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:46:17' AND ends_at >= '2020-03-05 16:46:17') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 197ms (View: 169, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:46:27) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (5.5ms)
Rendered estatisticas/_classe_fundamental (3.2ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:46:27' AND ends_at >= '2020-03-05 16:46:27') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (6.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 151ms (View: 116, DB: 10) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:46:31) [GET]
  Parameters: {"ano_letivoF"=>"", "ano_letivo"=>"", "type_of"=>"3", "_"=>"1583426791242", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m

NoMethodError (undefined method `nr_classe' for nil:NilClass):
  app/controllers/estatisticas_controller.rb:625:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:624:in `each'
  app/controllers/estatisticas_controller.rb:624:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:622:in `each'
  app/controllers/estatisticas_controller.rb:622:in `classeestatistica'

Rendered rescues/_trace (21.3ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:47:05) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:47:05' AND ends_at >= '2020-03-05 16:47:05') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 49ms (View: 30, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:47:09) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (6.7ms)
Rendered estatisticas/_classe_fundamental (67.5ms)
Rendered estatisticas/_classe_seduc (0.3ms)
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:47:09' AND ends_at >= '2020-03-05 16:47:09') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 134ms (View: 110, DB: 5) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:47:12) [GET]
  Parameters: {"ano_letivoF"=>"", "ano_letivo"=>"", "type_of"=>"3", "_"=>"1583426832267", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (5.1ms)
Completed in 74ms (View: 11, DB: 2) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583426832267]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:47:46) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:47:46' AND ends_at >= '2020-03-05 16:47:46') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 301ms (View: 192, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:47:52) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.2ms)
Rendered estatisticas/_classe_fundamental (4.8ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:47:53' AND ends_at >= '2020-03-05 16:47:53') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 179ms (View: 67, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:47:57) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"", "_"=>"1583426877506", "ano_letivoF"=>"", "type_of"=>"3"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:52:09) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:52:09' AND ends_at >= '2020-03-05 16:52:09') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 216ms (View: 187, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:52:15) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (6.0ms)
Rendered estatisticas/_classe_fundamental (3.3ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:52:15' AND ends_at >= '2020-03-05 16:52:15') [0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 156ms (View: 122, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:52:18) [GET]
  Parameters: {"_"=>"1583427138715", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"3", "ano_letivo"=>"", "ano_letivoF"=>""}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (5.4ms)
Completed in 159ms (View: 12, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583427138715]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 13:59:48) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:59:48' AND ends_at >= '2020-03-05 16:59:48') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 58ms (View: 42, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:59:52) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (2.8ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 16:59:52' AND ends_at >= '2020-03-05 16:59:52') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 122ms (View: 96, DB: 6) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 13:59:55) [GET]
  Parameters: {"_"=>"1583427595480", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"3", "ano_letivo"=>"", "ano_letivoF"=>""}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (0.7ms)
Completed in 73ms (View: 5, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583427595480]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 14:05:18) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 17:05:18' AND ends_at >= '2020-03-05 17:05:18') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 166ms (View: 136, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 14:05:23) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (2.8ms)
Rendered estatisticas/_classe_fundamental (0.8ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 17:05:23' AND ends_at >= '2020-03-05 17:05:23') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 59ms (View: 34, DB: 5) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 14:05:26) [GET]
  Parameters: {"_"=>"1583427926666", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"3", "ano_letivo"=>"", "ano_letivoF"=>""}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m

ActionView::TemplateError (undefined local variable or method `a' for #<ActionView::Base:0x7fccc3f92b48>) on line #117 of app/views/estatisticas/_estatisticaclasse_seduc.erb:
114:                          <td width="30%"  ><b>&nbsp&nbsp <%=(Time.now.year)-4%> </b></td>
115:                          <% for matIa in  @quant_matIa %>
116:                            <td align="center"> <%= matIa%> </td>
117:                              <%total1=total1 + a %>
118:                           <%end%>
119:                             <td width="10%" align="center"> <b> <%= total1%> </b></td>
120:                        </tr>

    app/views/estatisticas/_estatisticaclasse_seduc.erb:117
    app/views/estatisticas/_estatisticaclasse_seduc.erb:115:in `each'
    app/views/estatisticas/_estatisticaclasse_seduc.erb:115
    app/controllers/estatisticas_controller.rb:872:in `classeestatistica'
    app/controllers/estatisticas_controller.rb:871:in `classeestatistica'

Rendered rescues/_trace (29.3ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 14:05:43) [GET]
  Parameters: {"_"=>"1583427943519", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"3", "ano_letivo"=>"", "ano_letivoF"=>""}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (7.5ms)
Completed in 151ms (View: 84, DB: 2) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583427943519]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 14:21:16) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 17:21:16' AND ends_at >= '2020-03-05 17:21:16') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 232ms (View: 204, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 14:21:28) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (5.4ms)
Rendered estatisticas/_classe_fundamental (3.1ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 17:21:28' AND ends_at >= '2020-03-05 17:21:28') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (6.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 152ms (View: 116, DB: 10) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 14:21:32) [GET]
  Parameters: {"ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "_"=>"1583428892095"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (7.1ms)
Completed in 166ms (View: 15, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583428892095]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 14:23:40) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 17:23:40' AND ends_at >= '2020-03-05 17:23:40') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 201ms (View: 175, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 14:23:44) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (6.5ms)
Rendered estatisticas/_classe_fundamental (3.7ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 17:23:44' AND ends_at >= '2020-03-05 17:23:44') [0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 156ms (View: 126, DB: 6) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 14:23:48) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "_"=>"1583429028295", "ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>""}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (6.9ms)
Completed in 185ms (View: 14, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583429028295]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 14:38:42) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 17:38:42' AND ends_at >= '2020-03-05 17:38:42') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 136ms (View: 118, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 14:38:47) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.0ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 17:38:47' AND ends_at >= '2020-03-05 17:38:47') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 129ms (View: 34, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 14:38:50) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "_"=>"1583429930513", "ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>""}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (40.6ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (44.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (42.8ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (44.8ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (37.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.count):
  app/controllers/estatisticas_controller.rb:886:in `classeestatistica'

Rendered rescues/_trace (20.2ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 14:39:20) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 17:39:20' AND ends_at >= '2020-03-05 17:39:20') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 53ms (View: 36, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 14:39:23) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.4ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 17:39:23' AND ends_at >= '2020-03-05 17:39:23') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 132ms (View: 102, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 14:39:26) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "_"=>"1583429966174", "ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>""}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m

NoMethodError (undefined method `nr_classe' for nil:NilClass):
  app/controllers/estatisticas_controller.rb:892:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:888:in `each'
  app/controllers/estatisticas_controller.rb:888:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:886:in `each'
  app/controllers/estatisticas_controller.rb:886:in `classeestatistica'

Rendered rescues/_trace (18.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 14:40:17) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 17:40:18' AND ends_at >= '2020-03-05 17:40:18') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 308ms (View: 188, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:08:58) [GET]
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:08:58' AND ends_at >= '2020-03-05 18:08:58') [0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 410ms (View: 321, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:09:09) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:09:09' AND ends_at >= '2020-03-05 18:09:09') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 66ms (View: 41, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:09:19) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.1ms)
Rendered estatisticas/_classe_fundamental (3.6ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:09:19' AND ends_at >= '2020-03-05 18:09:19') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 169ms (View: 61, DB: 5) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:09:37) [GET]
  Parameters: {"_"=>"1583431777277", "type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"", "ano_letivoF"=>""}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m

NoMethodError (undefined method `nr_classe' for nil:NilClass):
  app/controllers/estatisticas_controller.rb:892:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:888:in `each'
  app/controllers/estatisticas_controller.rb:888:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:886:in `each'
  app/controllers/estatisticas_controller.rb:886:in `classeestatistica'

Rendered rescues/_trace (24.9ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:10:17) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:10:17' AND ends_at >= '2020-03-05 18:10:17') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 325ms (View: 201, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:10:24) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (11.4ms)
Rendered estatisticas/_classe_fundamental (4.6ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:10:24' AND ends_at >= '2020-03-05 18:10:24') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 191ms (View: 70, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:10:27) [GET]
  Parameters: {"_"=>"1583431827269", "ano_letivo"=>"", "type_of"=>"3", "ano_letivoF"=>"", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m

NoMethodError (undefined method `nr_classe' for nil:NilClass):
  app/controllers/estatisticas_controller.rb:892:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:888:in `each'
  app/controllers/estatisticas_controller.rb:888:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:886:in `each'
  app/controllers/estatisticas_controller.rb:886:in `classeestatistica'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (29.9ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:11:22) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:11:22' AND ends_at >= '2020-03-05 18:11:22') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 304ms (View: 184, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:11:28) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (6.7ms)
Rendered estatisticas/_classe_fundamental (4.3ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:11:29' AND ends_at >= '2020-03-05 18:11:29') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 184ms (View: 68, DB: 5) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:11:32) [GET]
  Parameters: {"type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "_"=>"1583431891939", "ano_letivoF"=>"", "ano_letivo"=>""}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (4.0ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m

NoMethodError (undefined method `nr_classe' for nil:NilClass):
  app/controllers/estatisticas_controller.rb:892:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:888:in `each'
  app/controllers/estatisticas_controller.rb:888:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:886:in `each'
  app/controllers/estatisticas_controller.rb:886:in `classeestatistica'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /var/lib/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (29.9ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:19:10) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:19:10' AND ends_at >= '2020-03-05 18:19:10') [0m
  [4;35;1mroles_users Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 319ms (View: 195, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:19:17) [GET]
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.0ms)
Rendered estatisticas/_classe_fundamental (4.4ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:19:17' AND ends_at >= '2020-03-05 18:19:17') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 177ms (View: 65, DB: 5) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:19:20) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"", "ano_letivo"=>"", "_"=>"1583432360609", "type_of"=>"3"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:21:58) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:21:58' AND ends_at >= '2020-03-05 18:21:58') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 203ms (View: 173, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:22:03) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (6.0ms)
Rendered estatisticas/_classe_fundamental (3.1ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:22:03' AND ends_at >= '2020-03-05 18:22:03') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 165ms (View: 130, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:22:06) [GET]
  Parameters: {"type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"", "_"=>"1583432526605", "ano_letivo"=>""}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m

NoMethodError (undefined method `nr_classe' for nil:NilClass):
  app/controllers/estatisticas_controller.rb:892:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:888:in `each'
  app/controllers/estatisticas_controller.rb:888:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:886:in `each'
  app/controllers/estatisticas_controller.rb:886:in `classeestatistica'

Rendered rescues/_trace (21.4ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:24:51) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:24:51' AND ends_at >= '2020-03-05 18:24:51') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 53ms (View: 33, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:24:54) [GET]

SyntaxError (/home/desenvolvimento/sisgered/app/controllers/estatisticas_controller.rb:973: syntax error, unexpected kELSE, expecting kEND
                else if params[:type_of].to_i == 4
                    ^
/home/desenvolvimento/sisgered/app/controllers/estatisticas_controller.rb:1076: syntax error, unexpected $end, expecting kEND):
  

Rendered rescues/_trace (17.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:25:46) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:25:46' AND ends_at >= '2020-03-05 18:25:46') [0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 138ms (View: 121, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:25:54) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.0ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:25:54' AND ends_at >= '2020-03-05 18:25:54') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 62ms (View: 34, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:25:57) [GET]
  Parameters: {"type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"", "_"=>"1583432757358", "ano_letivo"=>""}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (7.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m

NoMethodError (undefined method `>' for nil:NilClass):
  app/controllers/estatisticas_controller.rb:929:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:928:in `each'
  app/controllers/estatisticas_controller.rb:928:in `classeestatistica'

Rendered rescues/_trace (20.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:26:15) [GET]
  Parameters: {"type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"", "_"=>"1583432775720", "ano_letivo"=>""}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (7.1ms)
Completed in 106ms (View: 14, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583432775720]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:30:39) [GET]
  Parameters: {"type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"", "_"=>"1583433039604", "ano_letivo"=>""}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (9.3ms)
Completed in 166ms (View: 18, DB: 4) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583433039604]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:32:04) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:32:04' AND ends_at >= '2020-03-05 18:32:04') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 60ms (View: 41, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:32:07) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (2.8ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:32:07' AND ends_at >= '2020-03-05 18:32:07') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (7.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 125ms (View: 95, DB: 11) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:32:10) [GET]
  Parameters: {"type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"", "_"=>"1583433129918", "ano_letivo"=>""}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (1.2ms)
Completed in 85ms (View: 8, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583433129918]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:33:48) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:33:48' AND ends_at >= '2020-03-05 18:33:48') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 123ms (View: 107, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:33:51) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.0ms)
Rendered estatisticas/_classe_fundamental (0.7ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:33:52' AND ends_at >= '2020-03-05 18:33:52') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 129ms (View: 34, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:33:54) [GET]
  Parameters: {"type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivoF"=>"", "_"=>"1583433234802", "ano_letivo"=>""}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (1.2ms)
Completed in 150ms (View: 79, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583433234802]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:34:23) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:34:23' AND ends_at >= '2020-03-05 18:34:23') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 320ms (View: 195, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:34:31) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (8.9ms)
Rendered estatisticas/_classe_fundamental (4.4ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:34:31' AND ends_at >= '2020-03-05 18:34:31') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 191ms (View: 76, DB: 5) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:34:34) [GET]
  Parameters: {"ano_letivo"=>"", "_"=>"1583433274511", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "type_of"=>"3", "ano_letivoF"=>""}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (16.7ms)
Completed in 8247ms (View: 29, DB: 5) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583433274511]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:35:09) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:35:10' AND ends_at >= '2020-03-05 18:35:10') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 313ms (View: 195, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:35:13) [GET]
  [4;36;1mUser Columns (6.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (11.7ms)
Rendered estatisticas/_classe_fundamental (4.5ms)
Rendered estatisticas/_classe_seduc (0.9ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:35:13' AND ends_at >= '2020-03-05 18:35:13') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 193ms (View: 74, DB: 12) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:35:17) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"", "ano_letivoF"=>"", "_"=>"1583433317227", "type_of"=>"3"}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:37:09) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:37:09' AND ends_at >= '2020-03-05 18:37:09') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 197ms (View: 165, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:37:13) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (5.4ms)
Rendered estatisticas/_classe_fundamental (3.1ms)
Rendered estatisticas/_classe_seduc (0.7ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:37:13' AND ends_at >= '2020-03-05 18:37:13') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 151ms (View: 123, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:37:16) [GET]
  Parameters: {"_"=>"1583433436531", "ano_letivoF"=>"", "type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>""}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
  app/controllers/estatisticas_controller.rb:939:in `classeestatistica'
  app/controllers/estatisticas_controller.rb:928:in `each'
  app/controllers/estatisticas_controller.rb:928:in `classeestatistica'

Rendered rescues/_trace (20.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:38:27) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:38:27' AND ends_at >= '2020-03-05 18:38:27') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 47ms (View: 31, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:38:35) [GET]
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (3.5ms)
Rendered estatisticas/_classe_fundamental (0.9ms)
Rendered estatisticas/_classe_seduc (0.2ms)
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:38:35' AND ends_at >= '2020-03-05 18:38:35') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 130ms (View: 38, DB: 4) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:38:37) [GET]
  Parameters: {"_"=>"1583433517692", "ano_letivoF"=>"", "type_of"=>"3", "authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>""}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (9.5ms)
Completed in 174ms (View: 90, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583433517692]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:39:04) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:39:05' AND ends_at >= '2020-03-05 18:39:05') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 323ms (View: 198, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:39:08) [GET]
  [4;36;1mUser Columns (6.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (7.4ms)
Rendered estatisticas/_classe_fundamental (4.5ms)
Rendered estatisticas/_classe_seduc (0.8ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:39:08' AND ends_at >= '2020-03-05 18:39:08') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 176ms (View: 65, DB: 10) | 200 OK [http://localhost/classeestatistica]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:39:10) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"", "_"=>"1583433550699", "type_of"=>"3", "ano_letivoF"=>""}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (22.4ms)
Completed in 37916ms (View: 40, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583433550699]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 15:40:37) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:40:37' AND ends_at >= '2020-03-05 18:40:37') [0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 59ms (View: 39, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:40:49) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
Rendering template within layouts/application
Rendering estatisticas/classeestatistica
  [4;35;1mClasse Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
Rendered estatisticas/_classe_infantil (5.4ms)
Rendered estatisticas/_classe_fundamental (1.1ms)
Rendered estatisticas/_classe_seduc (0.3ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 18:40:49' AND ends_at >= '2020-03-05 18:40:49') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 158ms (View: 52, DB: 7) | 200 OK [http://localhost/classeestatistica]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EstatisticasController#classeestatistica (for 127.0.0.1 at 2020-03-05 15:40:52) [GET]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w=", "ano_letivo"=>"", "_"=>"1583433652593", "type_of"=>"3", "ano_letivoF"=>""}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT classes.id, CONCAT(classes.classe_classe, ' - ',unidades.nome) AS classe_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo = 2020 ) ORDER BY classes.classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) ) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7)) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2018 AND (unidades.tipo_id =12 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT COUNT(*) as qt_mat, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id INNER JOIN matriculas ON matriculas.classe_id = classes.id WHERE (unidades.desativada=0 AND classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 1 OR unidades.tipo_id = 4 OR unidades.tipo_id = 7) AND (matriculas.status ="MATRICULADO" OR matriculas.status ="TRANSFERENCIA" OR matriculas.status ="*REMANEJADO")) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2016 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8) ) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2017 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2018 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2019 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT COUNT(*) as quant, left( classes.classe_classe, locate( ' ', classes.classe_classe ) -1 ) AS nr_classe, classes.* FROM `classes` INNER JOIN unidades ON unidades.id = classes.unidade_id WHERE (classes.classe_ano_letivo =2020 AND (unidades.tipo_id = 2 OR unidades.tipo_id = 5 OR unidades.tipo_id = 8)) GROUP BY nr_classe[0m
Rendered estatisticas/_estatisticaclasse_seduc (11.6ms)
Completed in 6636ms (View: 111, DB: 3) | 200 OK [http://localhost/classeestatistica?authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&type_of=3&ano_letivo=&ano_letivoF=&authenticity_token=Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw%2Buui9UNz7w%3D&_=1583433652593]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 17:26:08) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:26:08' AND ends_at >= '2020-03-05 20:26:08') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 245ms (View: 211, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#aviso (for 127.0.0.1 at 2020-03-05 17:26:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (2.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 52 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (2.3ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (72.0ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=52 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (5.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
Rendering template within layouts/application
Rendering matriculas/aviso
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:26:15' AND ends_at >= '2020-03-05 20:26:15') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 267ms (View: 120, DB: 86) | 200 OK [http://localhost/matriculas/aviso]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular (for 127.0.0.1 at 2020-03-05 17:26:21) [POST]
  Parameters: {"authenticity_token"=>"Sdpa1rbJ6uoHPvFrtLalnTOumXfycuuMw+uui9UNz7w="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 52 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=52 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mAluno Load (27727.6ms)[0m   [0;1mSELECT a.id, CONCAT(a.aluno_nome, ' | ',date_format(a.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM alunos a WHERE ( aluno_status != 'EGRESSO' or aluno_status is null OR aluno_status = 'ABANDONO') AND a.unidade_id = 52 AND ( id NOT IN (SELECT m.aluno_id FROM matriculas m WHERE m.ano_letivo = 2020 AND m.status != 'ABANDONO')) ORDER BY a.aluno_nome[0m
  [4;35;1mClasse Load (2.5ms)[0m   [0mSELECT id, classe_classe FROM `classes` WHERE (unidade_id =52 and classe_ano_letivo=2020) ORDER BY classe_classe[0m
Rendering template within layouts/application
Rendering matriculas/matricular
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:26:48' AND ends_at >= '2020-03-05 20:26:48') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 27926ms (View: 123, DB: 27734) | 200 OK [http://localhost/matriculas/matricular]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 17:26:55) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:26:55' AND ends_at >= '2020-03-05 20:26:55') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 148ms (View: 42, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#edit (for 127.0.0.1 at 2020-03-05 17:26:57) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUnidade Load (0.6ms)[0m   [0;1mSELECT * FROM `unidades` [0m
  [4;35;1mUser Load (9.3ms)[0m   [0mSELECT * FROM `users` ORDER BY login ASC[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:26:58' AND ends_at >= '2020-03-05 20:26:58') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=52) [0m
Completed in 194ms (View: 124, DB: 14) | 200 OK [http://localhost/users/2/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2020-03-05 17:27:16) [GET]
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/
Completed in 25ms (DB: 1) | 302 Found [http://localhost/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 17:27:16) [GET]
Redirected to http://localhost:3001/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 10ms (DB: 0) | 302 Found [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2020-03-05 17:27:16) [GET]
Rendering template within layouts/login
Rendering sessions/new
Completed in 117ms (View: 17, DB: 0) | 200 OK [http://localhost/session/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2020-03-05 17:27:27) [POST]
  Parameters: {"login"=>"seduc.alex", "commit"=>"Entrar", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA=", "password"=>"159723"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (login = 'seduc.alex' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Redirected to http://localhost:3001/
Completed in 96ms (DB: 1) | 302 Found [http://localhost/session]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2020-03-05 17:27:27) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:27:27' AND ends_at >= '2020-03-05 20:27:27') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 136ms (View: 38, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#aviso (for 127.0.0.1 at 2020-03-05 17:27:37) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (1.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (42.7ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (1.6ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
Rendering template within layouts/application
Rendering matriculas/aviso
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:27:37' AND ends_at >= '2020-03-05 20:27:37') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 194ms (View: 104, DB: 49) | 200 OK [http://localhost/matriculas/aviso]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular (for 127.0.0.1 at 2020-03-05 17:27:39) [POST]
  Parameters: {"authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Load (1816.5ms)[0m   [0mSELECT a.id, CONCAT(a.aluno_nome, ' | ',date_format(a.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM alunos a WHERE ( aluno_status != 'EGRESSO' or aluno_status is null OR aluno_status = 'ABANDONO') AND a.unidade_id = 16 AND ( id NOT IN (SELECT m.aluno_id FROM matriculas m WHERE m.ano_letivo = 2020 AND m.status != 'ABANDONO')) ORDER BY a.aluno_nome[0m
  [4;36;1mClasse Load (1.1ms)[0m   [0;1mSELECT id, classe_classe FROM `classes` WHERE (unidade_id =16 and classe_ano_letivo=2020) ORDER BY classe_classe[0m
Rendering template within layouts/application
Rendering matriculas/matricular
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:27:41' AND ends_at >= '2020-03-05 20:27:41') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;35;1mUnidade Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 1976ms (View: 32, DB: 1822) | 200 OK [http://localhost/matriculas/matricular]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#edit (for 127.0.0.1 at 2020-03-05 17:27:51) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` [0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` ORDER BY login ASC[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:27:51' AND ends_at >= '2020-03-05 20:27:51') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
Completed in 156ms (View: 33, DB: 4) | 200 OK [http://localhost/users/3/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#aviso (for 127.0.0.1 at 2020-03-05 17:27:56) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
Rendering template within layouts/application
Rendering matriculas/aviso
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:27:56' AND ends_at >= '2020-03-05 20:27:56') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;35;1mUnidade Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 73ms (View: 28, DB: 3) | 200 OK [http://localhost/matriculas/aviso]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular (for 127.0.0.1 at 2020-03-05 17:27:58) [POST]
  Parameters: {"authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT a.id, CONCAT(a.aluno_nome, ' | ',date_format(a.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM alunos a WHERE ( aluno_status != 'EGRESSO' or aluno_status is null OR aluno_status = 'ABANDONO') AND a.unidade_id = 16 AND ( id NOT IN (SELECT m.aluno_id FROM matriculas m WHERE m.ano_letivo = 2020 AND m.status != 'ABANDONO')) ORDER BY a.aluno_nome[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT id, classe_classe FROM `classes` WHERE (unidade_id =16 and classe_ano_letivo=2020) ORDER BY classe_classe[0m
Rendering template within layouts/application
Rendering matriculas/matricular
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:27:58' AND ends_at >= '2020-03-05 20:27:58') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;35;1mUnidade Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 149ms (View: 30, DB: 4) | 200 OK [http://localhost/matriculas/matricular]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#classe_id (for 127.0.0.1 at 2020-03-05 17:28:02) [POST]
  Parameters: {"matricula_classe_id"=>"2876", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT a.id, CONCAT(a.aluno_nome, ' | ',date_format(a.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM alunos a WHERE ( aluno_status != 'EGRESSO' or aluno_status is null OR aluno_status = 'ABANDONO') AND a.unidade_id = 16 AND ( id NOT IN (SELECT m.aluno_id FROM matriculas m WHERE m.ano_letivo = 2020 AND m.status != 'ABANDONO')) ORDER BY a.aluno_nome[0m
  [4;36;1mAluno Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Rendered matriculas/_alunos (28.3ms)
Completed in 140ms (View: 96, DB: 5) | 200 OK [http://localhost/matriculas/classe_id]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#consulta_cadastro (for 127.0.0.1 at 2020-03-05 17:28:15) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering alunos/consulta_cadastro
  [4;35;1mAluno Load (264.2ms)[0m   [0mSELECT id, CONCAT(aluno_nome, ' | ',date_format(aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` WHERE (aluno_status != 'EGRESSO' or aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (1.2ms)[0m   [0;1mSELECT * FROM `disciplinas` [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:28:16' AND ends_at >= '2020-03-05 20:28:16') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 950ms (View: 567, DB: 271) | 200 OK [http://localhost/alunos/consulta_cadastro]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#consulta_cadastro_aluno (for 127.0.0.1 at 2020-03-05 17:28:28) [GET]
  Parameters: {"search_prof"=>"enzo", "_"=>"1583440108046", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mAluno Load (23.3ms)[0m   [0mSELECT id, aluno_nome, aluno_nascimento, CONCAT(aluno_nome, ' | ',date_format(aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` WHERE (aluno_nome like 'enzo%' ) ORDER BY aluno_nome[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Rendered alunos/_exibe_alunos (999.4ms)
Completed in 1204ms (View: 1147, DB: 29) | 200 OK [http://localhost/consulta_cadastro_aluno?authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&search_prof=enzo&authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&_=1583440108046]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#consulta_cadastro_aluno (for 127.0.0.1 at 2020-03-05 17:28:34) [GET]
  Parameters: {"id"=>"7450", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT aluno_nome, aluno_nascimento, aluno_RG, aluno_mae, id FROM `alunos` WHERE (id ='7450' ) [0m
  [4;35;1mMatricula Load (43.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id ='7450') [0m
  [4;36;1mMatricula Load (15.6ms)[0m   [0;1mSELECT unidade_id, classe_id, ano_letivo FROM `matriculas` WHERE (aluno_id ='7450' and ano_letivo=2020) [0m
Rendering template within layouts/application
  [4;35;1mAluno Load (254.1ms)[0m   [0mSELECT id, CONCAT(aluno_nome, ' | ',date_format(aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` WHERE (aluno_status != 'EGRESSO' or aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered alunos/_exibe_cadastro (725.7ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:28:35' AND ends_at >= '2020-03-05 20:28:35') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 848ms (View: 501, DB: 318) | 200 OK [http://localhost/alunos/consulta_cadastro_aluno/7450]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#consulta_cadastro_aluno (for 127.0.0.1 at 2020-03-05 17:28:44) [GET]
  Parameters: {"search_prof"=>"enzo", "_"=>"1583440124785", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, aluno_nascimento, CONCAT(aluno_nome, ' | ',date_format(aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` WHERE (aluno_nome like 'enzo%' ) ORDER BY aluno_nome[0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mAluno Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Rendered alunos/_exibe_alunos (953.3ms)
Completed in 1122ms (View: 1089, DB: 6) | 200 OK [http://localhost/consulta_cadastro_aluno?authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&search_prof=enzo&authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&_=1583440124785]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#consulta_cadastro_aluno (for 127.0.0.1 at 2020-03-05 17:28:48) [GET]
  Parameters: {"id"=>"21785", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT aluno_nome, aluno_nascimento, aluno_RG, aluno_mae, id FROM `alunos` WHERE (id ='21785' ) [0m
  [4;36;1mMatricula Load (53.4ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id ='21785') [0m
  [4;35;1mMatricula Load (16.1ms)[0m   [0mSELECT unidade_id, classe_id, ano_letivo FROM `matriculas` WHERE (aluno_id ='21785' and ano_letivo=2020) [0m
Rendering template within layouts/application
  [4;36;1mAluno Load (265.7ms)[0m   [0;1mSELECT id, CONCAT(aluno_nome, ' | ',date_format(aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` WHERE (aluno_status != 'EGRESSO' or aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` [0m
  [4;36;1mAluno Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 11) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 2255) [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered alunos/_exibe_cadastro (774.0ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:28:49' AND ends_at >= '2020-03-05 20:28:49') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
Completed in 892ms (View: 520, DB: 343) | 200 OK [http://localhost/alunos/consulta_cadastro_aluno/21785]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#alunos_matricula (for 127.0.0.1 at 2020-03-05 17:29:09) [GET]
  Parameters: {"aluno_ids"=>["8358", "21790", "13376", "19494", "19486"], "commit"=>"Confirmar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` IN (8358,21790,13376,19494,19486)) ORDER BY aluno_nome ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id FROM `alunos` WHERE (`alunos`.`id` IN (8358,21790,13376,19494,19486)) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (id ='2876') [0m
  [4;36;1mAtribuicao Load (4.2ms)[0m   [0;1mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = '2876' AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
Rendering template within layouts/application
Rendering matriculas/alunos_matricula
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 794) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 30) [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 1004) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 30) [0m
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:29:09' AND ends_at >= '2020-03-05 20:29:09') [0m
  [4;35;1mUnidade Load (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=16) [0m
Completed in 234ms (View: 67, DB: 14) | 200 OK [http://localhost/matriculas/alunos_matricula?aluno_ids%5B%5D=8358&aluno_ids%5B%5D=21790&aluno_ids%5B%5D=13376&aluno_ids%5B%5D=19494&aluno_ids%5B%5D=19486&commit=Confirmar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe (for 127.0.0.1 at 2020-03-05 17:29:21) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mClasse Load (2.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (1.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
Rendering template within layouts/application
Rendering classes/consulta_classe
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:29:22' AND ends_at >= '2020-03-05 20:29:22') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 167ms (View: 51, DB: 8) | 200 OK [http://localhost/consulta_classe]
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe_aluno (for 127.0.0.1 at 2020-03-05 17:29:25) [GET]
  Parameters: {"classe"=>{"id"=>"2876"}, "_"=>"1583440165823", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id = '2876') [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = '2876' AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mMatricula Load (15.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = '2876') ORDER BY classe_num ASC[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mAtribuicao Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 794) [0m
  [4;35;1mDisciplina Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 30) [0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 1004) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 30) [0m
  [4;35;1mMatricula Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23738) [0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 24256) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25280) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25335) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25339) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25347) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25351) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25354) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25361) [0m
Rendered classes/_alunos_classe (63.8ms)
Completed in 208ms (View: 63, DB: 24) | 200 OK [http://localhost/consulta_classe_aluno?authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&classe%5Bid%5D=2876&authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&_=1583440165823]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#aviso (for 127.0.0.1 at 2020-03-05 17:29:45) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
Rendering template within layouts/application
Rendering matriculas/aviso
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:29:45' AND ends_at >= '2020-03-05 20:29:45') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 146ms (View: 25, DB: 3) | 200 OK [http://localhost/matriculas/aviso]
  [4;35;1mAluno Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular (for 127.0.0.1 at 2020-03-05 17:29:46) [POST]
  Parameters: {"authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT a.id, CONCAT(a.aluno_nome, ' | ',date_format(a.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM alunos a WHERE ( aluno_status != 'EGRESSO' or aluno_status is null OR aluno_status = 'ABANDONO') AND a.unidade_id = 16 AND ( id NOT IN (SELECT m.aluno_id FROM matriculas m WHERE m.ano_letivo = 2020 AND m.status != 'ABANDONO')) ORDER BY a.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT id, classe_classe FROM `classes` WHERE (unidade_id =16 and classe_ano_letivo=2020) ORDER BY classe_classe[0m
Rendering template within layouts/application
Rendering matriculas/matricular
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:29:47' AND ends_at >= '2020-03-05 20:29:47') [0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 160ms (View: 34, DB: 7) | 200 OK [http://localhost/matriculas/matricular]
  [4;36;1mAluno Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#classe_id (for 127.0.0.1 at 2020-03-05 17:29:49) [POST]
  Parameters: {"matricula_classe_id"=>"2876", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT a.id, CONCAT(a.aluno_nome, ' | ',date_format(a.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM alunos a WHERE ( aluno_status != 'EGRESSO' or aluno_status is null OR aluno_status = 'ABANDONO') AND a.unidade_id = 16 AND ( id NOT IN (SELECT m.aluno_id FROM matriculas m WHERE m.ano_letivo = 2020 AND m.status != 'ABANDONO')) ORDER BY a.aluno_nome[0m
  [4;35;1mAluno Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Rendered matriculas/_alunos (22.7ms)
Completed in 68ms (View: 22, DB: 5) | 200 OK [http://localhost/matriculas/classe_id]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#consulta_cadastro_aluno (for 127.0.0.1 at 2020-03-05 17:30:07) [GET]
  Parameters: {"search_prof"=>"enzo", "_"=>"1583440207453", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, aluno_nascimento, CONCAT(aluno_nome, ' | ',date_format(aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` WHERE (aluno_nome like 'enzo%' ) ORDER BY aluno_nome[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Rendered alunos/_exibe_alunos (802.5ms)
Completed in 1087ms (View: 990, DB: 3) | 200 OK [http://localhost/consulta_cadastro_aluno?authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&search_prof=enzo&authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&_=1583440207453]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#consulta_cadastro_aluno (for 127.0.0.1 at 2020-03-05 17:30:12) [GET]
  Parameters: {"id"=>"21785", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT aluno_nome, aluno_nascimento, aluno_RG, aluno_mae, id FROM `alunos` WHERE (id ='21785' ) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id ='21785') [0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT unidade_id, classe_id, ano_letivo FROM `matriculas` WHERE (aluno_id ='21785' and ano_letivo=2020) [0m
Rendering template within layouts/application
  [4;36;1mAluno Load (255.8ms)[0m   [0;1mSELECT id, CONCAT(aluno_nome, ' | ',date_format(aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` WHERE (aluno_status != 'EGRESSO' or aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 11) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 2255) [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendered alunos/_exibe_cadastro (740.8ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:30:12' AND ends_at >= '2020-03-05 20:30:12') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
Completed in 869ms (View: 499, DB: 262) | 200 OK [http://localhost/alunos/consulta_cadastro_aluno/21785]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#alunos_matricula (for 127.0.0.1 at 2020-03-05 17:30:34) [GET]
  Parameters: {"aluno_ids"=>["8358", "21790", "13376", "19494", "19486"], "commit"=>"Confirmar"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` IN (8358,21790,13376,19494,19486)) ORDER BY aluno_nome ASC[0m
  [4;36;1mAluno Load (0.0ms)[0m   [0;1mSELECT id FROM `alunos` WHERE (`alunos`.`id` IN (8358,21790,13376,19494,19486)) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (id ='2876') [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = '2876' AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
Rendering template within layouts/application
Rendering matriculas/alunos_matricula
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mProfessor Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 794) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 30) [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 1004) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 30) [0m
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:30:34' AND ends_at >= '2020-03-05 20:30:34') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=16) [0m
Completed in 212ms (View: 143, DB: 8) | 200 OK [http://localhost/matriculas/alunos_matricula?aluno_ids%5B%5D=8358&aluno_ids%5B%5D=21790&aluno_ids%5B%5D=13376&aluno_ids%5B%5D=19494&aluno_ids%5B%5D=19486&commit=Confirmar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular_alunos (for 127.0.0.1 at 2020-03-05 17:30:48) [POST]
  Parameters: {"authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mMatricula Load (50.8ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2876 AND ano_letivo=2020 AND aluno_id=8358 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (3.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=8358) [0m
  [4;36;1mMatricula Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (44.8ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id =2876 AND ano_letivo=2020 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMatricula Create (0.5ms)[0m   [0mINSERT INTO `matriculas` (`aluno_id`, `reprovado`, `rem_classe_id`, `data_transferencia`, `updated_at`, `ano_letivo`, `procedencia`, `created_at`, `status`, `classe_id`, `classe_num`, `unidade_id`, `transf_unidade_id`, `para`) VALUES(8358, '0', NULL, NULL, '2020-03-05 20:30:49', 2020, NULL, '2020-03-05 20:30:49', 'MATRICULADO', 2876, 10, 16, NULL, NULL)[0m
  [4;36;1mSQL (49.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAtribuicao Load (9.8ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id =2876 AND ano_letivo=2020) [0m
  [4;36;1mAtribuicao Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mFalta Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `faltas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Create (0.2ms)[0m   [0mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 8358, NULL, '2020-03-05 20:30:49', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:30:49', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (47.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mFalta Load (0.3ms)[0m   [0mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Update (0.3ms)[0m   [0mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:30:58', `classe_id` = 2876, `aulas2` = 0, `professor_id` = 794, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64423 WHERE `id` = 12297[0m
  [4;36;1mSQL (57.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Create (0.4ms)[0m   [0;1mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 8358, NULL, '2020-03-05 20:30:58', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:30:58', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (37.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mFalta Load (0.3ms)[0m   [0;1mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Update (0.3ms)[0m   [0;1mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:30:58', `classe_id` = 2876, `aulas2` = 0, `professor_id` = 1004, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64423 WHERE `id` = 12298[0m
  [4;35;1mSQL (43.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8358) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMatricula Load (52.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id =2876 AND ano_letivo=2020 AND aluno_id=21790 AND status != "ABANDONO") [0m
  [4;36;1mAluno Load (0.8ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id=21790) [0m
  [4;35;1mMatricula Load (44.9ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id =2876 AND ano_letivo=2020 ) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMatricula Create (0.4ms)[0m   [0mINSERT INTO `matriculas` (`aluno_id`, `reprovado`, `rem_classe_id`, `data_transferencia`, `updated_at`, `ano_letivo`, `procedencia`, `created_at`, `status`, `classe_id`, `classe_num`, `unidade_id`, `transf_unidade_id`, `para`) VALUES(21790, '0', NULL, NULL, '2020-03-05 20:30:59', 2020, NULL, '2020-03-05 20:30:59', 'MATRICULADO', 2876, 11, 16, NULL, NULL)[0m
  [4;36;1mSQL (75.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id =2876 AND ano_letivo=2020) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Create (0.4ms)[0m   [0mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 21790, NULL, '2020-03-05 20:30:59', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:30:59', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (84.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mFalta Load (0.4ms)[0m   [0mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Update (0.4ms)[0m   [0;1mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:30:59', `classe_id` = 2876, `aulas2` = 0, `professor_id` = 794, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64424 WHERE `id` = 12299[0m
  [4;35;1mSQL (64.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Create (0.3ms)[0m   [0mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 21790, NULL, '2020-03-05 20:30:59', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:30:59', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (53.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mFalta Load (0.5ms)[0m   [0mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Update (0.3ms)[0m   [0mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:30:59', `classe_id` = 2876, `aulas2` = 0, `professor_id` = 1004, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64424 WHERE `id` = 12300[0m
  [4;36;1mSQL (43.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAluno Load (0.8ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21790) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mMatricula Load (49.4ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2876 AND ano_letivo=2020 AND aluno_id=13376 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=13376) [0m
  [4;36;1mMatricula Load (43.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2876 AND ano_letivo=2020 ) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mMatricula Create (0.3ms)[0m   [0;1mINSERT INTO `matriculas` (`aluno_id`, `reprovado`, `rem_classe_id`, `data_transferencia`, `updated_at`, `ano_letivo`, `procedencia`, `created_at`, `status`, `classe_id`, `classe_num`, `unidade_id`, `transf_unidade_id`, `para`) VALUES(13376, '0', NULL, NULL, '2020-03-05 20:30:59', 2020, NULL, '2020-03-05 20:30:59', 'MATRICULADO', 2876, 12, 16, NULL, NULL)[0m
  [4;35;1mSQL (39.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id =2876 AND ano_letivo=2020) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Create (0.4ms)[0m   [0;1mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 13376, NULL, '2020-03-05 20:30:59', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:30:59', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (41.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mFalta Load (0.5ms)[0m   [0;1mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Update (0.5ms)[0m   [0mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:30:59', `classe_id` = 2876, `aulas2` = 0, `professor_id` = 794, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64425 WHERE `id` = 12301[0m
  [4;36;1mSQL (41.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Create (0.5ms)[0m   [0;1mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 13376, NULL, '2020-03-05 20:30:59', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:30:59', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (43.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mFalta Load (0.6ms)[0m   [0;1mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Update (0.6ms)[0m   [0;1mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:30:59', `classe_id` = 2876, `aulas2` = 0, `professor_id` = 1004, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64425 WHERE `id` = 12302[0m
  [4;35;1mSQL (43.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mAluno Load (0.9ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13376) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMatricula Load (46.9ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id =2876 AND ano_letivo=2020 AND aluno_id=19494 AND status != "ABANDONO") [0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id=19494) [0m
  [4;35;1mMatricula Load (39.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id =2876 AND ano_letivo=2020 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMatricula Create (0.2ms)[0m   [0mINSERT INTO `matriculas` (`aluno_id`, `reprovado`, `rem_classe_id`, `data_transferencia`, `updated_at`, `ano_letivo`, `procedencia`, `created_at`, `status`, `classe_id`, `classe_num`, `unidade_id`, `transf_unidade_id`, `para`) VALUES(19494, '0', NULL, NULL, '2020-03-05 20:30:59', 2020, NULL, '2020-03-05 20:30:59', 'MATRICULADO', 2876, 13, 16, NULL, NULL)[0m
  [4;36;1mSQL (40.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id =2876 AND ano_letivo=2020) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Create (0.4ms)[0m   [0mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 19494, NULL, '2020-03-05 20:30:59', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:30:59', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (43.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mFalta Load (0.4ms)[0m   [0mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Update (0.5ms)[0m   [0;1mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:30:59', `classe_id` = 2876, `aulas2` = 0, `professor_id` = 794, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64426 WHERE `id` = 12303[0m
  [4;35;1mSQL (36.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Create (0.3ms)[0m   [0mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 19494, NULL, '2020-03-05 20:30:59', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:30:59', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (44.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mFalta Load (0.4ms)[0m   [0mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Update (0.2ms)[0m   [0mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:31:00', `classe_id` = 2876, `aulas2` = 0, `professor_id` = 1004, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64426 WHERE `id` = 12304[0m
  [4;36;1mSQL (44.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAluno Load (0.7ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19494) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mMatricula Load (51.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2876 AND ano_letivo=2020 AND aluno_id=19486 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=19486) [0m
  [4;36;1mMatricula Load (48.9ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2876 AND ano_letivo=2020 ) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMatricula Create (0.3ms)[0m   [0;1mINSERT INTO `matriculas` (`aluno_id`, `reprovado`, `rem_classe_id`, `data_transferencia`, `updated_at`, `ano_letivo`, `procedencia`, `created_at`, `status`, `classe_id`, `classe_num`, `unidade_id`, `transf_unidade_id`, `para`) VALUES(19486, '0', NULL, NULL, '2020-03-05 20:31:00', 2020, NULL, '2020-03-05 20:31:00', 'MATRICULADO', 2876, 14, 16, NULL, NULL)[0m
  [4;35;1mSQL (43.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id =2876 AND ano_letivo=2020) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Create (0.3ms)[0m   [0;1mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 19486, NULL, '2020-03-05 20:31:00', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:31:00', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (43.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mFalta Load (0.4ms)[0m   [0;1mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Update (0.3ms)[0m   [0mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:31:00', `classe_id` = 2876, `aulas2` = 0, `professor_id` = 794, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64427 WHERE `id` = 12305[0m
  [4;36;1mSQL (42.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Create (0.2ms)[0m   [0;1mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 19486, NULL, '2020-03-05 20:31:00', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:31:00', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (39.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mFalta Load (0.3ms)[0m   [0;1mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Update (0.2ms)[0m   [0;1mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:31:00', `classe_id` = 2876, `aulas2` = 0, `professor_id` = 1004, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64427 WHERE `id` = 12306[0m
  [4;35;1mSQL (38.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mAluno Load (0.8ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19486) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMatricula Load (21.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id = 2876) ORDER BY classe_num ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id =2876) [0m
  [4;35;1mAtribuicao Load (5.8ms)[0m   [0mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = 2876 AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
Rendering template within layouts/application
Rendering matriculas/matricular_alunos
  [4;36;1mClasse Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mProfessor Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 794) [0m
  [4;36;1mDisciplina Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 30) [0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 1004) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 30) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23738) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 24256) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25280) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25335) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25339) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25347) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25351) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25354) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25361) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8358) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21790) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13376) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19494) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19486) [0m
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:31:00' AND ends_at >= '2020-03-05 20:31:00') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
Completed in 11798ms (View: 61, DB: 1734) | 200 OK [http://localhost/matriculas/matricular_alunos]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe_anteriores (for 127.0.0.1 at 2020-03-05 17:31:25) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
Rendering template within layouts/application
Rendering classes/consulta_classe_anteriores
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:31:26' AND ends_at >= '2020-03-05 20:31:26') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 159ms (View: 123, DB: 4) | 200 OK [http://localhost/consulta_classe_anteriores]
  [4;35;1mAluno Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe_anteriores (for 127.0.0.1 at 2020-03-05 17:31:31) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
Rendering template within layouts/application
Rendering classes/consulta_classe_anteriores
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:31:31' AND ends_at >= '2020-03-05 20:31:31') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 144ms (View: 112, DB: 4) | 200 OK [http://localhost/consulta_classe_anteriores]
  [4;36;1mAluno Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe (for 127.0.0.1 at 2020-03-05 17:31:34) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
Rendering template within layouts/application
Rendering classes/consulta_classe
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:31:34' AND ends_at >= '2020-03-05 20:31:34') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 82ms (View: 47, DB: 6) | 200 OK [http://localhost/consulta_classe]
  [4;35;1mAluno Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe_aluno (for 127.0.0.1 at 2020-03-05 17:31:39) [GET]
  Parameters: {"classe"=>{"id"=>"2876"}, "_"=>"1583440299692", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (id = '2876') [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = '2876' AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mMatricula Load (20.8ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id = '2876') ORDER BY classe_num ASC[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;35;1mAtribuicao Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 794) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 30) [0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 1004) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 30) [0m
  [4;36;1mMatricula Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 23738) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 24256) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25280) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25335) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25339) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25347) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25351) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25354) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25361) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8358) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21790) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13376) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19494) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 19486) [0m
Rendered classes/_alunos_classe (141.5ms)
Completed in 297ms (View: 138, DB: 29) | 200 OK [http://localhost/consulta_classe_aluno?authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&classe%5Bid%5D=2876&authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&_=1583440299692]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe_aluno (for 127.0.0.1 at 2020-03-05 17:32:06) [GET]
  Parameters: {"classe"=>{"id"=>"2877"}, "_"=>"1583440326126", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (id = '2877') [0m
  [4;36;1mAtribuicao Load (10.3ms)[0m   [0;1mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = '2877' AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mMatricula Load (23.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id = '2877') ORDER BY classe_num ASC[0m
  [4;36;1mClasse Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mProfessor Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 302) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 31) [0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 1005) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 31) [0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25377) [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25405) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21586) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25406) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21594) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21578) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25387) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21588) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25393) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21587) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25400) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21582) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25607) [0m
Rendered classes/_alunos_classe (138.8ms)
Completed in 307ms (View: 133, DB: 47) | 200 OK [http://localhost/consulta_classe_aluno?authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&classe%5Bid%5D=2877&authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&_=1583440326126]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe_aluno (for 127.0.0.1 at 2020-03-05 17:32:11) [GET]
  Parameters: {"classe"=>{"id"=>"2877"}, "_"=>"1583440331116", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id = '2877') [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = '2877' AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = '2877') ORDER BY classe_num ASC[0m
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mAtribuicao Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mProfessor Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 302) [0m
  [4;35;1mDisciplina Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 31) [0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 1005) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 31) [0m
  [4;35;1mMatricula Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mAluno Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25377) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25405) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21586) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25406) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21594) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21578) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25387) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21588) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25393) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21587) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25400) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21582) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25607) [0m
Rendered classes/_alunos_classe (138.7ms)
Completed in 192ms (View: 130, DB: 13) | 200 OK [http://localhost/consulta_classe_aluno?authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&classe%5Bid%5D=2877&authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&_=1583440331116]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#aviso (for 127.0.0.1 at 2020-03-05 17:32:30) [GET]
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (42.0ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
Rendering template within layouts/application
Rendering matriculas/aviso
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:32:30' AND ends_at >= '2020-03-05 20:32:30') [0m
  [4;36;1mroles_users Columns (5.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 193ms (View: 95, DB: 52) | 200 OK [http://localhost/matriculas/aviso]
  [4;35;1mAluno Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular (for 127.0.0.1 at 2020-03-05 17:32:34) [POST]
  Parameters: {"authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Load (1767.8ms)[0m   [0mSELECT a.id, CONCAT(a.aluno_nome, ' | ',date_format(a.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM alunos a WHERE ( aluno_status != 'EGRESSO' or aluno_status is null OR aluno_status = 'ABANDONO') AND a.unidade_id = 16 AND ( id NOT IN (SELECT m.aluno_id FROM matriculas m WHERE m.ano_letivo = 2020 AND m.status != 'ABANDONO')) ORDER BY a.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT id, classe_classe FROM `classes` WHERE (unidade_id =16 and classe_ano_letivo=2020) ORDER BY classe_classe[0m
Rendering template within layouts/application
Rendering matriculas/matricular
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:32:36' AND ends_at >= '2020-03-05 20:32:36') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;35;1mUnidade Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 1933ms (View: 33, DB: 1772) | 200 OK [http://localhost/matriculas/matricular]
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#classe_id (for 127.0.0.1 at 2020-03-05 17:32:39) [POST]
  Parameters: {"matricula_classe_id"=>"2877", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT a.id, CONCAT(a.aluno_nome, ' | ',date_format(a.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM alunos a WHERE ( aluno_status != 'EGRESSO' or aluno_status is null OR aluno_status = 'ABANDONO') AND a.unidade_id = 16 AND ( id NOT IN (SELECT m.aluno_id FROM matriculas m WHERE m.ano_letivo = 2020 AND m.status != 'ABANDONO')) ORDER BY a.aluno_nome[0m
  [4;35;1mAluno Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Rendered matriculas/_alunos (24.2ms)
Completed in 139ms (View: 23, DB: 5) | 200 OK [http://localhost/matriculas/classe_id]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#consulta_cadastro (for 127.0.0.1 at 2020-03-05 17:32:55) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering alunos/consulta_cadastro
  [4;36;1mAluno Load (278.7ms)[0m   [0;1mSELECT id, CONCAT(aluno_nome, ' | ',date_format(aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` WHERE (aluno_status != 'EGRESSO' or aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:32:56' AND ends_at >= '2020-03-05 20:32:56') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 769ms (View: 465, DB: 282) | 200 OK [http://localhost/alunos/consulta_cadastro]
  [4;36;1mAluno Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#consulta_cadastro_aluno (for 127.0.0.1 at 2020-03-05 17:33:00) [GET]
  Parameters: {"search_prof"=>"enzo", "_"=>"1583440380501", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, aluno_nascimento, CONCAT(aluno_nome, ' | ',date_format(aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` WHERE (aluno_nome like 'enzo%' ) ORDER BY aluno_nome[0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Rendered alunos/_exibe_alunos (931.6ms)
Completed in 1082ms (View: 1052, DB: 6) | 200 OK [http://localhost/consulta_cadastro_aluno?authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&search_prof=enzo&authenticity_token=YGRKsOjvgcGxdTqwFbMwQ390BStV%2Bsx%2Bcr9%2FvuyKFvA%3D&_=1583440380501]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AlunosController#consulta_cadastro_aluno (for 127.0.0.1 at 2020-03-05 17:33:07) [GET]
  Parameters: {"id"=>"17753", "authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT aluno_nome, aluno_nascimento, aluno_RG, aluno_mae, id FROM `alunos` WHERE (id ='17753' ) [0m
  [4;35;1mMatricula Load (47.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id ='17753') [0m
  [4;36;1mMatricula Load (15.8ms)[0m   [0;1mSELECT unidade_id, classe_id, ano_letivo FROM `matriculas` WHERE (aluno_id ='17753' and ano_letivo=2020) [0m
Rendering template within layouts/application
  [4;35;1mAluno Load (253.0ms)[0m   [0mSELECT id, CONCAT(aluno_nome, ' | ',date_format(aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` WHERE (aluno_status != 'EGRESSO' or aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` [0m
  [4;35;1mAluno Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 29) [0m
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 1219) [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendered alunos/_exibe_cadastro (736.7ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:33:08' AND ends_at >= '2020-03-05 20:33:08') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=16) [0m
Completed in 846ms (View: 497, DB: 323) | 200 OK [http://localhost/alunos/consulta_cadastro_aluno/17753]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#alunos_matricula (for 127.0.0.1 at 2020-03-05 17:33:13) [GET]
  Parameters: {"aluno_ids"=>["21771", "8538", "20368"], "commit"=>"Confirmar"}
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` IN (21771,8538,20368)) ORDER BY aluno_nome ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id FROM `alunos` WHERE (`alunos`.`id` IN (21771,8538,20368)) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (id ='2877') [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = '2877' AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
Rendering template within layouts/application
Rendering matriculas/alunos_matricula
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;35;1mAtribuicao Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 302) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 31) [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 1005) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 31) [0m
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:33:14' AND ends_at >= '2020-03-05 20:33:14') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
Completed in 226ms (View: 59, DB: 9) | 200 OK [http://localhost/matriculas/alunos_matricula?aluno_ids%5B%5D=21771&aluno_ids%5B%5D=8538&aluno_ids%5B%5D=20368&commit=Confirmar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular_alunos (for 127.0.0.1 at 2020-03-05 17:33:18) [POST]
  Parameters: {"authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mSituacaoAluno Load (0.1ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mSituacaoAluno Load (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mMatricula Load (42.8ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id =2877 AND ano_letivo=2020 AND aluno_id=21771 AND status != "ABANDONO") [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id=21771) [0m
  [4;35;1mMatricula Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (45.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2877 AND ano_letivo=2020 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mMatricula Create (0.2ms)[0m   [0;1mINSERT INTO `matriculas` (`aluno_id`, `reprovado`, `rem_classe_id`, `data_transferencia`, `updated_at`, `ano_letivo`, `procedencia`, `created_at`, `status`, `classe_id`, `classe_num`, `unidade_id`, `transf_unidade_id`, `para`) VALUES(21771, '0', NULL, NULL, '2020-03-05 20:33:19', 2020, NULL, '2020-03-05 20:33:19', 'MATRICULADO', 2877, 14, 16, NULL, NULL)[0m
  [4;35;1mSQL (85.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mAtribuicao Load (4.3ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id =2877 AND ano_letivo=2020) [0m
  [4;35;1mAtribuicao Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mFalta Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `faltas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Create (0.3ms)[0m   [0;1mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 21771, NULL, '2020-03-05 20:33:19', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:33:19', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (44.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mFalta Load (0.4ms)[0m   [0;1mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Update (0.5ms)[0m   [0;1mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:33:19', `classe_id` = 2877, `aulas2` = 0, `professor_id` = 302, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64428 WHERE `id` = 12307[0m
  [4;35;1mSQL (42.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Create (0.4ms)[0m   [0mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 21771, NULL, '2020-03-05 20:33:19', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:33:19', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (44.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mFalta Load (0.4ms)[0m   [0mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Update (0.4ms)[0m   [0mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:33:19', `classe_id` = 2877, `aulas2` = 0, `professor_id` = 1005, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64428 WHERE `id` = 12308[0m
  [4;36;1mSQL (42.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAluno Load (0.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21771) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mMatricula Load (45.5ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2877 AND ano_letivo=2020 AND aluno_id=8538 AND status != "ABANDONO") [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (id=8538) [0m
  [4;36;1mMatricula Load (40.7ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id =2877 AND ano_letivo=2020 ) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mMatricula Create (0.2ms)[0m   [0;1mINSERT INTO `matriculas` (`aluno_id`, `reprovado`, `rem_classe_id`, `data_transferencia`, `updated_at`, `ano_letivo`, `procedencia`, `created_at`, `status`, `classe_id`, `classe_num`, `unidade_id`, `transf_unidade_id`, `para`) VALUES(8538, '0', NULL, NULL, '2020-03-05 20:33:19', 2020, NULL, '2020-03-05 20:33:19', 'MATRICULADO', 2877, 15, 16, NULL, NULL)[0m
  [4;35;1mSQL (43.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id =2877 AND ano_letivo=2020) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Create (0.2ms)[0m   [0;1mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 8538, NULL, '2020-03-05 20:33:19', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:33:19', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (38.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mFalta Load (0.3ms)[0m   [0;1mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Update (0.3ms)[0m   [0mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:33:19', `classe_id` = 2877, `aulas2` = 0, `professor_id` = 302, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64429 WHERE `id` = 12309[0m
  [4;36;1mSQL (41.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Create (0.4ms)[0m   [0;1mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 8538, NULL, '2020-03-05 20:33:19', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:33:19', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (44.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mFalta Load (0.4ms)[0m   [0;1mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Update (0.4ms)[0m   [0;1mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:33:19', `classe_id` = 2877, `aulas2` = 0, `professor_id` = 1005, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64429 WHERE `id` = 12310[0m
  [4;35;1mSQL (42.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mAluno Load (0.6ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8538) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mMatricula Load (40.8ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id =2877 AND ano_letivo=2020 AND aluno_id=20368 AND status != "ABANDONO") [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (id=20368) [0m
  [4;35;1mMatricula Load (40.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id =2877 AND ano_letivo=2020 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMatricula Create (0.2ms)[0m   [0mINSERT INTO `matriculas` (`aluno_id`, `reprovado`, `rem_classe_id`, `data_transferencia`, `updated_at`, `ano_letivo`, `procedencia`, `created_at`, `status`, `classe_id`, `classe_num`, `unidade_id`, `transf_unidade_id`, `para`) VALUES(20368, '0', NULL, NULL, '2020-03-05 20:33:19', 2020, NULL, '2020-03-05 20:33:19', 'MATRICULADO', 2877, 16, 16, NULL, NULL)[0m
  [4;36;1mSQL (39.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id =2877 AND ano_letivo=2020) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Create (0.3ms)[0m   [0mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 20368, NULL, '2020-03-05 20:33:19', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:33:19', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (43.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mFalta Load (0.4ms)[0m   [0mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFalta Update (0.3ms)[0m   [0;1mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:33:19', `classe_id` = 2877, `aulas2` = 0, `professor_id` = 302, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64430 WHERE `id` = 12311[0m
  [4;35;1mSQL (39.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Create (0.2ms)[0m   [0mINSERT INTO `faltas` (`matricula_id`, `professor_id`, `classe`, `aluno_id`, `obs`, `updated_at`, `ano_letivo`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `created_at`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `ativo`, `classe_id`, `unidade_id`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`) VALUES(NULL, NULL, NULL, 20368, NULL, '2020-03-05 20:33:20', NULL, NULL, NULL, NULL, NULL, NULL, '2020-03-05 20:33:20', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)[0m
  [4;36;1mSQL (39.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mFalta Load (0.4ms)[0m   [0mSELECT * FROM `faltas` ORDER BY faltas.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFalta Update (0.4ms)[0m   [0mUPDATE `faltas` SET `faltas3` = 0, `aulas3` = 0, `faltas5` = 0, `faltas2` = 0, `aulas5` = 0, `updated_at` = '2020-03-05 20:33:20', `classe_id` = 2877, `aulas2` = 0, `professor_id` = 1005, `faltas4` = 0, `unidade_id` = 16, `faltas1` = 0, `aulas4` = 0, `aulas1` = 0, `ano_letivo` = 2020, `matricula_id` = 64430 WHERE `id` = 12312[0m
  [4;36;1mSQL (43.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 20368) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mMatricula Load (17.4ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (classe_id = 2877) ORDER BY classe_num ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (id =2877) [0m
  [4;36;1mAtribuicao Load (4.1ms)[0m   [0;1mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = 2877 AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
Rendering template within layouts/application
Rendering matriculas/matricular_alunos
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 16) [0m
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 1005) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 31) [0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 302) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 31) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25377) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25405) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21586) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25406) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21594) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21578) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25387) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21588) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25393) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21587) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25400) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21582) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 25607) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 21771) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 8538) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 20368) [0m
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:33:20' AND ends_at >= '2020-03-05 20:33:20') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=16) [0m
Completed in 1385ms (View: 51, DB: 979) | 200 OK [http://localhost/matriculas/matricular_alunos]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MatriculasController#matricular (for 127.0.0.1 at 2020-03-05 17:33:35) [POST]
  Parameters: {"authenticity_token"=>"YGRKsOjvgcGxdTqwFbMwQ390BStV+sx+cr9/vuyKFvA="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mSituacaoAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `situacao_alunos` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `situacao_alunos` [0m
  [4;36;1mSituacaoAluno Load (0.0ms)[0m   [0;1mSELECT * FROM `situacao_alunos` WHERE (id = 2) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (((id <= 41 OR id >51) AND id <> 62) AND id != 16 ) ORDER BY nome ASC[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` ORDER BY nome ASC[0m
  [4;35;1mAluno Load (41.3ms)[0m   [0mSELECT alunos.id, CONCAT(alunos.aluno_nome, ' | ',date_format(alunos.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM `alunos` INNER JOIN matriculas ON alunos.id = matriculas.aluno_id WHERE (alunos.unidade_id=16 AND (matriculas.status = "MATRICULADO" OR matriculas.status = "*REMANEJADO" OR matriculas.status = "TRANSFERENCIA") AND matriculas.ano_letivo =2020) ORDER BY alunos.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 16 and classe_ano_letivo = 2020 ) ORDER BY classe_classe ASC[0m
  [4;35;1mAluno Load (1784.0ms)[0m   [0mSELECT a.id, CONCAT(a.aluno_nome, ' | ',date_format(a.aluno_nascimento, '%d/%m/%Y')) AS aluno_nome_dtn FROM alunos a WHERE ( aluno_status != 'EGRESSO' or aluno_status is null OR aluno_status = 'ABANDONO') AND a.unidade_id = 16 AND ( id NOT IN (SELECT m.aluno_id FROM matriculas m WHERE m.ano_letivo = 2020 AND m.status != 'ABANDONO')) ORDER BY a.aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT id, classe_classe FROM `classes` WHERE (unidade_id =16 and classe_ano_letivo=2020) ORDER BY classe_classe[0m
Rendering template within layouts/application
Rendering matriculas/matricular
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2020-03-05 20:33:37' AND ends_at >= '2020-03-05 20:33:37') [0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 3 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=16) [0m
  [4;35;1mUnidade Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 1979ms (View: 35, DB: 1829) | 200 OK [http://localhost/matriculas/matricular]
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m

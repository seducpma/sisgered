# Logfile created on Mon Oct 09 12:47:00 -0300 2017  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 12:47:02) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:47:03' AND ends_at >= '2017-10-09 15:47:03') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.5ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 389ms (View: 230, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:47:09) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (18.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (2.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (12.6ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (1.6ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.7ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (8.4ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.7ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (24.6ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (1.0ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.8ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (7.0ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:47:09' AND ends_at >= '2017-10-09 15:47:09') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 382ms (View: 139, DB: 78) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:47:14) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"2772"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (46.4ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (42.9ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (59.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (59.8ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mNota Load (51.8ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (7.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (49.7ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (50.6ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.5ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.7ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.5ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.6ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.6ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.6ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (4.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (124.8ms)
Rendered historicos/_observacoes (1.0ms)
Rendered historicos/_form_observacao (2.9ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:47:14' AND ends_at >= '2017-10-09 15:47:14') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 864ms (View: 159, DB: 397) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 12:47:15) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 12:47:43) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (2.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:47:43' AND ends_at >= '2017-10-09 15:47:43') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 154ms (View: 37, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:47:46) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:47:46' AND ends_at >= '2017-10-09 15:47:46') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 290ms (View: 119, DB: 9) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 12:48:49) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (6.2ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:48:49' AND ends_at >= '2017-10-09 15:48:49') [0m
  [4;35;1mInformativo Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 291ms (View: 246, DB: 10) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:48:52) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (18.6ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:48:55' AND ends_at >= '2017-10-09 15:48:55') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 3005ms (View: 230, DB: 13) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:49:02) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (48.7ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (43.5ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (63.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (61.3ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mNota Load (58.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (8.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (54.0ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (51.8ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mClasse Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;36;1mDisciplina Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (177.1ms)
Rendered historicos/_observacoes (1.7ms)
Rendered historicos/_form_observacao (4.8ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:49:10' AND ends_at >= '2017-10-09 15:49:10') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 7348ms (View: 273, DB: 413) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 12:49:10) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#resultado_final (for 127.0.0.1 at 2017-10-09 12:49:17) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/resultado_final
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:49:17' AND ends_at >= '2017-10-09 15:49:17') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 393ms (View: 154, DB: 12) | 200 OK [http://localhost/resultado_final]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:49:21) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (5.4ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:49:23' AND ends_at >= '2017-10-09 15:49:23') [0m
  [4;36;1mInformativo Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 2212ms (View: 100, DB: 10) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:49:29) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (1.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.7ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;35;1mAluno Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (46.6ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;35;1mDisciplina Load (43.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;36;1mNota Load (58.9ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (61.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=16726 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mNota Load (58.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (2.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (51.8ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (54.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 12:53:06) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.8ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:53:06' AND ends_at >= '2017-10-09 15:53:06') [0m
  [4;35;1mInformativo Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 316ms (View: 271, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:53:09) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (22.5ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 15:53:12' AND ends_at >= '2017-10-09 15:53:12') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 2548ms (View: 257, DB: 14) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 12:53:19) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:15:36) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (6.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:15:36' AND ends_at >= '2017-10-09 17:15:36') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.5ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 438ms (View: 320, DB: 14) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing JavascriptsController#hide_announcement (for 127.0.0.1 at 2017-10-09 14:15:39) [POST]
  Parameters: {"authenticity_token"=>"+yHXr+hQNYwQtnXWfkgdBeih/q/j4m4ZfLAswNzJm84="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering javascripts/hide_announcement
Completed in 56ms (View: 31, DB: 2) | 200 OK [http://localhost/javascripts/hide_announcement]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:15:43) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (101.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (2.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (412.9ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (11.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.6ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.6ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (129.6ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (1.5ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (196.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.9ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.8ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (48.6ms)
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:15:47' AND ends_at >= '2017-10-09 17:15:47') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:15:47' AND ends_at >= '2017-10-09 17:15:47') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 3993ms (View: 324, DB: 866) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:18:54) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"2855"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2855') [0m
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.6ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2855) [0m
  [4;36;1mUnidade Load (0.5ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (412.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2855 )[0m
  [4;36;1mDisciplina Load (50.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2855 )[0m
  [4;35;1mNota Load (59.8ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2855 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (62.7ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2855 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (56.4ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2855 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (9.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2855 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (53.0ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2855 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (55.0ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2855) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mDisciplina Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:19:43) [GET]
  Parameters: {"aluno_id"=>"2855", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (5.9ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.6ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2855') [0m
  [4;35;1mAluno Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2855) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2855 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2855 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2855 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2855 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2855 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2855 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2855 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2855) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4834) [0m
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4834) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4834) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4834) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (70.8ms)
Rendered historicos/_observacoes (22.5ms)
Rendered historicos/_form_observacao (17.5ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:19:52' AND ends_at >= '2017-10-09 17:19:52') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:19:52' AND ends_at >= '2017-10-09 17:19:52') [0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 9326ms (View: 382, DB: 29) | 200 OK [http://localhost/historico?aluno_id=2855&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:19:53) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.9ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:19:53' AND ends_at >= '2017-10-09 17:19:53') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:19:53' AND ends_at >= '2017-10-09 17:19:53') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 262ms (View: 96, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:19:53) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2855.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:19:57) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (5.0ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:19:59' AND ends_at >= '2017-10-09 17:19:59') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:19:59' AND ends_at >= '2017-10-09 17:19:59') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 2689ms (View: 91, DB: 11) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:20:06) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (2.9ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.7ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (48.9ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (43.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (59.8ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (58.6ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mDisciplina Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mNota Load (57.5ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (2.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (55.7ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (51.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:23:26) [GET]
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (2.2ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:23:26' AND ends_at >= '2017-10-09 17:23:26') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:23:26' AND ends_at >= '2017-10-09 17:23:26') [0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 293ms (View: 210, DB: 9) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:23:30) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (19.3ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:23:33' AND ends_at >= '2017-10-09 17:23:33') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:23:33' AND ends_at >= '2017-10-09 17:23:33') [0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 3193ms (View: 237, DB: 12) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:23:41) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.7ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (46.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (42.7ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (59.5ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (60.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (51.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (8.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (56.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (49.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (6.6ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (162.0ms)
Rendered historicos/_observacoes (1.7ms)
Rendered historicos/_form_observacao (5.2ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:23:53' AND ends_at >= '2017-10-09 17:23:53') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:23:53' AND ends_at >= '2017-10-09 17:23:53') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 12317ms (View: 243, DB: 396) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:23:54) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:24:29) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:24:29' AND ends_at >= '2017-10-09 17:24:29') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:24:29' AND ends_at >= '2017-10-09 17:24:29') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 288ms (View: 206, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:24:33) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.9ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (20.6ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:24:35' AND ends_at >= '2017-10-09 17:24:35') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:24:35' AND ends_at >= '2017-10-09 17:24:35') [0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 2931ms (View: 238, DB: 11) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:25:23) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:26:03) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:26:03' AND ends_at >= '2017-10-09 17:26:03') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:26:03' AND ends_at >= '2017-10-09 17:26:03') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 280ms (View: 205, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:26:07) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.5ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (18.1ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:26:15' AND ends_at >= '2017-10-09 17:26:15') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:26:15' AND ends_at >= '2017-10-09 17:26:15') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 7627ms (View: 232, DB: 12) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:26:22) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m

NoMethodError (undefined method `nil' for nil:NilClass):
  app/controllers/historicos_controller.rb:200:in `historico'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (135.1ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:26:38) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.9ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.5ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.5ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:27:46) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;35;1mAluno Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mMatricula Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:28:13) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:13' AND ends_at >= '2017-10-09 17:28:13') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:13' AND ends_at >= '2017-10-09 17:28:13') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 300ms (View: 219, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:28:16) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.2ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:16' AND ends_at >= '2017-10-09 17:28:16') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:16' AND ends_at >= '2017-10-09 17:28:16') [0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (4.4ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 458ms (View: 208, DB: 19) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:28:21) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (7.8ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (169.4ms)
Rendered historicos/_observacoes (1.7ms)
Rendered historicos/_form_observacao (5.0ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:33' AND ends_at >= '2017-10-09 17:28:33') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:33' AND ends_at >= '2017-10-09 17:28:33') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 11682ms (View: 260, DB: 25) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:28:33) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:28:37) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (45.0ms)
Rendered historicos/_observacoes (0.3ms)
Rendered historicos/_form_observacao (5.5ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:40' AND ends_at >= '2017-10-09 17:28:40') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:40' AND ends_at >= '2017-10-09 17:28:40') [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 3226ms (View: 241, DB: 19) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:28:40) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.5ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (6.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (175.3ms)
Rendered historicos/_observacoes (0.2ms)
Rendered historicos/_form_observacao (10.4ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:43' AND ends_at >= '2017-10-09 17:28:43') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:43' AND ends_at >= '2017-10-09 17:28:43') [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 3301ms (View: 284, DB: 25) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:28:44) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.8ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:44' AND ends_at >= '2017-10-09 17:28:44') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:44' AND ends_at >= '2017-10-09 17:28:44') [0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 107ms (View: 73, DB: 6) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:28:44) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:28:44) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:28:56) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:57' AND ends_at >= '2017-10-09 17:28:57') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:28:57' AND ends_at >= '2017-10-09 17:28:57') [0m
  [4;36;1mroles_users Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 295ms (View: 212, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:29:06) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (18.6ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:29:06' AND ends_at >= '2017-10-09 17:29:06') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:29:06' AND ends_at >= '2017-10-09 17:29:06') [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 463ms (View: 214, DB: 12) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:29:51) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (8.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:29:51' AND ends_at >= '2017-10-09 17:29:51') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:29:51' AND ends_at >= '2017-10-09 17:29:51') [0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 302ms (View: 216, DB: 15) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:30:18) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (2.0ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.2ms)
  [4;36;1mInformativo Load (0.8ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:30:18' AND ends_at >= '2017-10-09 17:30:18') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:30:18' AND ends_at >= '2017-10-09 17:30:18') [0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.5ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 499ms (View: 232, DB: 15) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:30:42) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:32:17) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:32:17' AND ends_at >= '2017-10-09 17:32:17') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-09 17:15:39') AND (starts_at <= '2017-10-09 17:32:17' AND ends_at >= '2017-10-09 17:32:17') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 290ms (View: 210, DB: 6) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:41:37) [GET]
Redirected to http://localhost:3000/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 69ms (DB: 0) | 302 Found [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2017-10-09 14:41:37) [GET]
Rendering template within layouts/login
Rendering sessions/new
Completed in 133ms (View: 111, DB: 0) | 200 OK [http://localhost/session/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2017-10-09 14:41:43) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY=", "login"=>"ngarcia", "password"=>"musand12", "commit"=>"Entrar"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'ngarcia' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Redirected to http://localhost:3000/
Completed in 27ms (DB: 1) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:41:43) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:41:43' AND ends_at >= '2017-10-09 17:41:43') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.7ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 397ms (View: 366, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:41:48) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (93.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (6.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (419.7ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (47.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (118.7ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (1.5ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (191.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.9ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.8ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (23.3ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:41:49' AND ends_at >= '2017-10-09 17:41:49') [0m
  [4;35;1mInformativo Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 1520ms (View: 242, DB: 887) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:41:54) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (410.7ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (48.4ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (58.8ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (67.6ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (53.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (7.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (56.4ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (50.9ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.5ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (80.0ms)
Rendered historicos/_observacoes (25.9ms)
Rendered historicos/_form_observacao (6.4ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:42:02' AND ends_at >= '2017-10-09 17:42:02') [0m
  [4;36;1mInformativo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 8335ms (View: 211, DB: 774) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:42:03) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:42:14) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:42:14' AND ends_at >= '2017-10-09 17:42:14') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 307ms (View: 264, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:42:19) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.5ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.4ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (18.1ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:42:19' AND ends_at >= '2017-10-09 17:42:19') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 471ms (View: 213, DB: 14) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:42:25) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.8ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (50.6ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (41.9ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (58.5ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (58.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (51.5ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (1.8ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (52.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (52.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:42:47) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.8ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:42:47' AND ends_at >= '2017-10-09 17:42:47') [0m
  [4;35;1mInformativo Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 278ms (View: 239, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:42:51) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.5ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (15.8ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:42:51' AND ends_at >= '2017-10-09 17:42:51') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 456ms (View: 213, DB: 17) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:42:58) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:46:01) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:46:01' AND ends_at >= '2017-10-09 17:46:01') [0m
  [4;35;1mInformativo Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 303ms (View: 262, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:46:05) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.7ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:46:06' AND ends_at >= '2017-10-09 17:46:06') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 460ms (View: 214, DB: 14) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:46:10) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.5ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:47:37) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:47:37' AND ends_at >= '2017-10-09 17:47:37') [0m
  [4;35;1mInformativo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 276ms (View: 172, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:47:37) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m

ActionView::TemplateError (nil can't be coerced into Fixnum) on line #30 of app/views/historicos/_notas_historico.erb:
27:         <% classe= @ano_inicial.classe %>
28: 
29:     <%end%>
30:     <% anoinicial = ano.to_i - classe +1  %>
31:     <tr>
32:         <%for i in 0..8 %>
33:             <td width ="5%" align="center" ><b> <%=  anoinicial+i %></b></td>

    app/views/historicos/_notas_historico.erb:30
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (117.4ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:47:44) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (6.8ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:47:44' AND ends_at >= '2017-10-09 17:47:44') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 336ms (View: 136, DB: 13) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:47:49) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m

ActionView::TemplateError (nil can't be coerced into Fixnum) on line #30 of app/views/historicos/_notas_historico.erb:
27:         <% classe= @ano_inicial.classe %>
28: 
29:     <%end%>
30:     <% anoinicial = ano.to_i - classe +1  %>
31:     <tr>
32:         <%for i in 0..8 %>
33:             <td width ="5%" align="center" ><b> <%=  anoinicial+i %></b></td>

    app/views/historicos/_notas_historico.erb:30
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (125.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:48:29) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:48:29' AND ends_at >= '2017-10-09 17:48:29') [0m
  [4;36;1mInformativo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 67ms (View: 45, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:48:32) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:48:32' AND ends_at >= '2017-10-09 17:48:32') [0m
  [4;36;1mInformativo Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 334ms (View: 134, DB: 14) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:48:33) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m

ActionView::TemplateError (nil can't be coerced into Fixnum) on line #30 of app/views/historicos/_notas_historico.erb:
27:         <% classe= @ano_inicial.classe %>
28: 
29:     <%end%>
30:     <% anoinicial = ano.to_i - classe +1  %>
31:     <tr>
32:         <%for i in 0..8 %>
33:             <td width ="5%" align="center" ><b> <%=  anoinicial+i %></b></td>

    app/views/historicos/_notas_historico.erb:30
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (33.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:48:37) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m

ActionView::TemplateError (nil can't be coerced into Fixnum) on line #30 of app/views/historicos/_notas_historico.erb:
27:         <% classe= @ano_inicial.classe %>
28: 
29:     <%end%>
30:     <% anoinicial = ano.to_i - classe +1  %>
31:     <tr>
32:         <%for i in 0..8 %>
33:             <td width ="5%" align="center" ><b> <%=  anoinicial+i %></b></td>

    app/views/historicos/_notas_historico.erb:30
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (32.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:49:25) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:49:25' AND ends_at >= '2017-10-09 17:49:25') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 288ms (View: 249, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:49:28) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.0ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:49:29' AND ends_at >= '2017-10-09 17:49:29') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 440ms (View: 204, DB: 10) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:49:34) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:50:20) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (4.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;35;1mAluno Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mMatricula Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m

ActionView::TemplateError (nil can't be coerced into Fixnum) on line #30 of app/views/historicos/_notas_historico.erb:
27:         <% classe= @ano_inicial.classe %>
28: 
29:     <%end%>
30:     <% anoinicial = ano.to_i - classe +1  %>
31:     <tr>
32:         <%for i in 0..8 %>
33:             <td width ="5%" align="center" ><b> <%=  anoinicial+i %></b></td>

    app/views/historicos/_notas_historico.erb:30
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered rescues/_trace (82.3ms)
Rendered rescues/_request_and_response (115.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:50:37) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:50:37' AND ends_at >= '2017-10-09 17:50:37') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 348ms (View: 318, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:50:47) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.9ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:50:47' AND ends_at >= '2017-10-09 17:50:47') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 464ms (View: 106, DB: 12) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:50:51) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m

ActionView::TemplateError (nil can't be coerced into Fixnum) on line #30 of app/views/historicos/_notas_historico.erb:
27:         <% classe= @ano_inicial.classe %>
28: 
29:     <%end%>
30:     <% anoinicial = ano.to_i - classe +1  %>
31:     <tr>
32:         <%for i in 0..8 %>
33:             <td width ="5%" align="center" ><b> <%=  anoinicial+i %></b></td>

    app/views/historicos/_notas_historico.erb:30
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
    /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
    /usr/bin/rdebug-ide:19:in `load'
    /usr/bin/rdebug-ide:19

Rendered rescues/_trace (77.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:51:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:51:14' AND ends_at >= '2017-10-09 17:51:14') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 310ms (View: 267, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:51:22) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.6ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:51:23' AND ends_at >= '2017-10-09 17:51:23') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.5ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 470ms (View: 228, DB: 13) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:51:29) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (182.1ms)
Rendered historicos/_observacoes (1.7ms)
Rendered historicos/_form_observacao (5.0ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:51:33' AND ends_at >= '2017-10-09 17:51:33') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 4460ms (View: 281, DB: 21) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:51:34) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:55:56) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:55:57' AND ends_at >= '2017-10-09 17:55:57') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 304ms (View: 260, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:55:59) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.7ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:56:00' AND ends_at >= '2017-10-09 17:56:00') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 446ms (View: 210, DB: 9) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:56:04) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:56:18) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.6ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;35;1mAluno Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mMatricula Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (51.9ms)
Rendered historicos/_observacoes (1.6ms)
Rendered historicos/_form_observacao (18.8ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:56:23' AND ends_at >= '2017-10-09 17:56:23') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 5015ms (View: 402, DB: 20) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:56:23) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:56:23' AND ends_at >= '2017-10-09 17:56:23') [0m
  [4;35;1mInformativo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 142ms (View: 103, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 14:56:24) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:56:28) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.6ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (4.8ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:56:28' AND ends_at >= '2017-10-09 17:56:28') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 467ms (View: 96, DB: 16) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:56:34) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:59:31) [GET]
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.6ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.5ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (22.4ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:59:31' AND ends_at >= '2017-10-09 17:59:31') [0m
  [4;36;1mInformativo Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 639ms (View: 349, DB: 14) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 14:59:32) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:59:32' AND ends_at >= '2017-10-09 17:59:32') [0m
  [4;35;1mInformativo Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 254ms (View: 220, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:59:36) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (5.1ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 17:59:37' AND ends_at >= '2017-10-09 17:59:37') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 428ms (View: 96, DB: 10) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 14:59:44) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:00:18) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:00:18' AND ends_at >= '2017-10-09 18:00:18') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 273ms (View: 166, DB: 8) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:00:18) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:00:34) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:00:34' AND ends_at >= '2017-10-09 18:00:34') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 274ms (View: 172, DB: 8) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:00:38) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (7.9ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:00:38' AND ends_at >= '2017-10-09 18:00:38') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 314ms (View: 70, DB: 12) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:00:44) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (19.7ms)
Rendered historicos/_observacoes (0.9ms)
Rendered historicos/_form_observacao (2.6ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:00:44' AND ends_at >= '2017-10-09 18:00:44') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 355ms (View: 64, DB: 17) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 15:00:44) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:00:48) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (19.5ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.5ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:00:48' AND ends_at >= '2017-10-09 18:00:48') [0m
  [4;36;1mInformativo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 346ms (View: 63, DB: 21) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 15:00:48) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:00:53) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.6ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:00:53' AND ends_at >= '2017-10-09 18:00:53') [0m
  [4;35;1mInformativo Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 294ms (View: 50, DB: 12) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:00:58) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:10:03) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:10:03' AND ends_at >= '2017-10-09 18:10:03') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 305ms (View: 260, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:10:04) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m

NoMethodError (undefined method `unidade_d' for #<User:0x7f95ff52c4d8>):
  app/controllers/historicos_controller.rb:454:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (56.1ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:10:07) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m

NoMethodError (undefined method `unidade_d' for #<User:0x7f95feedd078>):
  app/controllers/historicos_controller.rb:454:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (52.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:10:30) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.7ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.5ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.3ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:10:31' AND ends_at >= '2017-10-09 18:10:31') [0m
  [4;35;1mInformativo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 481ms (View: 220, DB: 13) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:10:36) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"1298"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.7ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (54.0ms)
Rendered historicos/_observacoes (1.8ms)
Rendered historicos/_form_observacao (5.1ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:10:45' AND ends_at >= '2017-10-09 18:10:45') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 8572ms (View: 158, DB: 18) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 15:10:45) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:10:49) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (4.9ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:10:49' AND ends_at >= '2017-10-09 18:10:49') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 445ms (View: 94, DB: 11) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:10:56) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
Rendered historicos/_aviso (2.7ms)
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:13:13) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (8.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:13:13' AND ends_at >= '2017-10-09 18:13:13') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 310ms (View: 259, DB: 14) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:13:37) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.4ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:14:53) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:14:54' AND ends_at >= '2017-10-09 18:14:54') [0m
  [4;35;1mInformativo Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 314ms (View: 267, DB: 8) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:14:58) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.5ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:14:58' AND ends_at >= '2017-10-09 18:14:58') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 452ms (View: 212, DB: 9) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:15:03) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:18:48) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.8ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:18:48' AND ends_at >= '2017-10-09 18:18:48') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 299ms (View: 257, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:18:53) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (17.9ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:18:53' AND ends_at >= '2017-10-09 18:18:53') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 459ms (View: 215, DB: 14) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:18:59) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:25:29) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:25:29' AND ends_at >= '2017-10-09 18:25:29') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 278ms (View: 171, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:25:32) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (7.6ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:25:32' AND ends_at >= '2017-10-09 18:25:32') [0m
  [4;35;1mInformativo Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 410ms (View: 149, DB: 15) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:25:37) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.7ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m

ActionView::TemplateError (Missing template historicos/_aviso.erb in view path app/views) on line #27 of app/views/historicos/_notas_historico.erb:
24:         <% classe= @ano_inicial.matricula.classe.classe_classe[0,1].to_i %>
25:             <% if @ano_inicial.matricula.classe.classe_classe[0,1].to_i  == 0 %>
26:                <%t=0%>
27:                    <%= render  'aviso' %>
28: 
29:             <%  else %>
30:              <% session[:classe_nota] = classe%>

    app/views/historicos/_notas_historico.erb:27
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (117.9ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:27:23) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m

ActionView::TemplateError (Missing template historicos/_aviso.erb in view path app/views) on line #27 of app/views/historicos/_notas_historico.erb:
24:         <% classe= @ano_inicial.matricula.classe.classe_classe[0,1].to_i %>
25:             <% if @ano_inicial.matricula.classe.classe_classe[0,1].to_i  == 0 %>
26:                <%t=0%>
27:                    <%= render  'aviso' %>
28: 
29:             <%  else %>
30:              <% session[:classe_nota] = classe%>

    app/views/historicos/_notas_historico.erb:27
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (43.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:30:56) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:30:56' AND ends_at >= '2017-10-09 18:30:56') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 289ms (View: 248, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:30:59) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.9ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (103.7ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:30:59' AND ends_at >= '2017-10-09 18:30:59') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 441ms (View: 203, DB: 10) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:31:03) [GET]
  Parameters: {"aluno_id"=>"16726", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendered historicos/_aviso (4.7ms)
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:34:29) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (18.9ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mMatricula Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendered historicos/_aviso (1.5ms)
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:34:56) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:34:56' AND ends_at >= '2017-10-09 18:34:56') [0m
  [4;35;1mInformativo Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 284ms (View: 172, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:34:59) [GET]
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (6.9ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:35:00' AND ends_at >= '2017-10-09 18:35:00') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 324ms (View: 141, DB: 10) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:35:05) [GET]
  Parameters: {"commit"=>"Visualizar", "aluno_id"=>"16726"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.4ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='16726') [0m
  [4;36;1mAluno Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=16726) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =16726 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =16726 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 16726 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=16726 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 16726 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =16726 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =16726) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mUnidade Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 25049) [0m
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 916) [0m
Rendered historicos/_aviso (1.9ms)
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:42:20) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:42:20' AND ends_at >= '2017-10-09 18:42:20') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 306ms (View: 261, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:42:23) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m

ActiveRecord::ConfigurationError (Association named 'matricula' was not found; perhaps you misspelled it?):
  app/controllers/historicos_controller.rb:438:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (57.6ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:46:02) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:46:02' AND ends_at >= '2017-10-09 18:46:02') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 285ms (View: 179, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:46:04) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m

ActiveRecord::ConfigurationError (Association named 'matricula' was not found; perhaps you misspelled it?):
  app/controllers/historicos_controller.rb:438:in `load_iniciais'

Rendered rescues/_trace (24.7ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:46:20) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
Rendered historicos/_form_observacao (9.9ms)
  [4;36;1mInformativo Load (1.1ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:46:20' AND ends_at >= '2017-10-09 18:46:20') [0m
  [4;35;1mInformativo Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 368ms (View: 172, DB: 12) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:46:32) [GET]
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:46:33' AND ends_at >= '2017-10-09 18:46:33') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 310ms (View: 264, DB: 8) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:46:39) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m

ActiveRecord::ConfigurationError (Association named 'matricula' was not found; perhaps you misspelled it?):
  app/controllers/historicos_controller.rb:438:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (143.5ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:46:59) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:46:59' AND ends_at >= '2017-10-09 18:46:59') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 289ms (View: 251, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:47:07) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m

ActiveRecord::ConfigurationError (Association named 'matricula' was not found; perhaps you misspelled it?):
  app/controllers/historicos_controller.rb:438:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (144.5ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:47:27) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:47:27' AND ends_at >= '2017-10-09 18:47:27') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 294ms (View: 249, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:47:33) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m

ActiveRecord::ConfigurationError (Association named 'matricula' was not found; perhaps you misspelled it?):
  app/controllers/historicos_controller.rb:439:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (166.9ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#historico (for 127.0.0.1 at 2017-10-09 15:48:03) [GET]

SyntaxError (/home/desenvolvimento/sisgered/app/controllers/historicos_controller.rb:439: syntax error, unexpected ',', expecting tASSOC
...joins =>  :matricula, :aluno , :conditions =>['alunos.unidad...
                              ^
/home/desenvolvimento/sisgered/app/controllers/historicos_controller.rb:439: syntax error, unexpected ',', expecting kEND
... ' , current_user.unidade_id],:order => 'aluno_nome')
                              ^
/home/desenvolvimento/sisgered/app/controllers/historicos_controller.rb:439: syntax error, unexpected ')', expecting kEND):
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (152.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:48:20) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.4ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mMysql::Error: Table 'sisgered_development.alunos_classes' doesn't exist: SELECT alunos.id, alunos.aluno_nome FROM `classes` INNER JOIN `matriculas` ON matriculas.classe_id = classes.id INNER JOIN `alunos_classes` ON `alunos_classes`.classe_id = `classes`.id INNER JOIN `alunos` ON `alunos`.id = `alunos_classes`.aluno_id WHERE (alunos.unidade_id=43 AND alunos.aluno_status is null AND matriculas.aluno_id = alunos.id AND classes.classe.classe != "EJA" ) ORDER BY aluno_nome[0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'sisgered_development.alunos_classes' doesn't exist: SELECT alunos.id, alunos.aluno_nome FROM `classes`   INNER JOIN `matriculas` ON matriculas.classe_id = classes.id  INNER JOIN `alunos_classes` ON `alunos_classes`.classe_id = `classes`.id  INNER JOIN `alunos` ON `alunos`.id = `alunos_classes`.aluno_id  WHERE (alunos.unidade_id=43 AND alunos.aluno_status is null AND  matriculas.aluno_id = alunos.id AND classes.classe.classe != "EJA" )  ORDER BY aluno_nome):
  app/controllers/historicos_controller.rb:439:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (60.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:51:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:51:14' AND ends_at >= '2017-10-09 18:51:14') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 302ms (View: 261, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:51:18) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'classes.classe.classe' in 'where clause': SELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe.classe != "EJA") [0m

ActiveRecord::StatementInvalid (Mysql::Error: Unknown column 'classes.classe.classe' in 'where clause': SELECT `alunos`.* FROM `alunos`  INNER JOIN  matriculas  ON  alunos.id=matriculas.aluno_id  INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe.classe != "EJA") ):
  app/controllers/historicos_controller.rb:440:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (169.8ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:52:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (283.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA") [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:52:31) [GET]
  [4;36;1mUser Columns (10.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (278.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA") [0m
  [4;35;1mAluno Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:54:09) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:54:10' AND ends_at >= '2017-10-09 18:54:10') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 305ms (View: 257, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:54:12) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.6ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'classes.ano_letivo' in 'where clause': SELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA" AND classes.ano_letivo =2017) [0m

ActiveRecord::StatementInvalid (Mysql::Error: Unknown column 'classes.ano_letivo' in 'where clause': SELECT `alunos`.* FROM `alunos`  INNER JOIN  matriculas  ON  alunos.id=matriculas.aluno_id  INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA" AND classes.ano_letivo =2017) ):
  app/controllers/historicos_controller.rb:440:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (162.7ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:54:32) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:55:04) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:55:04' AND ends_at >= '2017-10-09 18:55:04') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 306ms (View: 261, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:55:07) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.0ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'classes.classse_ano_letivo' in 'where clause': SELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA" AND classes.classse_ano_letivo =2017) [0m

ActiveRecord::StatementInvalid (Mysql::Error: Unknown column 'classes.classse_ano_letivo' in 'where clause': SELECT `alunos`.* FROM `alunos`  INNER JOIN  matriculas  ON  alunos.id=matriculas.aluno_id  INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA" AND classes.classse_ano_letivo =2017) ):
  app/controllers/historicos_controller.rb:440:in `load_iniciais'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_load'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/lib/ruby-debug-ide.rb:86:in `debug_program'
  /usr/lib/ruby/gems/1.8/gems/ruby-debug-ide-0.4.33/bin/rdebug-ide:121
  /usr/bin/rdebug-ide:19:in `load'
  /usr/bin/rdebug-ide:19

Rendered rescues/_trace (172.9ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:55:35) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (224.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:56:04) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:56:04' AND ends_at >= '2017-10-09 18:56:04') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 298ms (View: 260, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:56:07) [GET]
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.6ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (231.7ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) [0m
  [4;36;1mAluno Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 15:57:38) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 18:57:38' AND ends_at >= '2017-10-09 18:57:38') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 301ms (View: 261, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 15:57:40) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (180.6ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) [0m
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 16:02:50) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:02:50' AND ends_at >= '2017-10-09 19:02:50') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 271ms (View: 169, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:02:54) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.4ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) [0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mDisciplina Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mObservacaoNota Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `observacao_notas`[0m

ActionView::TemplateError (undefined method `collection_select_tag' for #<ActionView::Base:0x7f0ff02c7de0>) on line #15 of app/views/historicos/historico.html.erb:
12:              <tr>
13:                <td colspan="2"align="right"><font size="2"> <b>Nome:</b></font>
14:                    <%= select_tag :aluno_id, options_for_select(@alunos1.collect { |ff| [ff.aluno_nome, ff.id] }.insert(0, '--Selecionar--')) %>
15:                    <%= collection_select_tag :aluno_id, @alunos1, :id, :nome, :include_blank => ' -- Selecione -- ' %></td>
16:               </td>
17:               <td align="right"> <%= submit_tag "Visualizar", :class => "btn_filtrar" %></td>
18: 

    app/views/historicos/historico.html.erb:15
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (27.3ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:04:43) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.7ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) [0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (6.9ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:04:43' AND ends_at >= '2017-10-09 19:04:43') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 326ms (View: 64, DB: 11) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 16:05:29) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:05:29' AND ends_at >= '2017-10-09 19:05:29') [0m
  [4;35;1mInformativo Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 62ms (View: 43, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:05:52) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (179.5ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:05:52' AND ends_at >= '2017-10-09 19:05:52') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 533ms (View: 130, DB: 188) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 16:06:56) [GET]
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.8ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:06:56' AND ends_at >= '2017-10-09 19:06:56') [0m
  [4;36;1mInformativo Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 62ms (View: 38, DB: 7) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:07:57) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (0.0ms)[0m   [0;1mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'classe WHERE (alunos.unidade_id =43 AND matriculas.ano_letivo = 2017 AND classes' at line 1: SELECT id, aluno_nome FROM `alunos` matricula classe WHERE (alunos.unidade_id =43 AND matriculas.ano_letivo = 2017 AND classes.classe_classe =! "EJA"") ORDER BY aluno_nome ASC[0m

ActiveRecord::StatementInvalid (Mysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'classe WHERE (alunos.unidade_id =43 AND matriculas.ano_letivo = 2017 AND classes' at line 1: SELECT id, aluno_nome FROM `alunos` matricula classe WHERE (alunos.unidade_id =43 AND matriculas.ano_letivo = 2017 AND classes.classe_classe =! "EJA"")  ORDER BY aluno_nome ASC):
  app/controllers/historicos_controller.rb:398:in `load_professors'

Rendered rescues/_trace (23.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:08:33) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.1ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) [0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.8ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:08:33' AND ends_at >= '2017-10-09 19:08:33') [0m
  [4;36;1mInformativo Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 280ms (View: 146, DB: 13) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#historico (for 127.0.0.1 at 2017-10-09 16:09:31) [GET]

SyntaxError (/home/desenvolvimento/sisgered/app/controllers/historicos_controller.rb:440: syntax error, unexpected ','
....unidade_id, Time.now.year], ,:order => 'aluno_nome ASC')
                              ^
/home/desenvolvimento/sisgered/app/controllers/historicos_controller.rb:440: syntax error, unexpected ')', expecting kEND):
  

Rendered rescues/_trace (19.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:09:39) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (3.4ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:09:39' AND ends_at >= '2017-10-09 19:09:39') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 272ms (View: 60, DB: 11) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 16:11:33) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:11:33' AND ends_at >= '2017-10-09 19:11:33') [0m
  [4;36;1mInformativo Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 74ms (View: 53, DB: 7) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:11:36) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (5.9ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:11:36' AND ends_at >= '2017-10-09 19:11:36') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 300ms (View: 61, DB: 11) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:11:39) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (29.2ms)
Rendered historicos/_observacoes (0.8ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:11:39' AND ends_at >= '2017-10-09 19:11:39') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 336ms (View: 66, DB: 16) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-09 16:11:40) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-09 16:11:46) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.2ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =1298) [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;36;1mNota Load (57.9ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (57.7ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mNota Load (69.3ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =1298 AND disciplinas.curriculo = 'B' and unidade_id =43 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;35;1mDisciplina Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mMatricula Load (0.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17197) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mAluno Load (0.8ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1298) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17197) [0m
  [4;35;1mClasse Load (0.5ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 894) [0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 524ms (View: 78, DB: 211) | 200 OK [http://localhost/impressao_historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-09 16:28:23) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.8ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:28:23' AND ends_at >= '2017-10-09 19:28:23') [0m
  [4;36;1mInformativo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 183ms (View: 45, DB: 6) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-09 16:28:26) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-09 19:28:27' AND ends_at >= '2017-10-09 19:28:27') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 321ms (View: 61, DB: 17) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-10 10:15:35) [GET]
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (1.1ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 13:15:35' AND ends_at >= '2017-10-10 13:15:35') [0m
  [4;35;1mInformativo Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 324ms (View: 206, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:15:39) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (3.7ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.2ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (7.1ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 13:15:39' AND ends_at >= '2017-10-10 13:15:39') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 346ms (View: 69, DB: 14) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:15:43) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.2ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (2.7ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m

ActionView::TemplateError (undefined method `unidade' for nil:NilClass) on line #143 of app/views/historicos/_notas_historico.erb:
140:                             <%=@notasD[acertoHTML].nota5%>
141:                             <% if !@carga_horaria.present? %>
142:                                 <%session[:cargah_d][i]=480%>
143:                                     <% session[:escola][i]= @notasD[acertoHTML].matricula.unidade.nome %>
144:                                     <% session[:cidade][i]= @notasD[acertoHTML].matricula.unidade.cidade %>
145:                             <%else%>
146:                                     <%session[:cargah_d][i]=@carga_horaria[0].carga_horaria_d %>

    app/views/historicos/_notas_historico.erb:143
    app/views/historicos/_notas_historico.erb:128:in `each'
    app/views/historicos/_notas_historico.erb:128
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (33.7ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:16:13) [GET]
  Parameters: {"aluno_id"=>"1298", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.7ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1298') [0m
  [4;36;1mAluno Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1298) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (52.3ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1298 )[0m
  [4;36;1mDisciplina Load (42.4ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1298 )[0m
  [4;35;1mNota Load (58.9ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (61.6ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1298 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (51.5ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1298 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (8.5ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1298 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (53.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1298 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (48.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1298) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1298 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (25.0ms)
Rendered historicos/_observacoes (1.0ms)
Rendered historicos/_form_observacao (3.4ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 13:16:14' AND ends_at >= '2017-10-10 13:16:14') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 900ms (View: 162, DB: 399) | 200 OK [http://localhost/historico?aluno_id=1298&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 10:16:14) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1298.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:16:27) [GET]
  Parameters: {"aluno_id"=>"2411", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2411') [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2411) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2411 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2411 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2411 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2411 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2411 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2411 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2411 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2411) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 56) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (28.9ms)
Rendered historicos/_observacoes (0.2ms)
Rendered historicos/_form_observacao (3.7ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 13:16:27' AND ends_at >= '2017-10-10 13:16:27') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 420ms (View: 66, DB: 16) | 200 OK [http://localhost/historico?aluno_id=2411&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 10:16:28) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2411.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:16:38) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m

ActionView::TemplateError (undefined method `unidade' for nil:NilClass) on line #143 of app/views/historicos/_notas_historico.erb:
140:                             <%=@notasD[acertoHTML].nota5%>
141:                             <% if !@carga_horaria.present? %>
142:                                 <%session[:cargah_d][i]=480%>
143:                                     <% session[:escola][i]= @notasD[acertoHTML].matricula.unidade.nome %>
144:                                     <% session[:cidade][i]= @notasD[acertoHTML].matricula.unidade.cidade %>
145:                             <%else%>
146:                                     <%session[:cargah_d][i]=@carga_horaria[0].carga_horaria_d %>

    app/views/historicos/_notas_historico.erb:143
    app/views/historicos/_notas_historico.erb:128:in `each'
    app/views/historicos/_notas_historico.erb:128
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (141.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:16:48) [GET]
  Parameters: {"aluno_id"=>"7514", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.1ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.8ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='7514') [0m
  [4;35;1mAluno Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.6ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=7514) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (47.2ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =7514 )[0m
  [4;35;1mDisciplina Load (43.2ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =7514 )[0m
  [4;36;1mNota Load (59.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 7514 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (58.8ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 7514 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (48.7ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=7514 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (8.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 7514 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (49.7ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =7514 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (49.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =7514) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 16775) [0m
  [4;36;1mClasse Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 888) [0m
Rendered historicos/_notas_historico (4.6ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.6ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 13:16:49' AND ends_at >= '2017-10-10 13:16:49') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 799ms (View: 42, DB: 381) | 200 OK [http://localhost/historico?aluno_id=7514&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 10:16:49) [GET]

ActionController::RoutingError (No route matches "/photos/original/missing.png" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:16:56) [GET]
  Parameters: {"aluno_id"=>"2411", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2411') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2411) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2411 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2411 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2411 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2411 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2411 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2411 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2411 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2411) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 56) [0m
  [4;35;1mDisciplina Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (29.5ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.7ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 13:16:56' AND ends_at >= '2017-10-10 13:16:56') [0m
  [4;35;1mInformativo Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (1.8ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 528ms (View: 160, DB: 23) | 200 OK [http://localhost/historico?aluno_id=2411&commit=Visualizar]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 10:16:56) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2411.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:17:05) [GET]
  Parameters: {"aluno_id"=>"1404", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1404') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.6ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1404) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (50.6ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1404 )[0m
  [4;36;1mDisciplina Load (42.6ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1404 )[0m
  [4;35;1mNota Load (59.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1404 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (61.5ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1404 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (51.7ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1404 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1404 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (51.6ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1404 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (49.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1404) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.7ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (133.8ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.1ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 13:17:06' AND ends_at >= '2017-10-10 13:17:06') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 904ms (View: 166, DB: 385) | 200 OK [http://localhost/historico?aluno_id=1404&commit=Visualizar]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 10:17:06) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1404.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:18:22) [GET]
  Parameters: {"aluno_id"=>"1404", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1404') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1404) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1404 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1404 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1404 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1404 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1404 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1404 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (2.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1404 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1404) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m

ActionView::TemplateError (undefined method `unidade' for nil:NilClass) on line #60 of app/views/historicos/_notas_historico.erb:
57:                             <%=@notasB[acertoHTML].nota5%>
58:                             <% if !@carga_horaria.present? %>
59:                                 <%session[:cargah_b][i]=1000 %>
60:                                     <% session[:escola][i]= @notasB[acertoHTML].matricula.unidade.nome %>
61:                                     <% session[:cidade][i]= @notasB[acertoHTML].matricula.unidade.cidade %>
62: 
63:                             <%else%>

    app/views/historicos/_notas_historico.erb:60
    app/views/historicos/_notas_historico.erb:45:in `each'
    app/views/historicos/_notas_historico.erb:45
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (31.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:21:43) [GET]
  Parameters: {"aluno_id"=>"1404", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1404') [0m
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1404) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1404 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1404 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1404 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1404 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1404 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1404 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1404 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1404) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (172.4ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.8ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 13:21:43' AND ends_at >= '2017-10-10 13:21:43') [0m
  [4;35;1mInformativo Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 598ms (View: 212, DB: 21) | 200 OK [http://localhost/historico?aluno_id=1404&commit=Visualizar]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 10:21:44) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1404.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:24:09) [GET]
  Parameters: {"aluno_id"=>"1404", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.6ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1404') [0m
  [4;36;1mAluno Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1404) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1404 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1404 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1404 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1404 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1404 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1404 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1404 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1404) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m

ActionView::TemplateError (undefined method `unidade' for nil:NilClass) on line #60 of app/views/historicos/_notas_historico.erb:
57:                             <%=@notasB[acertoHTML].nota5%>
58:                             <% if !@carga_horaria.present? %>
59:                                 <%session[:cargah_b][i]=1000 %>
60:                                     <% session[:escola][i]= @notasB[acertoHTML].matricula.unidade.nome %>
61:                                     <% session[:cidade][i]= @notasB[acertoHTML].matricula.unidade.cidade %>
62: 
63:                             <%else%>

    app/views/historicos/_notas_historico.erb:60
    app/views/historicos/_notas_historico.erb:45:in `each'
    app/views/historicos/_notas_historico.erb:45
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (157.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:25:58) [GET]
  Parameters: {"aluno_id"=>"1404", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1404') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1404) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1404 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1404 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1404 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1404 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1404 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1404 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1404 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1404) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1404 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (32.5ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 13:25:58' AND ends_at >= '2017-10-10 13:25:58') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 653ms (View: 66, DB: 16) | 200 OK [http://localhost/historico?aluno_id=1404&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 10:25:59) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1404.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:26:37) [GET]
  Parameters: {"aluno_id"=>"1404", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.6ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.2ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1404') [0m
  [4;36;1mAluno Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1404) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1404 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1404 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1404 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1404 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1404 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1404 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1404 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1404) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4271) [0m
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 53) [0m
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'ano_letivos' in 'where clause': SELECT * FROM `observacao_historicos` WHERE (ano_letivos =2015 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) [0m

ActionView::TemplateError (Mysql::Error: Unknown column 'ano_letivos' in 'where clause': SELECT * FROM `observacao_historicos` WHERE (ano_letivos =2015 AND aluno_id=1404 AND carga_horaria_b IS NOT NULL) ) on line #56 of app/views/historicos/_notas_historico.erb:
53:                         <%if (@notasB[acertoHTML].nota5.nil? or @notasB[acertoHTML].nota5.empty?)  and @notasB[acertoHTML].ano_letivo == Time.now.year%>
54:                             ---
55:                         <%else%>
56:                             <%@carga_horaria=ObservacaoHistorico.find(:all, :conditions => ["ano_letivos =? AND aluno_id=? AND carga_horaria_b IS NOT NULL", @notasB[acertoHTML].ano_letivo, session[:aluno_id]]) %>
57:                             <%=@notasB[acertoHTML].nota5%>
58:                             <% if !@carga_horaria.present? %>
59:                                     <%session[:cargah_b][i]=1000 %>

    app/views/historicos/_notas_historico.erb:56
    app/views/historicos/_notas_historico.erb:45:in `each'
    app/views/historicos/_notas_historico.erb:45
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (35.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:32:02) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.2ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m

ActionView::TemplateError (undefined method `unidade' for nil:NilClass) on line #143 of app/views/historicos/_notas_historico.erb:
140:                             <%=@notasD[acertoHTML].nota5%>
141:                             <% if !@carga_horaria.present? %>
142:                                 <%session[:cargah_d][i]=480%>
143:                                     <% session[:escola][i]= @notasD[acertoHTML].matricula.unidade.nome %>
144:                                     <% session[:cidade][i]= @notasD[acertoHTML].matricula.unidade.cidade %>
145:                             <%else%>
146:                                     <%session[:cargah_d][i]=@carga_horaria[0].carga_horaria_d %>

    app/views/historicos/_notas_historico.erb:143
    app/views/historicos/_notas_historico.erb:128:in `each'
    app/views/historicos/_notas_historico.erb:128
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (31.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:32:37) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (36.4ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.6ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 13:32:38' AND ends_at >= '2017-10-10 13:32:38') [0m
  [4;36;1mInformativo Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 474ms (View: 70, DB: 17) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 10:32:38) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:32:52) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.0ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;35;1mAluno Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mClasse Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (43.9ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.5ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 13:32:53' AND ends_at >= '2017-10-10 13:32:53') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 559ms (View: 76, DB: 28) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 10:32:53) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 10:49:42) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (36.4ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 13:49:42' AND ends_at >= '2017-10-10 13:49:42') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 458ms (View: 66, DB: 23) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 10:49:43) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-10 11:06:01) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (11.2ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:06:01' AND ends_at >= '2017-10-10 14:06:01') [0m
  [4;36;1mInformativo Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 167ms (View: 137, DB: 16) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:06:06) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:06:07' AND ends_at >= '2017-10-10 14:06:07') [0m
  [4;35;1mInformativo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 390ms (View: 49, DB: 13) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:06:11) [GET]
  Parameters: {"aluno_id"=>"2855", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (3.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.1ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2855') [0m
  [4;35;1mAluno Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2855) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (49.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2855 )[0m
  [4;35;1mDisciplina Load (43.6ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2855 )[0m
  [4;36;1mNota Load (59.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2855 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (59.3ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2855 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (50.3ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2855 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (7.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2855 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (50.0ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2855 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (52.9ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2855) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.5ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4834) [0m
  [4;36;1mClasse Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (2.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2855 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (140.4ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.9ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:06:12' AND ends_at >= '2017-10-10 14:06:12') [0m
  [4;35;1mInformativo Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 965ms (View: 170, DB: 396) | 200 OK [http://localhost/historico?aluno_id=2855&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:06:12) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2855.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:06:28) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (1.7ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (33.5ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.8ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:06:28' AND ends_at >= '2017-10-10 14:06:28') [0m
  [4;36;1mInformativo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 588ms (View: 64, DB: 22) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:06:29) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:11:12) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (2.5ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;35;1mAluno Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m

ActionView::TemplateError (undefined method `unidade' for nil:NilClass) on line #143 of app/views/historicos/_notas_historico.erb:
140:                             <%=@notasD[acertoHTML].nota5%>
141:                             <% if !@carga_horaria.present? %>
142:                                 <%session[:cargah_d][i]=480%>
143:                                     <% session[:escola][i]= @notasD[acertoHTML].matricula.unidade.nome %>
144:                                     <% session[:cidade][i]= @notasD[acertoHTML].matricula.unidade.cidade %>
145:                             <%else%>
146:                                     <%session[:cargah_d][i]=@carga_horaria[0].carga_horaria_d %>

    app/views/historicos/_notas_historico.erb:143
    app/views/historicos/_notas_historico.erb:128:in `each'
    app/views/historicos/_notas_historico.erb:128
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (31.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:11:21) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.2ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;35;1mAluno Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mClasse Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (48.3ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:11:21' AND ends_at >= '2017-10-10 14:11:21') [0m
  [4;35;1mInformativo Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 637ms (View: 202, DB: 25) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:11:22) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:12:21) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo >2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo >2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo >2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo >2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo >2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (42.9ms)
Rendered historicos/_observacoes (0.2ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.8ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:12:21' AND ends_at >= '2017-10-10 14:12:21') [0m
  [4;36;1mInformativo Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 469ms (View: 74, DB: 18) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:12:21) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:14:12) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (1.0ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.0ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m

ActionView::TemplateError (undefined method `carga_horaria_d' for nil:NilClass) on line #146 of app/views/historicos/_notas_historico.erb:
143:                                     <% session[:escola][i]= @notasD[acertoHTML].matricula.unidade.nome %>
144:                                     <% session[:cidade][i]= @notasD[acertoHTML].matricula.unidade.cidade %>
145:                             <%else%>
146:                                     <%session[:cargah_d][i]=@carga_horaria[0].carga_horaria_d %>
147:                                     <% session[:escola][i]= @carga_horaria[0].escola %>
148:                                     <% session[:cidade][i]= @carga_horaria[0].cidade %>
149: 

    app/views/historicos/_notas_historico.erb:146
    app/views/historicos/_notas_historico.erb:128:in `each'
    app/views/historicos/_notas_historico.erb:128
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (31.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:14:40) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.2ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (161.7ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.4ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:14:40' AND ends_at >= '2017-10-10 14:14:40') [0m
  [4;35;1mInformativo Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 623ms (View: 200, DB: 19) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:14:41) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:15:13) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (0.9ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m

ActionView::TemplateError (undefined method `carga_horaria_d' for nil:NilClass) on line #146 of app/views/historicos/_notas_historico.erb:
143:                                     <% session[:escola][i]= @notasD[acertoHTML].matricula.unidade.nome %>
144:                                     <% session[:cidade][i]= @notasD[acertoHTML].matricula.unidade.cidade %>
145:                             <%else%>
146:                                     <%session[:cargah_d][i]=@carga_horaria[0].carga_horaria_d %>
147:                                     <% session[:escola][i]= @carga_horaria[0].escola %>
148:                                     <% session[:cidade][i]= @carga_horaria[0].cidade %>
149: 

    app/views/historicos/_notas_historico.erb:146
    app/views/historicos/_notas_historico.erb:128:in `each'
    app/views/historicos/_notas_historico.erb:128
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (148.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:15:34) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (0.9ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (37.2ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:15:34' AND ends_at >= '2017-10-10 14:15:34') [0m
  [4;36;1mInformativo Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 457ms (View: 76, DB: 17) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:15:35) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:16:10) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.1ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;35;1mAluno Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (44.1ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:16:10' AND ends_at >= '2017-10-10 14:16:10') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 562ms (View: 180, DB: 27) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:16:11) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:17:03) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m

ActionView::TemplateError (undefined method `unidade' for nil:NilClass) on line #60 of app/views/historicos/_notas_historico.erb:
57:                             <%=@notasB[acertoHTML].nota5%>
58:                             <% if !@carga_horaria.present?  and @notasD[acertoHTML].ano_letivo> 2015 %>
59:                                     <%session[:cargah_b][i]=1000 %>
60:                                     <% session[:escola][i]= @notasB[acertoHTML].matricula.unidade.nome %>
61:                                     <% session[:cidade][i]= @notasB[acertoHTML].matricula.unidade.cidade %>
62: 
63:                             <%else%>

    app/views/historicos/_notas_historico.erb:60
    app/views/historicos/_notas_historico.erb:45:in `each'
    app/views/historicos/_notas_historico.erb:45
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (156.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:17:16) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (0.9ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (5.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m

ActionView::TemplateError (undefined method `carga_horaria_b' for nil:NilClass) on line #64 of app/views/historicos/_notas_historico.erb:
61:                                     <% session[:cidade][i]= @notasB[acertoHTML].matricula.unidade.cidade %>
62: 
63:                             <%else%>
64:                                     <%session[:cargah_b][i]=@carga_horaria[0].carga_horaria_b %>
65:                                     <% session[:escola][i]= @carga_horaria[0].escola %>
66:                                     <% session[:cidade][i]= @carga_horaria[0].cidade %>
67: 

    app/views/historicos/_notas_historico.erb:64
    app/views/historicos/_notas_historico.erb:45:in `each'
    app/views/historicos/_notas_historico.erb:45
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (162.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:17:35) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.4ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m

ActionView::TemplateError (undefined method `carga_horaria_d' for nil:NilClass) on line #145 of app/views/historicos/_notas_historico.erb:
142:                                     <% session[:escola][i]= @notasD[acertoHTML].matricula.unidade.nome %>
143:                                     <% session[:cidade][i]= @notasD[acertoHTML].matricula.unidade.cidade %>
144:                             <%else%>
145:                                     <%session[:cargah_d][i]=@carga_horaria[0].carga_horaria_d %>
146:                                     <% session[:escola][i]= @carga_horaria[0].escola %>
147:                                     <% session[:cidade][i]= @carga_horaria[0].cidade %>
148: 

    app/views/historicos/_notas_historico.erb:145
    app/views/historicos/_notas_historico.erb:127:in `each'
    app/views/historicos/_notas_historico.erb:127
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (32.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:18:53) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (2.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (192.3ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.2ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:18:54' AND ends_at >= '2017-10-10 14:18:54') [0m
  [4;36;1mInformativo Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 646ms (View: 222, DB: 24) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:18:54) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#new (for 127.0.0.1 at 2017-10-10 11:19:02) [GET]
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mObservacaoHistorico Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
Rendering template within layouts/application
Rendering observacao_historicos/new
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:19:02' AND ends_at >= '2017-10-10 14:19:02') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 183ms (View: 158, DB: 7) | 200 OK [http://localhost/observacao_historicos/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#create (for 127.0.0.1 at 2017-10-10 11:19:11) [POST]
  Parameters: {"commit"=>"Salvar", "observacao_historico"=>{"ano_letivo"=>"2015", "cidade"=>"11111", "escola"=>"11111", "carga_horaria_d"=>"1111", "carga_horaria_b"=>"1111"}, "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mObservacaoHistorico Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mObservacaoHistorico Create (0.5ms)[0m   [0mINSERT INTO `observacao_historicos` (`quem`, `aluno_id`, `ano_letivo`, `escola`, `cidade`, `carga_horaria_b`, `carga_horaria_d`, `observacao`, `created_at`, `updated_at`) VALUES(NULL, 2772, 2015, '11111', '11111', 1111, 1111, NULL, '2017-10-10 14:19:11', '2017-10-10 14:19:11')[0m
  [4;36;1mSQL (48.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/observacao_historicos/19
Completed in 198ms (DB: 51) | 302 Found [http://localhost/observacao_historicos]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#show (for 127.0.0.1 at 2017-10-10 11:19:11) [GET]
  Parameters: {"id"=>"19"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mObservacaoHistorico Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.6ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (`observacao_historicos`.`id` = 19) [0m
Rendering template within layouts/application
Rendering observacao_historicos/show
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2772) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:19:12' AND ends_at >= '2017-10-10 14:19:12') [0m
  [4;36;1mInformativo Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 211ms (View: 71, DB: 7) | 200 OK [http://localhost/observacao_historicos/19]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:19:18) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.1ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;35;1mAluno Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.5ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.5ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.7ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mObservacaoHistorico Load (0.7ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (52.7ms)

ActionView::TemplateError (undefined method `data' for #<ObservacaoHistorico:0x7f2d5f4b3640>) on line #5 of app/views/historicos/_observacoes.html.erb:
2:     <% c=0 %>
3:     <% @historico_aluno.each do |obs|%>
4:           <b><%= c=c+1%>.</b> <%="#{obs.observacao}" %>  -
5:           <b>Data: </b> <%  if obs.data.nil?  %>
6:                             -
7:                         <%else%>
8:                             <%=  obs.data.strftime("%d/%m/%Y")%> - <%=  obs.quem %>

    app/views/historicos/_observacoes.html.erb:5
    app/views/historicos/_observacoes.html.erb:3:in `each'
    app/views/historicos/_observacoes.html.erb:3
    app/views/historicos/historico.html.erb:118
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (31.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:23:53) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.0ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (49.0ms)

ActionView::TemplateError (undefined method `observacao' for #<Array:0x7f2d5f0de2e0>) on line #4 of app/views/historicos/_observacoes.html.erb:
1:  
2:     <% c=0 %>
3:     <% @historico_aluno.each do |obs|%>
4:        <%  if  (!@historico_aluno.observacao.nil?) %>
5:           <b><%= c=c+1%>.</b> <%="#{obs.observacao}" %>  -
6:           <b>Data: </b> <%=  obs.created_at.strftime("%d/%m/%Y")%> - <%=  obs.quem %>
7:                         

    app/views/historicos/_observacoes.html.erb:4
    app/views/historicos/_observacoes.html.erb:3:in `each'
    app/views/historicos/_observacoes.html.erb:3
    app/views/historicos/historico.html.erb:118
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (156.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:42:32) [GET]
  Parameters: {"aluno_id"=>"2411", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (2.2ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2411') [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2411) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2411 )[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2411 )[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2411 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2411 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2411 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2411 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2411 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2411) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id =2411) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 56) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (30.4ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:42:32' AND ends_at >= '2017-10-10 14:42:32') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 471ms (View: 59, DB: 19) | 200 OK [http://localhost/historico?aluno_id=2411&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:42:33) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2411.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:42:44) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id =2772) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (53.7ms)

ActionView::TemplateError (undefined method `observacao' for #<Array:0x7f2d5f45ee10>) on line #4 of app/views/historicos/_observacoes.html.erb:
1:  
2:     <% c=0 %>
3:     <% @historico_aluno.each do |obs|%>
4:        <%  if  (!@historico_aluno.observacao.nil?) %>
5:           <b><%= c=c+1%>.</b> <%="#{obs.observacao}" %>  -
6:           <b>Data: </b> <%=  obs.created_at.strftime("%d/%m/%Y")%> - <%=  obs.quem %>
7:                         

    app/views/historicos/_observacoes.html.erb:4
    app/views/historicos/_observacoes.html.erb:3:in `each'
    app/views/historicos/_observacoes.html.erb:3
    app/views/historicos/historico.html.erb:118
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (30.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:43:21) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.0ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mObservacaoHistorico Load (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id =2772) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (2.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (170.8ms)
Rendered historicos/_observacoes (0.9ms)
Rendered historicos/_form_observacao (3.3ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:43:21' AND ends_at >= '2017-10-10 14:43:21') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 606ms (View: 202, DB: 21) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:43:22) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:43:35) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:43:58) [GET]
  Parameters: {"aluno_id"=>"2411", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (2.9ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2411') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2411) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2411 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2411 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2411 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2411 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2411 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2411 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2411 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2411) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mObservacaoHistorico Load (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id =2411) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mClasse Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 56) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2411 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4372) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (25.2ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.4ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:43:58' AND ends_at >= '2017-10-10 14:43:58') [0m
  [4;36;1mInformativo Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 449ms (View: 70, DB: 20) | 200 OK [http://localhost/historico?aluno_id=2411&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:43:59) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2411.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 11:44:05) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id =2772) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (53.0ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.4ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:44:06' AND ends_at >= '2017-10-10 14:44:06') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 578ms (View: 197, DB: 26) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 11:44:06) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-10 11:59:46) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 14:59:46' AND ends_at >= '2017-10-10 14:59:46') [0m
  [4;35;1mInformativo Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 206ms (View: 188, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-10 12:03:36) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:03:36' AND ends_at >= '2017-10-10 15:03:36') [0m
  [4;36;1mInformativo Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 59ms (View: 38, DB: 8) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 12:03:44) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (3.4ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:03:45' AND ends_at >= '2017-10-10 15:03:45') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 519ms (View: 169, DB: 16) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 12:03:51) [GET]
  Parameters: {"aluno_id"=>"14168", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='14168') [0m
  [4;35;1mAluno Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=14168) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (48.3ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =14168 )[0m
  [4;35;1mDisciplina Load (42.6ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =14168 )[0m
  [4;36;1mNota Load (58.7ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 14168 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (59.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 14168 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (62.3ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=14168 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (7.8ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 14168 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (53.0ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =14168 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (50.8ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =14168) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id =14168) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 16931) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.6ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 903) [0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 37) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (20.4ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.4ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:03:51' AND ends_at >= '2017-10-10 15:03:51') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 814ms (View: 55, DB: 400) | 200 OK [http://localhost/historico?aluno_id=14168&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 12:03:52) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/14168.jpg" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 12:03:57) [GET]
  Parameters: {"aluno_id"=>"2731", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.0ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2731') [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2731) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (42.6ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2731 )[0m
  [4;35;1mDisciplina Load (43.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2731 )[0m
  [4;36;1mNota Load (60.2ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (59.8ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (50.4ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2731 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (7.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2731 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (49.8ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2731 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (52.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2731) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id =2731) [0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (24.3ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:03:58' AND ends_at >= '2017-10-10 15:03:58') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 794ms (View: 56, DB: 382) | 200 OK [http://localhost/historico?aluno_id=2731&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 12:03:58) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2731.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#new (for 127.0.0.1 at 2017-10-10 12:04:03) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mAluno Load (1.8ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.8ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.7ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mNota Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
Rendering template within layouts/application
Rendering notas/new
  [4;35;1mDisciplina Load (1.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (tipo_un = 3) ORDER BY disciplina ASC[0m
  [4;36;1mDisciplina Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:04:03' AND ends_at >= '2017-10-10 15:04:03') [0m
  [4;36;1mInformativo Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 384ms (View: 48, DB: 16) | 200 OK [http://localhost/notas/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#botao (for 127.0.0.1 at 2017-10-10 12:04:12) [POST]
  Parameters: {"nota_ano_letivo"=>"2", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mAluno Load (1.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
Rendered notas/_ok (0.7ms)
Completed in 321ms (View: 4, DB: 8) | 200 OK [http://localhost/notas/botao]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#create (for 127.0.0.1 at 2017-10-10 12:04:18) [POST]
  Parameters: {"commit"=>"Salvar", "nota"=>{"faltas5"=>"0", "ano_letivo"=>"2015", "nota5"=>"10.0", "classe"=>"2", "disciplina_id"=>"1"}, "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Load (1.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (48.0ms)[0m   [0;1mSELECT id,aluno_id FROM `notas` WHERE (aluno_id =2731 and disciplina_id=1 and ano_letivo=2015) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mNota Create (0.7ms)[0m   [0;1mINSERT INTO `notas` (`obs1`, `aluno_id`, `professor_id`, `unidade_id`, `faltas1`, `aulas1`, `faltas2`, `aulas2`, `faltas3`, `aulas3`, `faltas4`, `aulas4`, `faltas5`, `aulas5`, `ativo`, `ano_letivo`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`, `atribuicao_id`, `escola`, `cidade`, `nota1`, `nota2`, `nota3`, `nota4`, `nota5`, `classe`, `created_at`, `updated_at`, `disciplina_id`, `bimestre`, `matricula_id`) VALUES(NULL, 2731, NULL, 43, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, NULL, 2015, 100, 100, 100, 100, 100, NULL, NULL, '', NULL, NULL, NULL, NULL, '10.0', 2, '2017-10-10 15:04:19', '2017-10-10 15:04:19', 1, NULL, NULL)[0m
  [4;35;1mSQL (205.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/notas/155861
Completed in 675ms (DB: 262) | 302 Found [http://localhost/notas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#show (for 127.0.0.1 at 2017-10-10 12:04:19) [GET]
  Parameters: {"id"=>"155861"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 155861) [0m
Rendering template within layouts/application
Rendering notas/show
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2731) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:04:19' AND ends_at >= '2017-10-10 15:04:19') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 392ms (View: 157, DB: 10) | 200 OK [http://localhost/notas/155861]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#new1 (for 127.0.0.1 at 2017-10-10 12:04:22) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Load (1.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
Rendering template within layouts/application
Rendering notas/new1
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:04:22' AND ends_at >= '2017-10-10 15:04:22') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 408ms (View: 172, DB: 10) | 200 OK [http://localhost/notas/new1?]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#create (for 127.0.0.1 at 2017-10-10 12:04:37) [POST]
  Parameters: {"commit"=>"Salvar", "nota"=>{"aluno_id"=>"2731", "faltas5"=>"0", "nota5"=>"7.0", "disciplina_id"=>"4"}, "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (55.1ms)[0m   [0;1mSELECT id,aluno_id FROM `notas` WHERE (aluno_id =2731 and disciplina_id=4 and ano_letivo=NULL) [0m
  [4;35;1mDisciplina Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mNota Create (0.6ms)[0m   [0;1mINSERT INTO `notas` (`obs1`, `aluno_id`, `professor_id`, `unidade_id`, `faltas1`, `aulas1`, `faltas2`, `aulas2`, `faltas3`, `aulas3`, `faltas4`, `aulas4`, `faltas5`, `aulas5`, `ativo`, `ano_letivo`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`, `atribuicao_id`, `escola`, `cidade`, `nota1`, `nota2`, `nota3`, `nota4`, `nota5`, `classe`, `created_at`, `updated_at`, `disciplina_id`, `bimestre`, `matricula_id`) VALUES(NULL, 2731, NULL, 43, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, NULL, 2015, 100, 100, 100, 100, 100, NULL, NULL, '', NULL, NULL, NULL, NULL, '7.0', 2, '2017-10-10 15:04:37', '2017-10-10 15:04:37', 4, NULL, NULL)[0m
  [4;35;1mSQL (50.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/notas/155862
Completed in 359ms (DB: 115) | 302 Found [http://localhost/notas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#show (for 127.0.0.1 at 2017-10-10 12:04:37) [GET]
  Parameters: {"id"=>"155862"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.5ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 155862) [0m
Rendering template within layouts/application
Rendering notas/show
  [4;35;1mAluno Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2731) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:04:38' AND ends_at >= '2017-10-10 15:04:38') [0m
  [4;36;1mInformativo Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 407ms (View: 45, DB: 12) | 200 OK [http://localhost/notas/155862]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#new (for 127.0.0.1 at 2017-10-10 12:04:39) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
Rendering template within layouts/application
Rendering notas/new
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (tipo_un = 3) ORDER BY disciplina ASC[0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:04:40' AND ends_at >= '2017-10-10 15:04:40') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 397ms (View: 31, DB: 10) | 200 OK [http://localhost/notas/new?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#botao (for 127.0.0.1 at 2017-10-10 12:04:52) [POST]
  Parameters: {"nota_ano_letivo"=>"1", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mProfessor Load (2.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
Rendered notas/_ok (0.3ms)
Completed in 236ms (View: 1, DB: 7) | 200 OK [http://localhost/notas/botao]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#create (for 127.0.0.1 at 2017-10-10 12:04:54) [POST]
  Parameters: {"commit"=>"Salvar", "nota"=>{"faltas5"=>"0", "ano_letivo"=>"2014", "nota5"=>"4.0", "classe"=>"1", "disciplina_id"=>"1"}, "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mAluno Load (1.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mProfessor Load (1.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (51.7ms)[0m   [0mSELECT id,aluno_id FROM `notas` WHERE (aluno_id =2731 and disciplina_id=1 and ano_letivo=2014) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mNota Create (0.3ms)[0m   [0mINSERT INTO `notas` (`obs1`, `aluno_id`, `professor_id`, `unidade_id`, `faltas1`, `aulas1`, `faltas2`, `aulas2`, `faltas3`, `aulas3`, `faltas4`, `aulas4`, `faltas5`, `aulas5`, `ativo`, `ano_letivo`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`, `atribuicao_id`, `escola`, `cidade`, `nota1`, `nota2`, `nota3`, `nota4`, `nota5`, `classe`, `created_at`, `updated_at`, `disciplina_id`, `bimestre`, `matricula_id`) VALUES(NULL, 2731, NULL, 43, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, NULL, 2014, 100, 100, 100, 100, 100, NULL, NULL, '', NULL, NULL, NULL, NULL, '4.0', 1, '2017-10-10 15:04:54', '2017-10-10 15:04:54', 1, NULL, NULL)[0m
  [4;36;1mSQL (54.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/notas/155863
Completed in 466ms (DB: 113) | 302 Found [http://localhost/notas]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#show (for 127.0.0.1 at 2017-10-10 12:04:55) [GET]
  Parameters: {"id"=>"155863"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mAluno Load (2.8ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 155863) [0m
Rendering template within layouts/application
Rendering notas/show
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2731) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:04:55' AND ends_at >= '2017-10-10 15:04:55') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 414ms (View: 160, DB: 11) | 200 OK [http://localhost/notas/155863]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historicoContinua (for 127.0.0.1 at 2017-10-10 12:04:57) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.5ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.6ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.0ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2731) [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2731) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (55.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2731 )[0m
  [4;35;1mDisciplina Load (42.4ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2731 )[0m
  [4;36;1mNota Load (58.5ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (62.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO'OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (51.8ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2731 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2731 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (52.0ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2731 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (54.5ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2731) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historicoContinua
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (33.0ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:04:58' AND ends_at >= '2017-10-10 15:04:58') [0m
  [4;36;1mInformativo Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 1061ms (View: 191, DB: 399) | 200 OK [http://localhost/historicoContinua]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 12:04:58) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2731.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 12:05:05) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2731) [0m
  [4;35;1mAluno Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2731) [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2731 )[0m
  [4;35;1mNota Load (71.5ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (58.6ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.4ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2731 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2731 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2731 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2731) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mNota Load (74.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =2731 AND disciplinas.curriculo = 'B' and unidade_id =43 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mClasse Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mMatricula Load (0.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17262) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2731) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17262) [0m
  [4;35;1mClasse Load (0.5ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 899) [0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 634ms (View: 61, DB: 230) | 200 OK [http://localhost/impressao_historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DisciplinasController#new (for 127.0.0.1 at 2017-10-10 12:05:12) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
Rendering template within layouts/application
Rendering disciplinas/new
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:05:12' AND ends_at >= '2017-10-10 15:05:12') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 189ms (View: 167, DB: 5) | 200 OK [http://localhost/disciplinas/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DisciplinasController#create (for 127.0.0.1 at 2017-10-10 12:05:25) [POST]
  Parameters: {"NovaDisciplina"=>"testeB", "commit"=>"SALVAR", "NovoAnoLetivo"=>"2015", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY=", "NovoCurriculo"=>"BÁSICO", "NovaNota"=>"10.0", "NovaClasse"=>"2"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.7ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") ORDER BY ordem ASC[0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDisciplina Create (0.5ms)[0m   [0mINSERT INTO `disciplinas` (`disciplina`, `ano_letivo`, `tipo_un`, `nucleo_comum`, `curriculo`, `created_at`, `updated_at`, `ordem`) VALUES('TESTEB', 2015, 3, 0, 'B', '2017-10-10 15:05:25', '2017-10-10 15:05:25', 14)[0m
  [4;36;1mSQL (53.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mNota Create (0.5ms)[0m   [0;1mINSERT INTO `notas` (`obs1`, `aluno_id`, `professor_id`, `unidade_id`, `faltas1`, `aulas1`, `faltas2`, `aulas2`, `faltas3`, `aulas3`, `faltas4`, `aulas4`, `faltas5`, `aulas5`, `ativo`, `ano_letivo`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`, `atribuicao_id`, `escola`, `cidade`, `nota1`, `nota2`, `nota3`, `nota4`, `nota5`, `classe`, `created_at`, `updated_at`, `disciplina_id`, `bimestre`, `matricula_id`) VALUES(NULL, 2731, NULL, NULL, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, NULL, 2015, 100, 100, 100, 100, 100, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '10.0', 2, '2017-10-10 15:05:25', '2017-10-10 15:05:25', 45, NULL, NULL)[0m
  [4;35;1mSQL (43.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/disciplinas/45
Completed in 287ms (DB: 102) | 302 Found [http://localhost/disciplinas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DisciplinasController#show (for 127.0.0.1 at 2017-10-10 12:05:25) [GET]
  Parameters: {"id"=>"45"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mDisciplina Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 45) [0m
  [4;36;1mNota Load (213.8ms)[0m   [0;1mSELECT * FROM `notas` WHERE (disciplina_id = 45) [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
Rendering template within layouts/application
Rendering disciplinas/show
  [4;36;1mAluno Columns (3.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2731) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mUnidade Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 45) [0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:05:25' AND ends_at >= '2017-10-10 15:05:25') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 325ms (View: 63, DB: 226) | 200 OK [http://localhost/disciplinas/45]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historicoContinua (for 127.0.0.1 at 2017-10-10 12:05:27) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2731) [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2731) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (46.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2731 )[0m
  [4;35;1mDisciplina Load (43.3ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2731 )[0m
  [4;36;1mNota Load (59.8ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (58.7ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO'OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (48.7ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2731 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2731 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (50.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2731 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (50.9ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2731) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historicoContinua
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 45) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
Rendered historicos/_notas_historico (145.2ms)
Rendered historicos/_observacoes (0.2ms)
Rendered historicos/_form_observacao (3.3ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:05:28' AND ends_at >= '2017-10-10 15:05:28') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 908ms (View: 170, DB: 376) | 200 OK [http://localhost/historicoContinua]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 12:05:28) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2731.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DisciplinasController#new (for 127.0.0.1 at 2017-10-10 12:05:38) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
Rendering template within layouts/application
Rendering disciplinas/new
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:05:38' AND ends_at >= '2017-10-10 15:05:38') [0m
  [4;35;1mInformativo Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 205ms (View: 36, DB: 5) | 200 OK [http://localhost/disciplinas/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DisciplinasController#create (for 127.0.0.1 at 2017-10-10 12:05:59) [POST]
  Parameters: {"NovaDisciplina"=>"testeD", "commit"=>"SALVAR", "NovoAnoLetivo"=>"2014", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY=", "NovoCurriculo"=>"DIVERSIFICADO", "NovaNota"=>"F", "NovaClasse"=>"1"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") ORDER BY ordem ASC[0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDisciplina Create (0.4ms)[0m   [0mINSERT INTO `disciplinas` (`disciplina`, `ano_letivo`, `tipo_un`, `nucleo_comum`, `curriculo`, `created_at`, `updated_at`, `ordem`) VALUES('TESTED', 2014, 3, 0, 'D', '2017-10-10 15:05:59', '2017-10-10 15:05:59', 15)[0m
  [4;36;1mSQL (54.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mNota Create (0.6ms)[0m   [0;1mINSERT INTO `notas` (`obs1`, `aluno_id`, `professor_id`, `unidade_id`, `faltas1`, `aulas1`, `faltas2`, `aulas2`, `faltas3`, `aulas3`, `faltas4`, `aulas4`, `faltas5`, `aulas5`, `ativo`, `ano_letivo`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`, `atribuicao_id`, `escola`, `cidade`, `nota1`, `nota2`, `nota3`, `nota4`, `nota5`, `classe`, `created_at`, `updated_at`, `disciplina_id`, `bimestre`, `matricula_id`) VALUES(NULL, 2731, NULL, NULL, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, NULL, 2014, 100, 100, 100, 100, 100, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 'F', 1, '2017-10-10 15:05:59', '2017-10-10 15:05:59', 46, NULL, NULL)[0m
  [4;35;1mSQL (43.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/disciplinas/46
Completed in 148ms (DB: 103) | 302 Found [http://localhost/disciplinas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DisciplinasController#show (for 127.0.0.1 at 2017-10-10 12:06:00) [GET]
  Parameters: {"id"=>"46"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mDisciplina Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 46) [0m
  [4;36;1mNota Load (213.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (disciplina_id = 46) [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
Rendering template within layouts/application
Rendering disciplinas/show
  [4;36;1mAluno Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2731) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 46) [0m
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:06:00' AND ends_at >= '2017-10-10 15:06:00') [0m
  [4;36;1mInformativo Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 424ms (View: 165, DB: 227) | 200 OK [http://localhost/disciplinas/46]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historicoContinua (for 127.0.0.1 at 2017-10-10 12:06:02) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.7ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.7ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.6ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.3ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2731) [0m
  [4;35;1mAluno Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2731) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (49.9ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2731 )[0m
  [4;35;1mDisciplina Load (42.8ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2731 )[0m
  [4;36;1mNota Load (58.4ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (59.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO'OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (52.8ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2731 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2731 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (51.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2731 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (50.8ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2731) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historicoContinua
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 45) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.6ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 46) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (59.4ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.4ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:06:03' AND ends_at >= '2017-10-10 15:06:03') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 854ms (View: 85, DB: 394) | 200 OK [http://localhost/historicoContinua]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 12:06:03) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2731.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#create_observacao_historico (for 127.0.0.1 at 2017-10-10 12:06:19) [POST]
  Parameters: {"observacao_historico"=>{"quem"=>"", "observacao"=>"teste obsr"}, "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (2.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mObservacaoHistorico Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m

NoMethodError (undefined method `data=' for #<ObservacaoHistorico:0x7f2d5f912650>):
  app/controllers/historicos_controller.rb:127:in `create_observacao_historico'

Rendered rescues/_trace (19.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 12:06:21) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.7ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (3.4ms)
  [4;36;1mInformativo Load (0.8ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:06:22' AND ends_at >= '2017-10-10 15:06:22') [0m
  [4;35;1mInformativo Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 423ms (View: 52, DB: 16) | 200 OK [http://localhost/historicos/historico?]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historicoContinua (for 127.0.0.1 at 2017-10-10 12:08:11) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2731) [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2731) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2731 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2731 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO'OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2731 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2731 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2731 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2731) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historicoContinua
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 45) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 46) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (35.1ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.1ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:08:12' AND ends_at >= '2017-10-10 15:08:12') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 570ms (View: 180, DB: 15) | 200 OK [http://localhost/historicoContinua]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 12:08:12) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2731.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#create_observacao_historico (for 127.0.0.1 at 2017-10-10 12:08:22) [POST]
  Parameters: {"observacao_historico"=>{"quem"=>"asdasd", "observacao"=>"teste obs"}, "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mObservacaoHistorico Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mObservacaoHistorico Create (0.6ms)[0m   [0mINSERT INTO `observacao_historicos` (`quem`, `aluno_id`, `ano_letivo`, `escola`, `cidade`, `carga_horaria_b`, `carga_horaria_d`, `observacao`, `created_at`, `updated_at`) VALUES('ASDASD', 2731, 2017, NULL, NULL, NULL, NULL, 'TESTE OBS', '2017-10-10 15:08:22', '2017-10-10 15:08:22')[0m
  [4;36;1mSQL (52.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mObservacaoHistorico Load (0.7ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2731) [0m
Rendered historicos/_observacoes (0.7ms)
Completed in 386ms (View: 4, DB: 65) | 200 OK [http://localhost/historicos/create_observacao_historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#new (for 127.0.0.1 at 2017-10-10 12:08:28) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mObservacaoHistorico Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
Rendering template within layouts/application
Rendering observacao_historicos/new
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:08:28' AND ends_at >= '2017-10-10 15:08:28') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 204ms (View: 40, DB: 5) | 200 OK [http://localhost/observacao_historicos/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#create (for 127.0.0.1 at 2017-10-10 12:08:39) [POST]
  Parameters: {"commit"=>"Salvar", "observacao_historico"=>{"ano_letivo"=>"2015", "cidade"=>"11111", "escola"=>"1111", "carga_horaria_d"=>"11", "carga_horaria_b"=>"111"}, "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mObservacaoHistorico Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mObservacaoHistorico Create (0.3ms)[0m   [0;1mINSERT INTO `observacao_historicos` (`quem`, `aluno_id`, `ano_letivo`, `escola`, `cidade`, `carga_horaria_b`, `carga_horaria_d`, `observacao`, `created_at`, `updated_at`) VALUES(NULL, 2731, 2015, '1111', '11111', 111, 11, NULL, '2017-10-10 15:08:39', '2017-10-10 15:08:39')[0m
  [4;35;1mSQL (49.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/observacao_historicos/21
Completed in 73ms (DB: 51) | 302 Found [http://localhost/observacao_historicos]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#show (for 127.0.0.1 at 2017-10-10 12:08:40) [GET]
  Parameters: {"id"=>"21"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mObservacaoHistorico Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (`observacao_historicos`.`id` = 21) [0m
Rendering template within layouts/application
Rendering observacao_historicos/show
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2731) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:08:40' AND ends_at >= '2017-10-10 15:08:40') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 79ms (View: 55, DB: 7) | 200 OK [http://localhost/observacao_historicos/21]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historicoContinua (for 127.0.0.1 at 2017-10-10 12:08:45) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2731) [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2731) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2731 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2731 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO'OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2731 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2731 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2731 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2731) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historicoContinua
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.6ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 45) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 46) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (155.8ms)
Rendered historicos/_observacoes (0.3ms)
Rendered historicos/_form_observacao (2.6ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:08:46' AND ends_at >= '2017-10-10 15:08:46') [0m
  [4;35;1mInformativo Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 547ms (View: 178, DB: 22) | 200 OK [http://localhost/historicoContinua]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 12:08:46) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2731.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#new (for 127.0.0.1 at 2017-10-10 12:09:45) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
Rendering template within layouts/application
Rendering notas/new
  [4;36;1mDisciplina Load (0.6ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (tipo_un = 3) ORDER BY disciplina ASC[0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:09:46' AND ends_at >= '2017-10-10 15:09:46') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 503ms (View: 137, DB: 10) | 200 OK [http://localhost/notas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#botao (for 127.0.0.1 at 2017-10-10 12:09:56) [POST]
  Parameters: {"nota_ano_letivo"=>"2", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
Rendered notas/_ok (0.3ms)
Completed in 345ms (View: 1, DB: 7) | 200 OK [http://localhost/notas/botao]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#create (for 127.0.0.1 at 2017-10-10 12:10:00) [POST]
  Parameters: {"commit"=>"Salvar", "nota"=>{"faltas5"=>"0", "ano_letivo"=>"2015", "nota5"=>"F", "classe"=>"2", "disciplina_id"=>"15"}, "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mAluno Load (1.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mProfessor Load (1.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (48.3ms)[0m   [0mSELECT id,aluno_id FROM `notas` WHERE (aluno_id =2731 and disciplina_id=15 and ano_letivo=2015) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mNota Create (0.4ms)[0m   [0mINSERT INTO `notas` (`obs1`, `aluno_id`, `professor_id`, `unidade_id`, `faltas1`, `aulas1`, `faltas2`, `aulas2`, `faltas3`, `aulas3`, `faltas4`, `aulas4`, `faltas5`, `aulas5`, `ativo`, `ano_letivo`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`, `atribuicao_id`, `escola`, `cidade`, `nota1`, `nota2`, `nota3`, `nota4`, `nota5`, `classe`, `created_at`, `updated_at`, `disciplina_id`, `bimestre`, `matricula_id`) VALUES(NULL, 2731, NULL, 43, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, NULL, 2015, 100, 100, 100, 100, 100, NULL, NULL, '', NULL, NULL, NULL, NULL, 'F', 2, '2017-10-10 15:10:00', '2017-10-10 15:10:00', 15, NULL, NULL)[0m
  [4;36;1mSQL (53.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/notas/155866
Completed in 346ms (DB: 110) | 302 Found [http://localhost/notas]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#show (for 127.0.0.1 at 2017-10-10 12:10:00) [GET]
  Parameters: {"id"=>"155866"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mAluno Load (1.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 155866) [0m
Rendering template within layouts/application
Rendering notas/show
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2731) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:10:01' AND ends_at >= '2017-10-10 15:10:01') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 383ms (View: 39, DB: 10) | 200 OK [http://localhost/notas/155866]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historicoContinua (for 127.0.0.1 at 2017-10-10 12:10:02) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.7ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.3ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2731) [0m
  [4;35;1mAluno Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2731) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (53.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2731 )[0m
  [4;35;1mDisciplina Load (42.9ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2731 )[0m
  [4;36;1mNota Load (58.3ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (58.8ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO'OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (49.8ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2731 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2731 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (49.8ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2731 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (50.0ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2731) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historicoContinua
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 46) [0m
  [4;36;1mObservacaoHistorico Load (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (45.5ms)
Rendered historicos/_observacoes (0.3ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:10:03' AND ends_at >= '2017-10-10 15:10:03') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 965ms (View: 194, DB: 385) | 200 OK [http://localhost/historicoContinua]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 12:10:03) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2731.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#new (for 127.0.0.1 at 2017-10-10 12:10:12) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mObservacaoHistorico Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
Rendering template within layouts/application
Rendering observacao_historicos/new
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:10:12' AND ends_at >= '2017-10-10 15:10:12') [0m
  [4;36;1mInformativo Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 189ms (View: 161, DB: 9) | 200 OK [http://localhost/observacao_historicos/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#create (for 127.0.0.1 at 2017-10-10 12:10:22) [POST]
  Parameters: {"commit"=>"Salvar", "observacao_historico"=>{"ano_letivo"=>"2014", "cidade"=>"222222", "escola"=>"22222", "carga_horaria_d"=>"22", "carga_horaria_b"=>"2222"}, "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mObservacaoHistorico Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mObservacaoHistorico Create (0.7ms)[0m   [0;1mINSERT INTO `observacao_historicos` (`quem`, `aluno_id`, `ano_letivo`, `escola`, `cidade`, `carga_horaria_b`, `carga_horaria_d`, `observacao`, `created_at`, `updated_at`) VALUES(NULL, 2731, 2014, '22222', '222222', 2222, 22, NULL, '2017-10-10 15:10:22', '2017-10-10 15:10:22')[0m
  [4;35;1mSQL (56.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/observacao_historicos/22
Completed in 87ms (DB: 61) | 302 Found [http://localhost/observacao_historicos]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#show (for 127.0.0.1 at 2017-10-10 12:10:22) [GET]
  Parameters: {"id"=>"22"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mObservacaoHistorico Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (`observacao_historicos`.`id` = 22) [0m
Rendering template within layouts/application
Rendering observacao_historicos/show
  [4;36;1mAluno Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2731) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:10:22' AND ends_at >= '2017-10-10 15:10:22') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 209ms (View: 63, DB: 8) | 200 OK [http://localhost/observacao_historicos/22]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historicoContinua (for 127.0.0.1 at 2017-10-10 12:10:24) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2731) [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2731) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2731 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2731 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO'OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2731 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2731 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2731 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2731) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historicoContinua
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 45) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;36;1mDisciplina Load (2.7ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 46) [0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (156.3ms)
Rendered historicos/_observacoes (0.4ms)
Rendered historicos/_form_observacao (2.9ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:10:24' AND ends_at >= '2017-10-10 15:10:24') [0m
  [4;36;1mInformativo Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 547ms (View: 176, DB: 20) | 200 OK [http://localhost/historicoContinua]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 12:10:25) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2731.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 12:10:34) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2731) [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2731) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2731 )[0m
  [4;35;1mNota Load (64.6ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (57.2ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2731 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2731 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2731 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2731) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mNota Load (74.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =2731 AND disciplinas.curriculo = 'B' and unidade_id =43 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (1.9ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 46) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17262) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2731) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17262) [0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 899) [0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 787ms (View: 135, DB: 214) | 200 OK [http://localhost/impressao_historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-10 12:31:44) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:31:44' AND ends_at >= '2017-10-10 15:31:44') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 57ms (View: 37, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 12:31:49) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.0ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:31:50' AND ends_at >= '2017-10-10 15:31:50') [0m
  [4;36;1mInformativo Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=43) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 499ms (View: 155, DB: 10) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 12:31:53) [GET]
  Parameters: {"aluno_id"=>"2772", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (0.9ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2772') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.6ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (47.6ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2772 )[0m
  [4;36;1mDisciplina Load (43.4ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;35;1mNota Load (59.4ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (62.4ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (49.7ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (52.9ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (51.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.5ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (49.9ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.4ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 15:31:54' AND ends_at >= '2017-10-10 15:31:54') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=43) [0m
Completed in 990ms (View: 78, DB: 387) | 200 OK [http://localhost/historico?aluno_id=2772&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 12:31:54) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2772.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#create_observacao_historico (for 127.0.0.1 at 2017-10-10 12:41:50) [POST]
  Parameters: {"observacao_historico"=>{"quem"=>"", "observacao"=>"teste"}, "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (0.9ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mObservacaoHistorico Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mObservacaoHistorico Create (0.4ms)[0m   [0mINSERT INTO `observacao_historicos` (`quem`, `aluno_id`, `ano_letivo`, `escola`, `cidade`, `carga_horaria_b`, `carga_horaria_d`, `observacao`, `created_at`, `updated_at`) VALUES('', 2772, 2017, NULL, NULL, NULL, NULL, 'TESTE', '2017-10-10 15:41:51', '2017-10-10 15:41:51')[0m
  [4;36;1mSQL (50.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mObservacaoHistorico Load (0.5ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
Rendered historicos/_observacoes (0.6ms)
Completed in 375ms (View: 3, DB: 58) | 200 OK [http://localhost/historicos/create_observacao_historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 12:41:52) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (0.8ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2772) [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (57.8ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (57.6ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mNota Load (67.8ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =2772 AND disciplinas.curriculo = 'B' and unidade_id =43 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17320) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2772) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17320) [0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 898) [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 774ms (View: 31, DB: 199) | 200 OK [http://localhost/impressao_historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 12:42:55) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (0.9ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2772) [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =2772 AND disciplinas.curriculo = 'B' and unidade_id =43 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17320) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2772) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17320) [0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 898) [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 452ms (View: 46, DB: 16) | 200 OK [http://localhost/impressao_historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 12:44:16) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2772) [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =2772 AND disciplinas.curriculo = 'B' and unidade_id =43 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (1.9ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17320) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2772) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17320) [0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 898) [0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 523ms (View: 159, DB: 18) | 200 OK [http://localhost/impressao_historico]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 12:44:47) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2772) [0m
  [4;36;1mAluno Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =2772 AND disciplinas.curriculo = 'B' and unidade_id =43 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17320) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2772) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17320) [0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 898) [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 639ms (View: 58, DB: 25) | 200 OK [http://localhost/impressao_historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 12:45:29) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2772) [0m
  [4;36;1mAluno Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =2772 AND disciplinas.curriculo = 'B' and unidade_id =43 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17320) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2772) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17320) [0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 898) [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 452ms (View: 55, DB: 27) | 200 OK [http://localhost/impressao_historico]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 12:46:02) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 43 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=43 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=43 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (0.9ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =43 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 43 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 43) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =2772) [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2772) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2772 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2772 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2772 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2772 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2772 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2772) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =2772 AND disciplinas.curriculo = 'B' and unidade_id =43 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;35;1mDisciplina Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4833) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 44) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2772 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17320) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 2772) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 17320) [0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 898) [0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 509ms (View: 147, DB: 15) | 200 OK [http://localhost/impressao_historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-10 13:55:54) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 16:55:54' AND ends_at >= '2017-10-10 16:55:54') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.7ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 280ms (View: 171, DB: 7) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 13:56:00) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.1ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (2.8ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (10.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (1.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (18.1ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (197.9ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.9ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.7ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (6.7ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 16:56:00' AND ends_at >= '2017-10-10 16:56:00') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 696ms (View: 160, DB: 240) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 13:56:10) [GET]
  Parameters: {"aluno_id"=>"4285", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.4ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.5ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='4285') [0m
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=4285) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;35;1mDisciplina Load (43.8ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =4285 )[0m
  [4;36;1mDisciplina Load (42.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =4285 )[0m
  [4;35;1mNota Load (58.6ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 4285 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (62.4ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 4285 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (51.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=4285 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (10.9ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 4285 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (53.6ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =4285 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (52.8ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =4285) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mMatricula Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.5ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;35;1mClasse Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 162) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2011 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 33) [0m
Rendered historicos/_notas_historico (36.9ms)
Rendered historicos/_observacoes (0.8ms)
Rendered historicos/_form_observacao (2.8ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 16:56:11' AND ends_at >= '2017-10-10 16:56:11') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 949ms (View: 80, DB: 396) | 200 OK [http://localhost/historico?aluno_id=4285&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 13:56:12) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/4285.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 13:56:19) [GET]
  Parameters: {"aluno_id"=>"2731", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (2.8ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='2731') [0m
  [4;35;1mAluno Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=2731) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =2731 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =2731 )[0m
  [4;36;1mNota Load (59.6ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (60.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 2731 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=2731 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 2731 AND unidade_id = 43) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =2731 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =2731) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mMatricula Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 58) [0m
  [4;36;1mDisciplina Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.6ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.6ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Load (0.6ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 45) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.6ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;35;1mObservacaoHistorico Load (0.6ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 4835) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 43) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 35) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 38) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 46) [0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2014 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=2731 AND carga_horaria_d IS NOT NULL) [0m
Rendered historicos/_notas_historico (66.4ms)
Rendered historicos/_observacoes (0.3ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 16:56:20' AND ends_at >= '2017-10-10 16:56:20') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 651ms (View: 190, DB: 148) | 200 OK [http://localhost/historico?aluno_id=2731&commit=Visualizar]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 13:56:20) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/2731.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 13:56:31) [GET]
  Parameters: {"aluno_id"=>"1902", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='1902') [0m
  [4;36;1mAluno Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=1902) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;35;1mDisciplina Load (48.3ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =1902 )[0m
  [4;36;1mDisciplina Load (42.4ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =1902 )[0m
  [4;35;1mNota Load (59.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1902 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (58.7ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 1902 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (49.7ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=1902 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (17.6ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 1902 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (53.0ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =1902 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (54.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =1902) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;35;1mClasse Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 149) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 5) [0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 15) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.6ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=1902 AND carga_horaria_d IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2598) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
Rendered historicos/_notas_historico (28.9ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.5ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 16:56:32' AND ends_at >= '2017-10-10 16:56:32') [0m
  [4;35;1mInformativo Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 871ms (View: 156, DB: 401) | 200 OK [http://localhost/historico?aluno_id=1902&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 13:56:33) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/1902.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 13:58:41) [GET]
  Parameters: {"aluno_id"=>"15231", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.4ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='15231') [0m
  [4;36;1mAluno Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15231) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;35;1mDisciplina Load (46.7ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =15231 )[0m
  [4;36;1mDisciplina Load (43.8ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15231 )[0m
  [4;35;1mNota Load (59.7ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15231 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (59.8ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15231 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (49.2ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15231 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (4.8ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 15231 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (50.0ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15231 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (51.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15231) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21334) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;35;1mDisciplina Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15231 AND carga_horaria_b IS NOT NULL) [0m

ActionView::TemplateError (undefined method `unidade' for nil:NilClass) on line #60 of app/views/historicos/_notas_historico.erb:
57:                             <%=@notasB[acertoHTML].nota5%>
58:                             <% if !@carga_horaria.present?  and @notasB[acertoHTML].ano_letivo> 2015 %>
59:                                     <%session[:cargah_b][i]=1000 %>
60:                                     <% session[:escola][i]= @notasB[acertoHTML].matricula.unidade.nome %>
61:                                     <% session[:cidade][i]= @notasB[acertoHTML].matricula.unidade.cidade %>
62: 
63:                             <%else%>

    app/views/historicos/_notas_historico.erb:60
    app/views/historicos/_notas_historico.erb:45:in `each'
    app/views/historicos/_notas_historico.erb:45
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (127.9ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 13:59:19) [GET]
  Parameters: {"aluno_id"=>"15457", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (1.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.7ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='15457') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;35;1mDisciplina Load (48.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =15457 )[0m
  [4;36;1mDisciplina Load (42.3ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;35;1mNota Load (58.4ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (58.6ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (48.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (3.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (51.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (50.7ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
Rendered historicos/_notas_historico (15.1ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.8ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 16:59:20' AND ends_at >= '2017-10-10 16:59:20') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 890ms (View: 50, DB: 377) | 200 OK [http://localhost/historico?aluno_id=15457&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 13:59:20) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/15457.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-10 14:14:11) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:14:11' AND ends_at >= '2017-10-10 17:14:11') [0m
  [4;36;1mInformativo Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 140ms (View: 121, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 14:14:14) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.4ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:14:14' AND ends_at >= '2017-10-10 17:14:14') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 439ms (View: 141, DB: 14) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 14:14:32) [GET]
  Parameters: {"aluno_id"=>"15457", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.5ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.7ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='15457') [0m
  [4;35;1mAluno Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =15457 )[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
Rendered historicos/_notas_historico (25.6ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:14:32' AND ends_at >= '2017-10-10 17:14:32') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 540ms (View: 58, DB: 24) | 200 OK [http://localhost/historico?aluno_id=15457&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 14:14:33) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/15457.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-10 14:24:35) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:24:35' AND ends_at >= '2017-10-10 17:24:35') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.4ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 56ms (View: 38, DB: 6) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 14:24:38) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (24.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (2.9ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (14.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (1.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (10.0ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (1.4ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (21.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (206.8ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (1.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.8ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mAluno Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.8ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:24:39' AND ends_at >= '2017-10-10 17:24:39') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 631ms (View: 55, DB: 291) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 14:24:44) [GET]
  Parameters: {"aluno_id"=>"4285", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='4285') [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=4285) [0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;35;1mDisciplina Load (46.9ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =4285 )[0m
  [4;36;1mDisciplina Load (42.9ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =4285 )[0m
  [4;35;1mNota Load (58.8ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 4285 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (59.2ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 4285 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (48.3ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=4285 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (9.5ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 4285 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (49.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =4285 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (50.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =4285) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 162) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2011 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 33) [0m
Rendered historicos/_notas_historico (25.2ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.4ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:24:44' AND ends_at >= '2017-10-10 17:24:44') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 865ms (View: 155, DB: 383) | 200 OK [http://localhost/historico?aluno_id=4285&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 14:24:45) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/4285.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#new (for 127.0.0.1 at 2017-10-10 14:24:49) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mAluno Load (37.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.9ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.9ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mNota Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
Rendering template within layouts/application
Rendering notas/new
  [4;35;1mDisciplina Load (1.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (tipo_un = 3) ORDER BY disciplina ASC[0m
  [4;36;1mDisciplina Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:24:49' AND ends_at >= '2017-10-10 17:24:49') [0m
  [4;36;1mInformativo Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 373ms (View: 125, DB: 51) | 200 OK [http://localhost/notas/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#botao (for 127.0.0.1 at 2017-10-10 14:24:59) [POST]
  Parameters: {"nota_ano_letivo"=>"7", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mAluno Load (1.6ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mProfessor Load (2.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
Rendered notas/_ok (0.7ms)
Completed in 226ms (View: 4, DB: 9) | 200 OK [http://localhost/notas/botao]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#create (for 127.0.0.1 at 2017-10-10 14:25:00) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY=", "nota"=>{"faltas5"=>"0", "classe"=>"7", "ano_letivo"=>"2015", "disciplina_id"=>"7", "nota5"=>""}, "commit"=>"Salvar"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Load (1.8ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (50.2ms)[0m   [0;1mSELECT id,aluno_id FROM `notas` WHERE (aluno_id =4285 and disciplina_id=7 and ano_letivo=2015) [0m
  [4;35;1mDisciplina Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mNota Create (0.4ms)[0m   [0;1mINSERT INTO `notas` (`escola`, `created_at`, `updated_at`, `professor_id`, `faltas1`, `faltas2`, `faltas3`, `faltas4`, `faltas5`, `aluno_id`, `classe`, `ativo`, `ano_letivo`, `cidade`, `bimestre`, `freq1`, `freq2`, `freq3`, `freq4`, `freq5`, `aulas1`, `aulas2`, `aulas3`, `aulas4`, `aulas5`, `atribuicao_id`, `disciplina_id`, `matricula_id`, `unidade_id`, `nota1`, `nota2`, `nota3`, `nota4`, `nota5`, `obs1`) VALUES(NULL, '2017-10-10 17:25:00', '2017-10-10 17:25:00', NULL, 0, 0, 0, 0, 0, 4285, 7, NULL, 2015, '', NULL, 100, 100, 100, 100, 100, 0, 0, 0, 0, 0, NULL, 7, NULL, 48, NULL, NULL, NULL, NULL, '', NULL)[0m
  [4;35;1mSQL (58.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/notas/155890
Completed in 421ms (DB: 117) | 302 Found [http://localhost/notas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#show (for 127.0.0.1 at 2017-10-10 14:25:01) [GET]
  Parameters: {"id"=>"155890"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mAluno Load (1.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.6ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 155890) [0m
Rendering template within layouts/application
Rendering notas/show
  [4;35;1mAluno Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.6ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 4285) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mUnidade Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:25:01' AND ends_at >= '2017-10-10 17:25:01') [0m
  [4;36;1mInformativo Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 381ms (View: 57, DB: 16) | 200 OK [http://localhost/notas/155890]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historicoContinua (for 127.0.0.1 at 2017-10-10 14:25:03) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.4ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =4285) [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=4285) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;35;1mDisciplina Load (42.6ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =4285 )[0m
  [4;36;1mDisciplina Load (42.2ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =4285 )[0m
  [4;35;1mNota Load (58.2ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 4285 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (58.8ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 4285 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO'OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (48.6ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=4285 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 4285 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (49.5ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =4285 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (51.0ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =4285) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historicoContinua
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mMatricula Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 162) [0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2011 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2015 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 33) [0m
Rendered historicos/_notas_historico (24.8ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.6ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:25:03' AND ends_at >= '2017-10-10 17:25:03') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 884ms (View: 162, DB: 366) | 200 OK [http://localhost/historicoContinua]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 14:25:04) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/4285.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#destroy_nota (for 127.0.0.1 at 2017-10-10 14:25:26) [DELETE]
  Parameters: {"id"=>"155890", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 155890) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mNota Destroy (0.4ms)[0m   [0mDELETE FROM `notas` WHERE `id` = 155890[0m
  [4;36;1mSQL (51.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =4285) [0m
  [4;36;1mAluno Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=4285) [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;35;1mDisciplina Load (0.8ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "D") ORDER BY ordem ASC[0m
  [4;35;1mNota Load (54.3ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=4285 AND disciplinas.curriculo='D') ORDER BY ano_letivo ASC[0m
  [4;36;1mNota Load (50.5ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=4285 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 4285 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (51.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =4285) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (46.6ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =4285) ORDER BY ano_letivo DESC LIMIT 1[0m
Redirected to http://localhost:3000/historicoContinua
Completed in 663ms (DB: 267) | 302 Found [http://localhost/historicos/destroy_nota/155890]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historicoContinua (for 127.0.0.1 at 2017-10-10 14:25:26) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =4285) [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.2ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=4285) [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;35;1mDisciplina Load (45.4ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =4285 )[0m
  [4;36;1mDisciplina Load (42.4ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =4285 )[0m
  [4;35;1mNota Load (59.5ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 4285 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (58.9ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 4285 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO'OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=4285 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 4285 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (51.7ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =4285 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =4285) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historicoContinua
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;35;1mClasse Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 162) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2011 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 33) [0m
Rendered historicos/_notas_historico (23.1ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.9ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:25:27' AND ends_at >= '2017-10-10 17:25:27') [0m
  [4;36;1mInformativo Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 801ms (View: 51, DB: 276) | 200 OK [http://localhost/historicoContinua]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 14:25:28) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/4285.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#new (for 127.0.0.1 at 2017-10-10 14:29:27) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mObservacaoHistorico Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
Rendering template within layouts/application
Rendering observacao_historicos/new
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:29:27' AND ends_at >= '2017-10-10 17:29:27') [0m
  [4;35;1mInformativo Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 137ms (View: 115, DB: 6) | 200 OK [http://localhost/observacao_historicos/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#create (for 127.0.0.1 at 2017-10-10 14:29:38) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY=", "commit"=>"Salvar", "observacao_historico"=>{"escola"=>"1111", "cidade"=>"111", "ano_letivo"=>"2011", "carga_horaria_d"=>"", "carga_horaria_b"=>"111"}}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mObservacaoHistorico Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mObservacaoHistorico Create (0.6ms)[0m   [0mINSERT INTO `observacao_historicos` (`escola`, `created_at`, `updated_at`, `quem`, `aluno_id`, `cidade`, `ano_letivo`, `observacao`, `data`, `carga_horaria_b`, `carga_horaria_d`) VALUES('1111', '2017-10-10 17:29:38', '2017-10-10 17:29:38', NULL, 4285, '111', 2011, NULL, NULL, 111, NULL)[0m
  [4;36;1mSQL (49.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/observacao_historicos/14
Completed in 75ms (DB: 53) | 302 Found [http://localhost/observacao_historicos]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#show (for 127.0.0.1 at 2017-10-10 14:29:38) [GET]
  Parameters: {"id"=>"14"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mObservacaoHistorico Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (`observacao_historicos`.`id` = 14) [0m
Rendering template within layouts/application
Rendering observacao_historicos/show
  [4;35;1mAluno Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 4285) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:29:38' AND ends_at >= '2017-10-10 17:29:38') [0m
  [4;36;1mInformativo Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 89ms (View: 59, DB: 12) | 200 OK [http://localhost/observacao_historicos/14]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historicoContinua (for 127.0.0.1 at 2017-10-10 14:29:40) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =4285) [0m
  [4;35;1mAluno Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.5ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=4285) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =4285 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =4285 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 4285 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 4285 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO'OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=4285 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 4285 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =4285 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =4285) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historicoContinua
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 162) [0m
  [4;36;1mDisciplina Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mObservacaoHistorico Load (0.6ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2011 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mObservacaoHistorico Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.5ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=4285 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 2985) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 33) [0m
Rendered historicos/_notas_historico (43.3ms)
Rendered historicos/_observacoes (0.2ms)
Rendered historicos/_form_observacao (3.5ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:29:40' AND ends_at >= '2017-10-10 17:29:40') [0m
  [4;36;1mInformativo Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 474ms (View: 75, DB: 26) | 200 OK [http://localhost/historicoContinua]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 14:29:41) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/4285.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 14:30:54) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.6ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:30:54' AND ends_at >= '2017-10-10 17:30:54') [0m
  [4;36;1mInformativo Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 361ms (View: 55, DB: 15) | 200 OK [http://localhost/historico]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 14:31:04) [GET]
  Parameters: {"aluno_id"=>"15457", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.5ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='15457') [0m
  [4;36;1mAluno Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.4ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;35;1mDisciplina Load (41.8ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =15457 )[0m
  [4;36;1mDisciplina Load (41.8ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;35;1mNota Load (58.9ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (59.7ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (49.4ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (3.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (48.3ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (49.9ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mObservacaoHistorico Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m

ActionView::TemplateError (undefined method `unidade' for nil:NilClass) on line #60 of app/views/historicos/_notas_historico.erb:
57:                             <%=@notasB[acertoHTML].nota5%>
58:                             <% if !@carga_horaria.present?  and @notasB[acertoHTML].ano_letivo > 2015 %>
59:                                     <%session[:cargah_b][i]=1000 %>
60:                                     <% session[:escola][i]= @notasB[acertoHTML].matricula.unidade.nome %>
61:                                     <% session[:cidade][i]= @notasB[acertoHTML].matricula.unidade.cidade %>
62: 
63:                             <%else%>

    app/views/historicos/_notas_historico.erb:60
    app/views/historicos/_notas_historico.erb:45:in `each'
    app/views/historicos/_notas_historico.erb:45
    app/views/historicos/historico.html.erb:106
    app/views/historicos/historico.html.erb:27:in `each'
    app/views/historicos/historico.html.erb:27
    app/views/historicos/historico.html.erb:9

Rendered rescues/_trace (32.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 14:31:34) [GET]
  Parameters: {"aluno_id"=>"15457", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (3.0ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='15457') [0m
  [4;35;1mAluno Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =15457 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;35;1mDisciplina Load (0.5ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
Rendered historicos/_notas_historico (33.1ms)
Rendered historicos/_observacoes (0.2ms)
Rendered historicos/_form_observacao (3.1ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:31:34' AND ends_at >= '2017-10-10 17:31:34') [0m
  [4;35;1mInformativo Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 555ms (View: 72, DB: 30) | 200 OK [http://localhost/historico?aluno_id=15457&commit=Visualizar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 14:31:35) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/15457.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 14:33:13) [GET]
  Parameters: {"aluno_id"=>"15457", "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.4ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='15457') [0m
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =15457 )[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mClasse Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
Rendered historicos/_notas_historico (24.8ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.4ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:33:14' AND ends_at >= '2017-10-10 17:33:14') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 471ms (View: 147, DB: 20) | 200 OK [http://localhost/historico?aluno_id=15457&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 14:33:14) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/15457.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-10 14:35:07) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.9ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:35:07' AND ends_at >= '2017-10-10 17:35:07') [0m
  [4;36;1mInformativo Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (7.6ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 129ms (View: 105, DB: 13) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 14:35:10) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.3ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:35:10' AND ends_at >= '2017-10-10 17:35:10') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 417ms (View: 135, DB: 15) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 14:35:21) [GET]
  Parameters: {"aluno_id"=>"15457", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.4ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='15457') [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =15457 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
Rendered historicos/_notas_historico (17.7ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:35:22' AND ends_at >= '2017-10-10 17:35:22') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 494ms (View: 147, DB: 17) | 200 OK [http://localhost/historico?aluno_id=15457&commit=Visualizar]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 14:35:22) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/15457.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 14:36:08) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.5ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.4ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =15457) [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;36;1mNota Load (58.7ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (58.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;36;1mNota Load (28.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =15457 AND disciplinas.curriculo = 'B' and unidade_id =48 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mMatricula Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15457) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 617ms (View: 44, DB: 160) | 200 OK [http://localhost/impressao_historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#new (for 127.0.0.1 at 2017-10-10 14:36:19) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mObservacaoHistorico Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
Rendering template within layouts/application
Rendering observacao_historicos/new
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:36:19' AND ends_at >= '2017-10-10 17:36:19') [0m
  [4;35;1mInformativo Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `informativos`[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 158ms (View: 134, DB: 7) | 200 OK [http://localhost/observacao_historicos/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#create (for 127.0.0.1 at 2017-10-10 14:36:27) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY=", "commit"=>"Salvar", "observacao_historico"=>{"escola"=>"1111", "cidade"=>"1111", "ano_letivo"=>"2016", "carga_horaria_d"=>"", "carga_horaria_b"=>"1111"}}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mObservacaoHistorico Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mObservacaoHistorico Create (0.6ms)[0m   [0mINSERT INTO `observacao_historicos` (`escola`, `created_at`, `updated_at`, `quem`, `aluno_id`, `cidade`, `ano_letivo`, `observacao`, `data`, `carga_horaria_b`, `carga_horaria_d`) VALUES('1111', '2017-10-10 17:36:27', '2017-10-10 17:36:27', NULL, 15457, '1111', 2016, NULL, NULL, 1111, NULL)[0m
  [4;36;1mSQL (53.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/observacao_historicos/15
Completed in 77ms (DB: 57) | 302 Found [http://localhost/observacao_historicos]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoHistoricosController#show (for 127.0.0.1 at 2017-10-10 14:36:27) [GET]
  Parameters: {"id"=>"15"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mObservacaoHistorico Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (`observacao_historicos`.`id` = 15) [0m
Rendering template within layouts/application
Rendering observacao_historicos/show
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15457) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:36:28' AND ends_at >= '2017-10-10 17:36:28') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 146ms (View: 124, DB: 7) | 200 OK [http://localhost/observacao_historicos/15]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historicoContinua (for 127.0.0.1 at 2017-10-10 14:36:29) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =15457) [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =15457 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;36;1mNota Load (58.6ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (59.4ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO'OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historicoContinua
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
Rendered historicos/_notas_historico (19.0ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.0ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (starts_at <= '2017-10-10 17:36:30' AND ends_at >= '2017-10-10 17:36:30') [0m
  [4;36;1mInformativo Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `informativos`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 571ms (View: 132, DB: 135) | 200 OK [http://localhost/historicoContinua]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 14:36:30) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/15457.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 14:36:34) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.3ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.3ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =15457) [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =15457 AND disciplinas.curriculo = 'B' and unidade_id =48 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mObservacaoHistorico Load (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15457) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 419ms (View: 29, DB: 15) | 200 OK [http://localhost/impressao_historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing JavascriptsController#hide_announcement (for 127.0.0.1 at 2017-10-10 14:39:56) [POST]
  Parameters: {"authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering javascripts/hide_announcement
Completed in 26ms (View: 8, DB: 2) | 200 OK [http://localhost/javascripts/hide_announcement]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 14:45:20) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.8ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =15457) [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =15457 AND disciplinas.curriculo = 'B' and unidade_id =48 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15457) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 409ms (View: 47, DB: 24) | 200 OK [http://localhost/impressao_historico]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 14:46:28) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.3ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =15457) [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =15457 AND disciplinas.curriculo = 'B' and unidade_id =48 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mObservacaoHistorico Load (0.0ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15457) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 449ms (View: 40, DB: 15) | 200 OK [http://localhost/impressao_historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 14:49:05) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =15457) [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =15457 AND disciplinas.curriculo = 'B' and unidade_id =48 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15457) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mroles_users Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 507ms (View: 153, DB: 17) | 200 OK [http://localhost/impressao_historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 14:49:15) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =15457) [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =15457 AND disciplinas.curriculo = 'B' and unidade_id =48 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15457) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 437ms (View: 46, DB: 20) | 200 OK [http://localhost/impressao_historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 14:49:36) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.5ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.3ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =15457) [0m
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =15457 AND disciplinas.curriculo = 'B' and unidade_id =48 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15457) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 523ms (View: 43, DB: 21) | 200 OK [http://localhost/impressao_historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 14:50:28) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.2ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.3ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =15457) [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =15457 AND disciplinas.curriculo = 'B' and unidade_id =48 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15457) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 500ms (View: 139, DB: 15) | 200 OK [http://localhost/impressao_historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#impressao_historico (for 127.0.0.1 at 2017-10-10 14:50:56) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.6ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id =15457) [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;35;1mNota Load (0.0ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN atribuicaos ON atribuicaos.id = notas.atribuicao_id INNER JOIN disciplinas ON disciplinas.id = atribuicaos.disciplina_id WHERE (disciplinas.id=1 AND notas.aluno_id =15457 AND disciplinas.curriculo = 'B' and unidade_id =48 ) ORDER BY notas.id DESC LIMIT 1[0m
Rendering template within layouts/impressao
Rendering historicos/impressao_historico
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mObservacaoHistorico Load (0.1ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15457) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 568ms (View: 40, DB: 17) | 200 OK [http://localhost/impressao_historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-10 16:02:14) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:02:14' AND ends_at >= '2017-10-10 19:02:14') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:02:14' AND ends_at >= '2017-10-10 19:02:14') [0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 159ms (View: 138, DB: 7) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 16:02:20) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mProfessor Load (1.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mAluno Load (1.5ms)[0m   [0;1mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
Rendered historicos/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:02:21' AND ends_at >= '2017-10-10 19:02:21') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:02:21' AND ends_at >= '2017-10-10 19:02:21') [0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 350ms (View: 51, DB: 10) | 200 OK [http://localhost/historico]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe (for 127.0.0.1 at 2017-10-10 16:07:47) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (1.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
Rendering template within layouts/application
Rendering classes/consulta_classe
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:07:47' AND ends_at >= '2017-10-10 19:07:47') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:07:47' AND ends_at >= '2017-10-10 19:07:47') [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 172ms (View: 141, DB: 6) | 200 OK [http://localhost/consulta_classe]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe_aluno (for 127.0.0.1 at 2017-10-10 16:07:53) [GET]
  Parameters: {"classe"=>{"id"=>"709"}, "_"=>"1507662473372", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (id = '709') [0m
  [4;36;1mAtribuicao Load (2.4ms)[0m   [0;1mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = '709' AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mMatricula Load (9.6ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id = '709') ORDER BY classe_num ASC[0m
  [4;36;1mClasse Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mProfessor Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 146) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 701) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 700) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 699) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 700) [0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 701) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 691) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mMatricula Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mAluno Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAluno Load (0.8ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;36;1mAluno Load (0.9ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;36;1mAluno Load (0.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;36;1mAluno Load (0.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;35;1mAluno Load (0.7ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mAluno Load (1.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;36;1mAluno Load (0.6ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;36;1mAluno Load (0.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;36;1mAluno Load (0.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;35;1mAluno Load (0.8ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;36;1mAluno Load (0.8ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;35;1mAluno Load (0.8ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;36;1mAluno Load (0.8ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;36;1mAluno Load (0.9ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;35;1mAluno Load (0.9ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
Rendered classes/_alunos_classe (183.8ms)
Completed in 246ms (View: 170, DB: 43) | 200 OK [http://localhost/consulta_classe_aluno?authenticity_token=wI4SZW4Jqk%2FBsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY%3D&classe%5Bid%5D=709&authenticity_token=wI4SZW4Jqk%2FBsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY%3D&_=1507662473372]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe (for 127.0.0.1 at 2017-10-10 16:09:06) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
Rendering template within layouts/application
Rendering classes/consulta_classe
  [4;35;1mClasse Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:09:06' AND ends_at >= '2017-10-10 19:09:06') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:09:06' AND ends_at >= '2017-10-10 19:09:06') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 170ms (View: 132, DB: 8) | 200 OK [http://localhost/consulta_classe]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#lancamentos_notas (for 127.0.0.1 at 2017-10-10 16:09:10) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (1.6ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.6ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
Rendering template within layouts/application
Rendering notas/lancamentos_notas
  [4;36;1mProfessor Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:09:10' AND ends_at >= '2017-10-10 19:09:10') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:09:10' AND ends_at >= '2017-10-10 19:09:10') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 280ms (View: 111, DB: 10) | 200 OK [http://localhost/notas/lancamentos_notas]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HistoricosController#historico (for 127.0.0.1 at 2017-10-10 16:09:28) [GET]
  Parameters: {"aluno_id"=>"15457", "commit"=>"Visualizar"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (1.4ms)[0m   [0mSELECT * FROM `professors` WHERE (desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mProfessor Load (0.4ms)[0m   [0;1mSELECT * FROM `professors` WHERE ((unidade_id = 48 or unidade_id = 52 or unidade_id = 54) AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT alunos.aluno_nome, alunos.id FROM `matriculas` left join alunos ON alunos.id=matriculas.aluno_id WHERE (matriculas.unidade_id=48 AND matriculas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != 'I') [0m
  [4;35;1mNota Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 62) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo = "B") [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT distinct(ano_letivo) as ano FROM `observacao_notas` ORDER BY ano_letivo DESC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT id, aluno_nome FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mAluno Load (1.3ms)[0m   [0mSELECT `alunos`.* FROM `alunos` INNER JOIN matriculas ON alunos.id=matriculas.aluno_id INNER JOIN classes ON classes.id=matriculas.classe_id WHERE (classes.unidade_id =48 AND classes.classe_classe != "EJA" AND classes.classe_ano_letivo =2017) ORDER BY aluno_nome ASC[0m
  [4;36;1mClasse Load (0.5ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48) ORDER BY classe_ano_letivo ASC, classe_classe ASC[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT id, aluno_nome, unidade_id, aluno_ra, aluno_nascimento, aluno_certidao_nascimento, aluno_livro, aluno_folha, aluno_naturalidade, aluno_nacionalidade, aluno_chegada_brasil, aluno_RNE, aluno_validade_estrangeiro, aluno_RG, 	aluno_emissaoRG, 	aluno_CPF, 	aluno_emissaoCPF, photo_file_name,	photo_content_type,	photo_file_size FROM `alunos` WHERE (id ='15457') [0m
  [4;35;1mAluno Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mObservacaoHistorico Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_historicos` WHERE (aluno_id=15457) [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT nome FROM `unidades` WHERE (id =48) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'B' AND notas.aluno_id =15457 )[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT (disciplinas.id), disciplinas.disciplina FROM `disciplinas` INNER JOIN notas ON disciplinas.id = notas.disciplina_id WHERE (disciplinas.curriculo = 'D' AND notas.aluno_id =15457 )[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'B' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' or notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT notas.id, di.disciplina, notas.disciplina_id, notas.ano_letivo, notas.nota5, notas.matricula_id FROM `notas` JOIN disciplinas di ON di.id = notas.disciplina_id LEFT JOIN matriculas ma ON ma.id = notas.matricula_id WHERE notas.aluno_id = 15457 AND di.curriculo = 'D' AND (ma.status='MATRICULADO' OR ma.status='TRANSFERENCIA' OR ma.status='*REMANEJADO' OR notas.matricula_id is NULL) ORDER BY notas.disciplina_id, notas.ano_letivo[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT notas.id FROM `notas` INNER JOIN `disciplinas` ON `disciplinas`.id = `notas`.disciplina_id WHERE (aluno_id=15457 AND notas.ano_letivo <2017) ORDER BY notas.ano_letivo ASC[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (aluno_id = 15457 AND unidade_id = 48) ORDER BY matriculas.id DESC LIMIT 1[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (aluno_id =15457 and classe is null) ORDER BY ano_letivo ASC LIMIT 1[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (aluno_id =15457) ORDER BY ano_letivo DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering historicos/historico
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mMatricula Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23273) [0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 710) [0m
  [4;36;1mDisciplina Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 42) [0m
  [4;35;1mObservacaoHistorico Load (0.3ms)[0m   [0mSELECT * FROM `observacao_historicos` WHERE (ano_letivo =2016 AND aluno_id=15457 AND carga_horaria_b IS NOT NULL) [0m
  [4;36;1mObservacaoHistorico Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `observacao_historicos`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
Rendered historicos/_notas_historico (29.0ms)
Rendered historicos/_observacoes (0.1ms)
Rendered historicos/_form_observacao (3.2ms)
  [4;35;1mInformativo Load (0.8ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:09:29' AND ends_at >= '2017-10-10 19:09:29') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:09:29' AND ends_at >= '2017-10-10 19:09:29') [0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 510ms (View: 66, DB: 21) | 200 OK [http://localhost/historico?aluno_id=15457&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2017-10-10 16:09:29) [GET]

ActionController::RoutingError (No route matches "/photos/alunos/15457.JPG" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe (for 127.0.0.1 at 2017-10-10 16:09:33) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
Rendering template within layouts/application
Rendering classes/consulta_classe
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:09:33' AND ends_at >= '2017-10-10 19:09:33') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:09:33' AND ends_at >= '2017-10-10 19:09:33') [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 132ms (View: 108, DB: 7) | 200 OK [http://localhost/consulta_classe]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ClassesController#consulta_classe_aluno (for 127.0.0.1 at 2017-10-10 16:09:36) [GET]
  Parameters: {"classe"=>{"id"=>"709"}, "_"=>"1507662576229", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) as ano FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT distinct(classe_ano_letivo) FROM `classes` ORDER BY classe_ano_letivo ASC[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (id = '709') [0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT `atribuicaos`.* FROM `atribuicaos` INNER JOIN `disciplinas` ON `disciplinas`.id = `atribuicaos`.disciplina_id WHERE (classe_id = '709' AND ativo=0) ORDER BY disciplinas.ordem ASC [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (classe_id = '709') ORDER BY classe_num ASC[0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mProfessor Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 32) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 21) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 4) [0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 146) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 6) [0m
  [4;36;1mProfessor Load (5.9ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 701) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 7) [0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 700) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 11) [0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 699) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 13) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 700) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 16) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 701) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 17) [0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 691) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 20) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 34) [0m
  [4;36;1mMatricula Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mAluno Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
Rendered classes/_alunos_classe (172.6ms)
Completed in 218ms (View: 155, DB: 26) | 200 OK [http://localhost/consulta_classe_aluno?authenticity_token=wI4SZW4Jqk%2FBsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY%3D&classe%5Bid%5D=709&authenticity_token=wI4SZW4Jqk%2FBsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY%3D&_=1507662576229]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#lancamentos_notas (for 127.0.0.1 at 2017-10-10 16:09:51) [GET]
  Parameters: {"classe"=>{"id"=>"709"}, "disciplina"=>"PORTUGUÊS", "professor"=>{"id"=>"736"}, "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.7ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (disciplina ='PORTUGUÊS') [0m
  [4;36;1mDisciplina Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mClasse Load (3.4ms)[0m   [0mSELECT `classes`.* FROM `classes` inner join atribuicaos on classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id = '709' and atribuicaos.professor_id = '736' and atribuicaos.disciplina_id =1) [0m
  [4;36;1mAtribuicao Load (5.8ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id ='736' and disciplina_id=1) [0m
  [4;35;1mAtribuicao Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mNota Load (269.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `matriculas` ON `matriculas`.id = `notas`.matricula_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id ='736' AND atribuicaos.disciplina_id=1 AND notas.ano_letivo = 2017) ORDER BY matriculas.classe_num ASC[0m
Rendering template within layouts/application
Rendering notas/lancamentos_notas
  [4;35;1mProfessor Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mClasse Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mMatricula Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21265) [0m
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoNota Load (10.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21266) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;36;1mObservacaoNota Load (15.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139103) [0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21267) [0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;35;1mObservacaoNota Load (17.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139115) [0m
  [4;36;1mMatricula Load (0.6ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21268) [0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;36;1mObservacaoNota Load (17.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139127) [0m
  [4;35;1mMatricula Load (0.5ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21269) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;35;1mObservacaoNota Load (15.8ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139139) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21270) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mObservacaoNota Load (15.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139151) [0m
  [4;35;1mMatricula Load (0.5ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21271) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;35;1mObservacaoNota Load (18.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139163) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21272) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;36;1mObservacaoNota Load (12.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139175) [0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21273) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;35;1mObservacaoNota Load (13.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139187) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mObservacaoNota Load (12.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148784) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mObservacaoNota Load (14.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148797) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21274) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;36;1mObservacaoNota Load (11.0ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139199) [0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21275) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;35;1mObservacaoNota Load (14.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139211) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21276) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;36;1mObservacaoNota Load (11.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139223) [0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21277) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;35;1mObservacaoNota Load (12.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139235) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21278) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;36;1mObservacaoNota Load (13.5ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139247) [0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21279) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;35;1mObservacaoNota Load (11.6ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139259) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21280) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;36;1mObservacaoNota Load (15.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139271) [0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21704) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;35;1mObservacaoNota Load (12.0ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139985) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21335) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;36;1mObservacaoNota Load (15.8ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139871) [0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21281) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;35;1mObservacaoNota Load (12.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139283) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21327) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;36;1mObservacaoNota Load (15.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139835) [0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21332) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;35;1mObservacaoNota Load (12.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139847) [0m
  [4;36;1mMatricula Load (0.4ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23623) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;36;1mObservacaoNota Load (15.7ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 147706) [0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24064) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;35;1mObservacaoNota Load (10.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153262) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24786) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mObservacaoNota Load (15.9ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153957) [0m
  [4;35;1mMatricula Load (0.4ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 26462) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;35;1mObservacaoNota Load (12.7ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 154399) [0m
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:09:52' AND ends_at >= '2017-10-10 19:09:52') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:09:52' AND ends_at >= '2017-10-10 19:09:52') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 1224ms (View: 353, DB: 687) | 200 OK [http://localhost/notas/lancamentos_notas?professor%5Bid%5D=736&classe%5Bid%5D=709&disciplina=PORTUGU%C3%8AS&commit=Visualizar]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#lancar_notas (for 127.0.0.1 at 2017-10-10 16:10:04) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (3.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
Rendering template within layouts/application
Rendering notas/lancar_notas
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mDisciplina Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:10:05' AND ends_at >= '2017-10-10 19:10:05') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:10:05' AND ends_at >= '2017-10-10 19:10:05') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 340ms (View: 36, DB: 12) | 200 OK [http://localhost/notas/lancar_notas]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#lancar_notas_alunos (for 127.0.0.1 at 2017-10-10 16:10:11) [GET]
  Parameters: {"classe"=>{"id"=>"709"}, "disciplina"=>"PORTUGUÊS", "_"=>"1507662611509", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY=", "professor"=>{"id"=>"736"}}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (3.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (disciplina ='PORTUGUÊS') [0m
  [4;35;1mDisciplina Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mClasse Load (3.2ms)[0m   [0;1mSELECT `classes`.* FROM `classes` inner join atribuicaos on classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id = '709' and atribuicaos.professor_id = '736' and atribuicaos.disciplina_id =1 AND ano_letivo=2017) [0m
  [4;35;1mAtribuicao Load (3.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id ='736' and disciplina_id=1 AND ano_letivo=2017) [0m
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mNota Load (303.8ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `alunos` ON `alunos`.id = `notas`.aluno_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id ='736' AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mNota Load (274.0ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `matriculas` ON `matriculas`.id = `notas`.matricula_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id ='736' AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017) ORDER BY matriculas.classe_num ASC[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mNota Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
Rendered notas/_aulas (21.8ms)
Completed in 906ms (View: 24, DB: 596) | 200 OK [http://localhost/lancar_notas_alunos?authenticity_token=wI4SZW4Jqk%2FBsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY%3D&professor%5Bid%5D=736&classe%5Bid%5D=709&disciplina=PORTUGU%C3%8AS&authenticity_token=wI4SZW4Jqk%2FBsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY%3D&_=1507662611509]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#edit (for 127.0.0.1 at 2017-10-10 16:10:14) [GET]
  Parameters: {"id"=>"3561", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.5ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mAtribuicao Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mAtribuicao Load (0.5ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 3561) [0m
  [4;35;1mNota Load (215.9ms)[0m   [0mSELECT * FROM `notas` WHERE (atribuicao_id = 3561 AND aluno_id = 13705 AND notas.ano_letivo=2017) [0m
Rendering template within layouts/application
Rendering atribuicaos/edit
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:10:14' AND ends_at >= '2017-10-10 19:10:14') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:10:14' AND ends_at >= '2017-10-10 19:10:14') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 420ms (View: 151, DB: 226) | 200 OK [http://localhost/atribuicaos/3561/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#edit (for 127.0.0.1 at 2017-10-10 16:12:25) [GET]
  Parameters: {"id"=>"3561", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 3561) [0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (atribuicao_id = 3561 AND aluno_id = 13705 AND notas.ano_letivo=2017) [0m
Rendering template within layouts/application
Rendering atribuicaos/edit
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;36;1mProfessor Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:12:25' AND ends_at >= '2017-10-10 19:12:25') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:12:25' AND ends_at >= '2017-10-10 19:12:25') [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 178ms (View: 55, DB: 10) | 200 OK [http://localhost/atribuicaos/3561/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#edit (for 127.0.0.1 at 2017-10-10 16:12:36) [GET]
  Parameters: {"id"=>"3561", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mAtribuicao Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 3561) [0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (atribuicao_id = 3561 AND aluno_id = 13705 AND notas.ano_letivo=2017) [0m
Rendering template within layouts/application
Rendering atribuicaos/edit
  [4;36;1mClasse Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;36;1mProfessor Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:12:36' AND ends_at >= '2017-10-10 19:12:36') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:12:36' AND ends_at >= '2017-10-10 19:12:36') [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 262ms (View: 122, DB: 10) | 200 OK [http://localhost/atribuicaos/3561/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#edit (for 127.0.0.1 at 2017-10-10 16:13:01) [GET]
  Parameters: {"id"=>"3561", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 3561) [0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (atribuicao_id = 3561 AND aluno_id = 13705 AND notas.ano_letivo=2017) [0m
Rendering template within layouts/application
Rendering atribuicaos/edit
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:13:01' AND ends_at >= '2017-10-10 19:13:01') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:13:01' AND ends_at >= '2017-10-10 19:13:01') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 166ms (View: 51, DB: 8) | 200 OK [http://localhost/atribuicaos/3561/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#edit (for 127.0.0.1 at 2017-10-10 16:14:09) [GET]
  Parameters: {"id"=>"3561", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mAtribuicao Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mAtribuicao Load (0.3ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 3561) [0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (atribuicao_id = 3561 AND aluno_id = 13705 AND notas.ano_letivo=2017) [0m
Rendering template within layouts/application
Rendering atribuicaos/edit
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:14:10' AND ends_at >= '2017-10-10 19:14:10') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:14:10' AND ends_at >= '2017-10-10 19:14:10') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 248ms (View: 127, DB: 10) | 200 OK [http://localhost/atribuicaos/3561/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#edit (for 127.0.0.1 at 2017-10-10 16:14:46) [GET]
  Parameters: {"id"=>"3561", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mAtribuicao Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 3561) [0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (atribuicao_id = 3561 AND aluno_id = 13705 AND notas.ano_letivo=2017) [0m
Rendering template within layouts/application
Rendering atribuicaos/edit
  [4;36;1mClasse Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.4ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;36;1mProfessor Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.4ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:14:46' AND ends_at >= '2017-10-10 19:14:46') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:14:46' AND ends_at >= '2017-10-10 19:14:46') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 196ms (View: 141, DB: 10) | 200 OK [http://localhost/atribuicaos/3561/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#update (for 127.0.0.1 at 2017-10-10 16:15:36) [PUT]
  Parameters: {"atribuicao"=>{"aulas4"=>"0", "aulas3"=>"53", "aulas2"=>"39", "aulas1"=>"39"}, "id"=>"3561", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY=", "commit"=>"Salvar"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mAtribuicao Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 3561) [0m
  [4;35;1mAtribuicao Load (3.9ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id =709 and professor_id=736 and ano_letivo=2017 ) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (221.6ms)[0m   [0;1mSELECT * FROM `notas` WHERE (atribuicao_id = 3561 AND ano_letivo=2017) [0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.5ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139103) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.5ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139115) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.6ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139127) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139139) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139151) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139163) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.5ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139175) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.5ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139187) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.4ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139199) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139211) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.4ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139223) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139235) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.4ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139247) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.5ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139259) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139271) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139283) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.4ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139835) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.5ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139847) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.4ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139871) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.4ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139985) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.6ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 147706) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.7ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 148784) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.6ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 148797) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 153262) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 153957) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 154399) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/voltar_lancamento_notas
Completed in 514ms (DB: 249) | 302 Found [http://localhost/atribuicaos/3561]
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#voltar_lancamento_notas (for 127.0.0.1 at 2017-10-10 16:15:36) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.7ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (disciplina =NULL) [0m
  [4;36;1mClasse Load (3.2ms)[0m   [0;1mSELECT `classes`.* FROM `classes` inner join atribuicaos on classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id = '709' and atribuicaos.professor_id = 736 and atribuicaos.disciplina_id =1) [0m
  [4;35;1mAtribuicao Load (4.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mAtribuicao Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mNota Load (303.6ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `alunos` ON `alunos`.id = `notas`.aluno_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id =736 AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017 and notas.ativo is null) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mNota Load (274.6ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `matriculas` ON `matriculas`.id = `notas`.matricula_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id =736 AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017 and notas.ativo is null) ORDER BY matriculas.classe_num ASC[0m
Rendering template within layouts/application
Rendering notas/notas_lancamentos_multiplos
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mProfessor Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mMatricula Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21265) [0m
  [4;36;1mAluno Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21266) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139103) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21267) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139115) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21268) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139127) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21269) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139139) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21271) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139163) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21272) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139175) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21273) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139187) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mObservacaoNota Load (0.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148784) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148797) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21274) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139199) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21275) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139211) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21276) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139223) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21277) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139235) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21278) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139247) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21279) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139259) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21280) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139271) [0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21704) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139985) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21335) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139871) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21281) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139283) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21327) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139835) [0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21332) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139847) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23623) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;35;1mObservacaoNota Load (4.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 147706) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24064) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153262) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24786) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153957) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 26462) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 154399) [0m
  [4;36;1mInformativo Load (0.3ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:15:38' AND ends_at >= '2017-10-10 19:15:38') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:15:38' AND ends_at >= '2017-10-10 19:15:38') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 1105ms (View: 307, DB: 620) | 200 OK [http://localhost/voltar_lancamento_notas]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#voltar_lancamento_notas (for 127.0.0.1 at 2017-10-10 16:17:15) [GET]
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (disciplina =NULL) [0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT `classes`.* FROM `classes` inner join atribuicaos on classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id = '709' and atribuicaos.professor_id = 736 and atribuicaos.disciplina_id =1) [0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mAtribuicao Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `alunos` ON `alunos`.id = `notas`.aluno_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id =736 AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017 and notas.ativo is null) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `matriculas` ON `matriculas`.id = `notas`.matricula_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id =736 AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017 and notas.ativo is null) ORDER BY matriculas.classe_num ASC[0m
Rendering template within layouts/application
Rendering notas/notas_lancamentos_multiplos
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mProfessor Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;36;1mNota Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mMatricula Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21265) [0m
  [4;35;1mAluno Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21266) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139103) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21267) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139115) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21268) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139127) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21269) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139139) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21271) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139163) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21272) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139175) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21273) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139187) [0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148784) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148797) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21274) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139199) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21275) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139211) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21276) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139223) [0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21277) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139235) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21278) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139247) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21279) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139259) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21280) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139271) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21704) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139985) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21335) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139871) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21281) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139283) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21327) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139835) [0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21332) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139847) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23623) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 147706) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24064) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;36;1mObservacaoNota Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153262) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24786) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153957) [0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 26462) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 154399) [0m
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:17:16' AND ends_at >= '2017-10-10 19:17:16') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:17:16' AND ends_at >= '2017-10-10 19:17:16') [0m
  [4;35;1mUnidade Load (4.8ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 684ms (View: 333, DB: 34) | 200 OK [http://localhost/voltar_lancamento_notas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#voltar_lancamento_notas (for 127.0.0.1 at 2017-10-10 16:17:48) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (disciplina =NULL) [0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT `classes`.* FROM `classes` inner join atribuicaos on classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id = '709' and atribuicaos.professor_id = 736 and atribuicaos.disciplina_id =1) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mAtribuicao Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `alunos` ON `alunos`.id = `notas`.aluno_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id =736 AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017 and notas.ativo is null) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `matriculas` ON `matriculas`.id = `notas`.matricula_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id =736 AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017 and notas.ativo is null) ORDER BY matriculas.classe_num ASC[0m
Rendering template within layouts/application
Rendering notas/notas_lancamentos_multiplos
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mProfessor Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mMatricula Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21265) [0m
  [4;36;1mAluno Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21266) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139103) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21267) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139115) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21268) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139127) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21269) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139139) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21271) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139163) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21272) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139175) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21273) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139187) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148784) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148797) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21274) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139199) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21275) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139211) [0m
  [4;36;1mMatricula Load (0.3ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21276) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139223) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21277) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139235) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21278) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139247) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21279) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139259) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21280) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139271) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21704) [0m
  [4;35;1mAluno Load (4.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139985) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21335) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139871) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21281) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139283) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21327) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139835) [0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21332) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139847) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23623) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 147706) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24064) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153262) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24786) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153957) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 26462) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 154399) [0m
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:17:48' AND ends_at >= '2017-10-10 19:17:48') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:17:48' AND ends_at >= '2017-10-10 19:17:48') [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 573ms (View: 266, DB: 29) | 200 OK [http://localhost/voltar_lancamento_notas]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#voltar_lancamento_notas (for 127.0.0.1 at 2017-10-10 16:18:25) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (disciplina =NULL) [0m
  [4;35;1mClasse Load (0.0ms)[0m   [0mSELECT `classes`.* FROM `classes` inner join atribuicaos on classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id = '709' and atribuicaos.professor_id = 736 and atribuicaos.disciplina_id =1) [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `alunos` ON `alunos`.id = `notas`.aluno_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id =736 AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017 and notas.ativo is null) ORDER BY alunos.aluno_nome ASC[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `matriculas` ON `matriculas`.id = `notas`.matricula_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id =736 AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017 and notas.ativo is null) ORDER BY matriculas.classe_num ASC[0m
Rendering template within layouts/application
Rendering notas/notas_lancamentos_multiplos
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mProfessor Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mMatricula Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21265) [0m
  [4;35;1mAluno Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21266) [0m
  [4;36;1mAluno Load (1.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139103) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21267) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139115) [0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21268) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139127) [0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21269) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139139) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21271) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139163) [0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21272) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139175) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21273) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139187) [0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148784) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148797) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21274) [0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139199) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21275) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139211) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21276) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;36;1mObservacaoNota Load (0.4ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139223) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21277) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139235) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21278) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139247) [0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21279) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139259) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21280) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139271) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21704) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139985) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21335) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139871) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21281) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139283) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21327) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139835) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21332) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139847) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23623) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 147706) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24064) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153262) [0m
  [4;35;1mMatricula Load (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24786) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153957) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 26462) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 154399) [0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:18:25' AND ends_at >= '2017-10-10 19:18:25') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:18:25' AND ends_at >= '2017-10-10 19:18:25') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 584ms (View: 265, DB: 26) | 200 OK [http://localhost/voltar_lancamento_notas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#voltar_lancamento_notas (for 127.0.0.1 at 2017-10-10 16:19:04) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.8ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (disciplina =NULL) [0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT `classes`.* FROM `classes` inner join atribuicaos on classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id = '709' and atribuicaos.professor_id = 736 and atribuicaos.disciplina_id =1) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mAtribuicao Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `alunos` ON `alunos`.id = `notas`.aluno_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id =736 AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017 and notas.ativo is null) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `matriculas` ON `matriculas`.id = `notas`.matricula_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id =736 AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017 and notas.ativo is null) ORDER BY matriculas.classe_num ASC[0m
Rendering template within layouts/application
Rendering notas/notas_lancamentos_multiplos
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mProfessor Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;35;1mNota Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mMatricula Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21265) [0m
  [4;36;1mAluno Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21266) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139103) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21267) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139115) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21268) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139127) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21269) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139139) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21271) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139163) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21272) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139175) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21273) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139187) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148784) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148797) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21274) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139199) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21275) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139211) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21276) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139223) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21277) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139235) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21278) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139247) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21279) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139259) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21280) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;35;1mObservacaoNota Load (0.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139271) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21704) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139985) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21335) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139871) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21281) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139283) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21327) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139835) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21332) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139847) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23623) [0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 147706) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24064) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153262) [0m
  [4;36;1mMatricula Load (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24786) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153957) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 26462) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 154399) [0m
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:19:05' AND ends_at >= '2017-10-10 19:19:05') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:19:05' AND ends_at >= '2017-10-10 19:19:05') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 597ms (View: 269, DB: 33) | 200 OK [http://localhost/voltar_lancamento_notas]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#lancamentos_notas (for 127.0.0.1 at 2017-10-10 16:19:13) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
Rendering template within layouts/application
Rendering notas/lancamentos_notas
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mDisciplina Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:19:13' AND ends_at >= '2017-10-10 19:19:13') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:19:13' AND ends_at >= '2017-10-10 19:19:13') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 272ms (View: 34, DB: 9) | 200 OK [http://localhost/notas/lancamentos_notas]
  [4;35;1mAtribuicao Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#lancamentos_notas (for 127.0.0.1 at 2017-10-10 16:19:20) [GET]
  Parameters: {"classe"=>{"id"=>"709"}, "disciplina"=>"PORTUGUÊS", "professor"=>{"id"=>"736"}, "commit"=>"Visualizar"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (disciplina ='PORTUGUÊS') [0m
  [4;36;1mDisciplina Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT `classes`.* FROM `classes` inner join atribuicaos on classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id = '709' and atribuicaos.professor_id = '736' and atribuicaos.disciplina_id =1) [0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id ='736' and disciplina_id=1) [0m
  [4;35;1mAtribuicao Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `matriculas` ON `matriculas`.id = `notas`.matricula_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id ='736' AND atribuicaos.disciplina_id=1 AND notas.ano_letivo = 2017) ORDER BY matriculas.classe_num ASC[0m
Rendering template within layouts/application
Rendering notas/lancamentos_notas
  [4;35;1mProfessor Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mMatricula Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21265) [0m
  [4;35;1mAluno Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21266) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139103) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21267) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139115) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21268) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139127) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21269) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139139) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21270) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139151) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21271) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139163) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21272) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139175) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21273) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139187) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148784) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148797) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21274) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139199) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21275) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;35;1mObservacaoNota Load (0.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139211) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21276) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139223) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21277) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139235) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21278) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139247) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21279) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139259) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21280) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139271) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21704) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139985) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21335) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139871) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21281) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139283) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21327) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139835) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21332) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139847) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23623) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 147706) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24064) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153262) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24786) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153957) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 26462) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 154399) [0m
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:19:20' AND ends_at >= '2017-10-10 19:19:20') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:19:20' AND ends_at >= '2017-10-10 19:19:20') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 515ms (View: 219, DB: 26) | 200 OK [http://localhost/notas/lancamentos_notas?professor%5Bid%5D=736&classe%5Bid%5D=709&disciplina=PORTUGU%C3%8AS&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:19:22) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.9ms)
Rendered notas/_form_observacao (5.3ms)
  [4;35;1mInformativo Load (0.8ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:19:22' AND ends_at >= '2017-10-10 19:19:22') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:19:22' AND ends_at >= '2017-10-10 19:19:22') [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 325ms (View: 64, DB: 14) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:20:43) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.4ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.3ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.6ms)
Rendered notas/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:20:43' AND ends_at >= '2017-10-10 19:20:43') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:20:43' AND ends_at >= '2017-10-10 19:20:43') [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 441ms (View: 139, DB: 12) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:21:06) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (4.4ms)
Rendered notas/_form_observacao (6.5ms)
  [4;35;1mInformativo Load (1.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:21:07' AND ends_at >= '2017-10-10 19:21:07') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:21:07' AND ends_at >= '2017-10-10 19:21:07') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 359ms (View: 165, DB: 12) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:21:15) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.3ms)
Rendered notas/_form_observacao (2.6ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:21:15' AND ends_at >= '2017-10-10 19:21:15') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:21:15' AND ends_at >= '2017-10-10 19:21:15') [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 415ms (View: 147, DB: 11) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:21:48) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.2ms)
Rendered notas/_form_observacao (2.6ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:21:48' AND ends_at >= '2017-10-10 19:21:48') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:21:48' AND ends_at >= '2017-10-10 19:21:48') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 319ms (View: 136, DB: 11) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:22:03) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (2.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.2ms)
Rendered notas/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:22:03' AND ends_at >= '2017-10-10 19:22:03') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:22:03' AND ends_at >= '2017-10-10 19:22:03') [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 418ms (View: 141, DB: 14) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:22:21) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (4.2ms)
Rendered notas/_form_observacao (3.8ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:22:21' AND ends_at >= '2017-10-10 19:22:21') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:22:21' AND ends_at >= '2017-10-10 19:22:21') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 346ms (View: 151, DB: 13) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:22:46) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.3ms)
Rendered notas/_form_observacao (2.8ms)
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:22:46' AND ends_at >= '2017-10-10 19:22:46') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:22:46' AND ends_at >= '2017-10-10 19:22:46') [0m
  [4;36;1mUnidade Load (0.4ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 404ms (View: 142, DB: 13) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:23:01) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.9ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.6ms)
Rendered notas/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:23:01' AND ends_at >= '2017-10-10 19:23:01') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:23:01' AND ends_at >= '2017-10-10 19:23:01') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 357ms (View: 150, DB: 13) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:23:18) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.1ms)
Rendered notas/_form_observacao (2.6ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:23:18' AND ends_at >= '2017-10-10 19:23:18') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:23:18' AND ends_at >= '2017-10-10 19:23:18') [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 399ms (View: 139, DB: 10) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:23:49) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.4ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.3ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.4ms)
Rendered notas/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:23:50' AND ends_at >= '2017-10-10 19:23:50') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:23:50' AND ends_at >= '2017-10-10 19:23:50') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 340ms (View: 144, DB: 13) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:24:27) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.9ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.3ms)
Rendered notas/_form_observacao (2.5ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:24:27' AND ends_at >= '2017-10-10 19:24:27') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:24:27' AND ends_at >= '2017-10-10 19:24:27') [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 399ms (View: 135, DB: 15) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:24:40) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.3ms)
Rendered notas/_form_observacao (3.0ms)
  [4;35;1mInformativo Load (0.6ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:24:40' AND ends_at >= '2017-10-10 19:24:40') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:24:40' AND ends_at >= '2017-10-10 19:24:40') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 327ms (View: 137, DB: 14) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:25:00) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.9ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.8ms)
Rendered notas/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:25:01' AND ends_at >= '2017-10-10 19:25:01') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:25:01' AND ends_at >= '2017-10-10 19:25:01') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 428ms (View: 151, DB: 14) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:25:28) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.3ms)
Rendered notas/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:25:28' AND ends_at >= '2017-10-10 19:25:28') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:25:28' AND ends_at >= '2017-10-10 19:25:28') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 341ms (View: 134, DB: 14) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:25:39) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.2ms)
Rendered notas/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:25:39' AND ends_at >= '2017-10-10 19:25:39') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:25:39' AND ends_at >= '2017-10-10 19:25:39') [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 413ms (View: 147, DB: 12) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:25:54) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.3ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.4ms)
Rendered notas/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:25:54' AND ends_at >= '2017-10-10 19:25:54') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:25:54' AND ends_at >= '2017-10-10 19:25:54') [0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 328ms (View: 57, DB: 14) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:26:23) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.6ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (5.4ms)
Rendered notas/_form_observacao (7.1ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:26:23' AND ends_at >= '2017-10-10 19:26:23') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:26:23' AND ends_at >= '2017-10-10 19:26:23') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 430ms (View: 159, DB: 10) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:27:49) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.3ms)
Rendered notas/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:27:49' AND ends_at >= '2017-10-10 19:27:49') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:27:49' AND ends_at >= '2017-10-10 19:27:49') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 310ms (View: 59, DB: 9) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:28:15) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.8ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.8ms)
Rendered notas/_form_observacao (6.0ms)
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:28:16' AND ends_at >= '2017-10-10 19:28:16') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:28:16' AND ends_at >= '2017-10-10 19:28:16') [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 411ms (View: 148, DB: 12) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:29:40) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.3ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.9ms)
Rendered notas/_form_observacao (3.4ms)
  [4;35;1mInformativo Load (0.7ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:29:41' AND ends_at >= '2017-10-10 19:29:41') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:29:41' AND ends_at >= '2017-10-10 19:29:41') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 336ms (View: 68, DB: 14) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:29:52) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.3ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.6ms)
Rendered notas/_form_observacao (2.7ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:29:52' AND ends_at >= '2017-10-10 19:29:52') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:29:52' AND ends_at >= '2017-10-10 19:29:52') [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 421ms (View: 151, DB: 13) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:30:07) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.4ms)
Rendered notas/_form_observacao (2.8ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:30:07' AND ends_at >= '2017-10-10 19:30:07') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:30:07' AND ends_at >= '2017-10-10 19:30:07') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 324ms (View: 61, DB: 12) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:30:18) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.6ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.2ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.5ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (4.3ms)
Rendered notas/_form_observacao (5.7ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:30:19' AND ends_at >= '2017-10-10 19:30:19') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:30:19' AND ends_at >= '2017-10-10 19:30:19') [0m
  [4;36;1mUnidade Load (0.3ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 418ms (View: 149, DB: 12) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:30:55) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.0ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.8ms)
Rendered notas/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:30:55' AND ends_at >= '2017-10-10 19:30:55') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:30:55' AND ends_at >= '2017-10-10 19:30:55') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 310ms (View: 57, DB: 9) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:31:05) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.3ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.6ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mNota Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;36;1mAluno Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mAtribuicao Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.8ms)
Rendered notas/_form_observacao (6.3ms)
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:31:06' AND ends_at >= '2017-10-10 19:31:06') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:31:06' AND ends_at >= '2017-10-10 19:31:06') [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 416ms (View: 147, DB: 11) | 200 OK [http://localhost/notas/139091/edit]
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:31:38) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.3ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (4.1ms)
Rendered notas/_form_observacao (3.5ms)
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:31:38' AND ends_at >= '2017-10-10 19:31:38') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:31:38' AND ends_at >= '2017-10-10 19:31:38') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 342ms (View: 63, DB: 11) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#lancar_notas (for 127.0.0.1 at 2017-10-10 16:31:46) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
Rendering template within layouts/application
Rendering notas/lancar_notas
  [4;35;1mProfessor Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mClasse Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mDisciplina Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:31:46' AND ends_at >= '2017-10-10 19:31:46') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:31:46' AND ends_at >= '2017-10-10 19:31:46') [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 277ms (View: 34, DB: 9) | 200 OK [http://localhost/notas/lancar_notas]
  [4;36;1mAtribuicao Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#lancar_notas_alunos (for 127.0.0.1 at 2017-10-10 16:31:52) [GET]
  Parameters: {"classe"=>{"id"=>"709"}, "disciplina"=>"PORTUGUÊS", "_"=>"1507663912161", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY=", "professor"=>{"id"=>"736"}}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.2ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.6ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (disciplina ='PORTUGUÊS') [0m
  [4;35;1mDisciplina Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT `classes`.* FROM `classes` inner join atribuicaos on classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id = '709' and atribuicaos.professor_id = '736' and atribuicaos.disciplina_id =1 AND ano_letivo=2017) [0m
  [4;35;1mAtribuicao Load (0.9ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id ='736' and disciplina_id=1 AND ano_letivo=2017) [0m
  [4;36;1mAtribuicao Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `alunos` ON `alunos`.id = `notas`.aluno_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id ='736' AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mNota Load (0.3ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `matriculas` ON `matriculas`.id = `notas`.matricula_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id ='736' AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017) ORDER BY matriculas.classe_num ASC[0m
  [4;35;1mClasse Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mNota Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mUnidade Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mProfessor Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mProfessor Load (0.3ms)[0m   [0;1mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
Rendered notas/_aulas (26.0ms)
Completed in 306ms (View: 24, DB: 18) | 200 OK [http://localhost/lancar_notas_alunos?authenticity_token=wI4SZW4Jqk%2FBsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY%3D&professor%5Bid%5D=736&classe%5Bid%5D=709&disciplina=PORTUGU%C3%8AS&authenticity_token=wI4SZW4Jqk%2FBsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY%3D&_=1507663912161]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#edit (for 127.0.0.1 at 2017-10-10 16:31:55) [GET]
  Parameters: {"id"=>"3561", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 3561) [0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (atribuicao_id = 3561 AND aluno_id = 13705 AND notas.ano_letivo=2017) [0m
Rendering template within layouts/application
Rendering atribuicaos/edit
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;36;1mProfessor Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mInformativo Load (0.3ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:31:55' AND ends_at >= '2017-10-10 19:31:55') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:31:55' AND ends_at >= '2017-10-10 19:31:55') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 181ms (View: 49, DB: 11) | 200 OK [http://localhost/atribuicaos/3561/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AtribuicaosController#update (for 127.0.0.1 at 2017-10-10 16:31:58) [PUT]
  Parameters: {"atribuicao"=>{"aulas4"=>"0", "aulas3"=>"53", "aulas2"=>"39", "aulas1"=>"39"}, "id"=>"3561", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY=", "commit"=>"Salvar"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT id, nome FROM `professors` WHERE (id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mClasse Load (0.0ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (id != 27 and id !=26) [0m
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mAtribuicao Load (0.1ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (`atribuicaos`.`id` = 3561) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id =709 and professor_id=736 and ano_letivo=2017 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (atribuicao_id = 3561 AND ano_letivo=2017) [0m
  [4;35;1mNota Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139103) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139115) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139127) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139139) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139151) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139163) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139175) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139187) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139199) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139211) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139223) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139235) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139247) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139259) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139271) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139283) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139835) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.0ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139847) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 139871) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139985) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.1ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 147706) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 148784) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 148797) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 153262) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mNota Load (0.2ms)[0m   [0mSELECT * FROM `notas` WHERE (`notas`.`id` = 153957) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 154399) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/voltar_lancamento_notas
Completed in 256ms (DB: 11) | 302 Found [http://localhost/atribuicaos/3561]
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#voltar_lancamento_notas (for 127.0.0.1 at 2017-10-10 16:31:58) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.7ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (disciplina =NULL) [0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT `classes`.* FROM `classes` inner join atribuicaos on classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id = '709' and atribuicaos.professor_id = 736 and atribuicaos.disciplina_id =1) [0m
  [4;35;1mAtribuicao Load (0.1ms)[0m   [0mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;36;1mAtribuicao Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mNota Load (0.3ms)[0m   [0mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `alunos` ON `alunos`.id = `notas`.aluno_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id =736 AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017 and notas.ativo is null) ORDER BY alunos.aluno_nome ASC[0m
  [4;36;1mNota Load (0.2ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `matriculas` ON `matriculas`.id = `notas`.matricula_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id =736 AND atribuicaos.disciplina_id=1 AND notas.ano_letivo=2017 and notas.ativo is null) ORDER BY matriculas.classe_num ASC[0m
Rendering template within layouts/application
Rendering notas/notas_lancamentos_multiplos
  [4;35;1mClasse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mUnidade Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;36;1mProfessor Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;35;1mNota Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mMatricula Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `matriculas`[0m
  [4;35;1mMatricula Load (0.3ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21265) [0m
  [4;36;1mAluno Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
  [4;35;1mAluno Load (0.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21266) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139103) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21267) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139115) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21268) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;35;1mObservacaoNota Load (0.4ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139127) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21269) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139139) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21271) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139163) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21272) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139175) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21273) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139187) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148784) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148797) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21274) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139199) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21275) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139211) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21276) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139223) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21277) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139235) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21278) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139247) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21279) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139259) [0m
  [4;36;1mMatricula Load (0.2ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21280) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139271) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21704) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139985) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21335) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139871) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21281) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139283) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21327) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139835) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21332) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139847) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23623) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 147706) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24064) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153262) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24786) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153957) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 26462) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 154399) [0m
  [4;36;1mInformativo Load (0.5ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:31:59' AND ends_at >= '2017-10-10 19:31:59') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:31:59' AND ends_at >= '2017-10-10 19:31:59') [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 502ms (View: 293, DB: 32) | 200 OK [http://localhost/voltar_lancamento_notas]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#lancamentos_notas (for 127.0.0.1 at 2017-10-10 16:32:08) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.1ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (2.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
Rendering template within layouts/application
Rendering notas/lancamentos_notas
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mClasse Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mInformativo Load (0.4ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:32:09' AND ends_at >= '2017-10-10 19:32:09') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:32:09' AND ends_at >= '2017-10-10 19:32:09') [0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 327ms (View: 32, DB: 8) | 200 OK [http://localhost/notas/lancamentos_notas]
  [4;35;1mAtribuicao Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#lancamentos_notas (for 127.0.0.1 at 2017-10-10 16:32:15) [GET]
  Parameters: {"classe"=>{"id"=>"709"}, "disciplina"=>"PORTUGUÊS", "professor"=>{"id"=>"736"}, "commit"=>"Visualizar"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mroles_users Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mClasse Load (0.2ms)[0m   [0mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mProfessor Load (0.2ms)[0m   [0mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;36;1mAluno Load (1.3ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;36;1mDisciplina Load (0.0ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.2ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (disciplina ='PORTUGUÊS') [0m
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT `classes`.* FROM `classes` inner join atribuicaos on classes.id = atribuicaos.classe_id WHERE (atribuicaos.classe_id = '709' and atribuicaos.professor_id = '736' and atribuicaos.disciplina_id =1) [0m
  [4;36;1mAtribuicao Load (0.0ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id ='736' and disciplina_id=1) [0m
  [4;35;1mAtribuicao Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT `notas`.* FROM `notas` INNER JOIN `atribuicaos` ON `atribuicaos`.id = `notas`.atribuicao_id INNER JOIN `matriculas` ON `matriculas`.id = `notas`.matricula_id WHERE (atribuicaos.classe_id ='709' AND atribuicaos.professor_id ='736' AND atribuicaos.disciplina_id=1 AND notas.ano_letivo = 2017) ORDER BY matriculas.classe_num ASC[0m
Rendering template within layouts/application
Rendering notas/lancamentos_notas
  [4;35;1mProfessor Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (`unidades`.`id` = 48) [0m
  [4;35;1mProfessor Load (0.1ms)[0m   [0mSELECT * FROM `professors` WHERE (`professors`.`id` = 736) [0m
  [4;36;1mDisciplina Load (0.1ms)[0m   [0;1mSELECT * FROM `disciplinas` WHERE (`disciplinas`.`id` = 1) [0m
  [4;35;1mClasse Load (0.1ms)[0m   [0mSELECT * FROM `classes` WHERE (`classes`.`id` = 709) [0m
  [4;36;1mNota Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `notas`[0m
  [4;35;1mMatricula Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `matriculas`[0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21265) [0m
  [4;35;1mAluno Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21266) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 403) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139103) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21267) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 11328) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139115) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21268) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1520) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139127) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21269) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 417) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139139) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21270) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139151) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21271) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 419) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139163) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21272) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13560) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139175) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21273) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 542) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139187) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148784) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21702) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 549) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 148797) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21274) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 521) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139199) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21275) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 553) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139211) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21276) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5282) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139223) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21277) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 576) [0m
  [4;35;1mObservacaoNota Load (0.3ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139235) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21278) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 575) [0m
  [4;36;1mObservacaoNota Load (0.1ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139247) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21279) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1574) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139259) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21280) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 589) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139271) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21704) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 6360) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139985) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21335) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1017) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139871) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21281) [0m
  [4;36;1mAluno Load (0.1ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 651) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139283) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21327) [0m
  [4;35;1mAluno Load (0.1ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 1735) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139835) [0m
  [4;35;1mMatricula Load (0.2ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 21332) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15224) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139847) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 23623) [0m
  [4;35;1mAluno Load (0.2ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 15817) [0m
  [4;36;1mObservacaoNota Load (0.2ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 147706) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24064) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 5325) [0m
  [4;35;1mObservacaoNota Load (0.2ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153262) [0m
  [4;36;1mMatricula Load (0.1ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 24786) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 7516) [0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 153957) [0m
  [4;35;1mMatricula Load (0.1ms)[0m   [0mSELECT * FROM `matriculas` WHERE (`matriculas`.`id` = 26462) [0m
  [4;36;1mAluno Load (0.2ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 17390) [0m
  [4;35;1mObservacaoNota Load (0.1ms)[0m   [0mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 154399) [0m
  [4;36;1mInformativo Load (0.7ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:32:15' AND ends_at >= '2017-10-10 19:32:15') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:32:15' AND ends_at >= '2017-10-10 19:32:15') [0m
  [4;36;1mUnidade Load (0.1ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
Completed in 541ms (View: 229, DB: 28) | 200 OK [http://localhost/notas/lancamentos_notas?professor%5Bid%5D=736&classe%5Bid%5D=709&disciplina=PORTUGU%C3%8AS&commit=Visualizar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing NotasController#edit (for 127.0.0.1 at 2017-10-10 16:32:20) [GET]
  Parameters: {"id"=>"139091", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mClasse Load (0.2ms)[0m   [0;1mSELECT * FROM `classes` WHERE (unidade_id = 48 and classe_ano_letivo = 2017 ) ORDER BY classe_classe ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mProfessor Load (0.1ms)[0m   [0;1mSELECT * FROM `professors` WHERE ( id = 736 AND desligado = 0) ORDER BY nome ASC[0m
  [4;35;1mAluno Load (1.5ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome ASC[0m
  [4;36;1mDisciplina Load (0.2ms)[0m   [0;1mSELECT * FROM `disciplinas` ORDER BY ordem ASC[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT * FROM `disciplinas` WHERE (curriculo != "I" ) ORDER BY ordem ASC[0m
  [4;36;1mAtribuicao Load (0.2ms)[0m   [0;1mSELECT * FROM `atribuicaos` WHERE (classe_id = '709' and professor_id =736 and disciplina_id=1) [0m
  [4;35;1mNota Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `notas`[0m
  [4;36;1mNota Load (0.1ms)[0m   [0;1mSELECT * FROM `notas` WHERE (`notas`.`id` = 139091) [0m
Rendering template within layouts/application
Rendering notas/edit
  [4;35;1mAluno Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
  [4;36;1mAluno Load (0.4ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (`alunos`.`id` = 13705) [0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mAtribuicao Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mObservacaoNota Load (0.3ms)[0m   [0;1mSELECT * FROM `observacao_notas` WHERE (`observacao_notas`.nota_id = 139091) [0m
Rendered notas/_observacoes (3.3ms)
Rendered notas/_form_observacao (2.7ms)
  [4;35;1mInformativo Load (0.5ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:32:20' AND ends_at >= '2017-10-10 19:32:20') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:32:20' AND ends_at >= '2017-10-10 19:32:20') [0m
  [4;35;1mUnidade Load (0.2ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 307ms (View: 50, DB: 11) | 200 OK [http://localhost/notas/139091/edit]
  [4;35;1mClasse Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-10 16:32:25) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (5.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:32:25' AND ends_at >= '2017-10-10 19:32:25') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:32:25' AND ends_at >= '2017-10-10 19:32:25') [0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.3ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 150ms (View: 33, DB: 12) | 200 OK [http://localhost/?]
  [4;35;1mAtribuicao Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mClasse Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoNotasController#new (for 127.0.0.1 at 2017-10-10 16:32:28) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mAluno Load (48.3ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mObservacaoNota Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `observacao_notas`[0m
Rendering template within layouts/application
Rendering observacao_notas/new
  [4;35;1mAluno Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m

ActionView::TemplateError (undefined method `map' for :id:Symbol) on line #36 of app/views/observacao_notas/new.html.erb:
33:                 <%if current_user.has_role?('professor_fundamental')%>
34:                     <tr>
35:                         <td width =" 5%"><b>Disciplina:</b></td>
36:                       <td><%= collection_select :disciplina_id, @disciplinas1, :id, :disciplina, :include_blank => ' -- Selecione -- ' %></td>
37:                     </tr>
38:                  <%end%>
39:                  <tr bgcolor="#F5F5F5">

    app/views/observacao_notas/new.html.erb:36
    app/views/observacao_notas/new.html.erb:11
    app/controllers/observacao_notas_controller.rb:32:in `new'

Rendered rescues/_trace (27.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mAtribuicao Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mClasse Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2017-10-10 16:34:39) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mInformativo Load (0.4ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:34:40' AND ends_at >= '2017-10-10 19:34:40') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:34:40' AND ends_at >= '2017-10-10 19:34:40') [0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUnidade Load (0.1ms)[0m   [0mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;36;1mUnidade Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `unidades`[0m
Completed in 144ms (View: 109, DB: 5) | 200 OK [http://localhost/]
  [4;35;1mAtribuicao Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mClasse Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoNotasController#new (for 127.0.0.1 at 2017-10-10 16:34:43) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mAluno Load (1.4ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mDisciplina Load (0.1ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mObservacaoNota Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `observacao_notas`[0m
Rendering template within layouts/application
Rendering observacao_notas/new
  [4;35;1mAluno Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;36;1mDisciplina Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m

ActionView::TemplateError (undefined method `map' for :id:Symbol) on line #36 of app/views/observacao_notas/new.html.erb:
33:                 <%if current_user.has_role?('professor_fundamental')%>
34:                     <tr>
35:                         <td width =" 5%"><b>Disciplina:</b></td>
36:                       <td><%= collection_select :disciplina_id, @disciplinas1, :id, :disciplina, :include_blank => ' -- Selecione -- ' %></td>
37:                     </tr>
38:                  <%end%>
39:                  <tr bgcolor="#F5F5F5">

    app/views/observacao_notas/new.html.erb:36
    app/views/observacao_notas/new.html.erb:11
    app/controllers/observacao_notas_controller.rb:32:in `new'

Rendered rescues/_trace (28.3ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mAtribuicao Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mClasse Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoNotasController#new (for 127.0.0.1 at 2017-10-10 16:37:31) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mAluno Load (3.5ms)[0m   [0;1mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;35;1mroles_users Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mDisciplina Load (0.3ms)[0m   [0;1mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;35;1mObservacaoNota Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `observacao_notas`[0m
Rendering template within layouts/application
Rendering observacao_notas/new
  [4;36;1mAluno Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `alunos`[0m
Exception occurred during reader method compilation.
Maybe  updated_at is not a valid Ruby identifier?
compile error
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ':', expecting ')'
              write_attribute(: updated_at, time)
                               ^
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/attribute_methods.rb:216: syntax error, unexpected ')', expecting '='
  [4;35;1mDisciplina Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `disciplinas`[0m
  [4;36;1mInformativo Load (0.6ms)[0m   [0;1mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:37:31' AND ends_at >= '2017-10-10 19:37:31') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `informativos` WHERE (updated_at > '2017-10-10 17:39:56') AND (starts_at <= '2017-10-10 19:37:31' AND ends_at >= '2017-10-10 19:37:31') [0m
  [4;36;1mUnidade Load (0.2ms)[0m   [0;1mSELECT * FROM `unidades` WHERE (id=48) [0m
  [4;35;1mUnidade Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `unidades`[0m
Completed in 343ms (View: 145, DB: 15) | 200 OK [http://localhost/observacao_notas/new]
  [4;36;1mAtribuicao Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `atribuicaos`[0m
  [4;35;1mClasse Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `classes`[0m
  [4;36;1mProfessor Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `professors`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ObservacaoNotasController#aluno_classe (for 127.0.0.1 at 2017-10-10 16:37:36) [POST]
  Parameters: {"observacao_nota_aluno_id"=>"17403", "authenticity_token"=>"wI4SZW4Jqk/BsvJeSFbAZfNRQdtQW1XCJXIyfzzybbY="}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mAluno Load (1.9ms)[0m   [0mSELECT * FROM `alunos` WHERE (unidade_id=48 AND aluno_status is null) ORDER BY aluno_nome[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 2 ) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mDisciplina Load (0.3ms)[0m   [0mSELECT DISTINCT disciplinas.disciplina FROM disciplinas INNER JOIN atribuicaos ON atribuicaos.disciplina_id = disciplinas.id WHERE atribuicaos.professor_id = 736 AND atribuicaos.ano_letivo = 2017[0m
  [4;36;1mMatricula Load (24.7ms)[0m   [0;1mSELECT * FROM `matriculas` WHERE (aluno_id ='17403' and ano_letivo = 2017) [0m
Rendered observacao_notas/_aluno_classe (1.3ms)
Completed in 263ms (View: 8, DB: 30) | 200 OK [http://localhost/observacao_notas/aluno_classe]
  [4;35;1mAtribuicao Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `atribuicaos`[0m
  [4;36;1mClasse Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `classes`[0m
  [4;35;1mProfessor Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `professors`[0m
  [4;36;1mDisciplina Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `disciplinas`[0m
